<?xml version="1.0" encoding="UTF-8"?>
<Document>
 <Model version="4.1" build="4.1.4.1">
  <Sidops><![CDATA[model 128 184
 description '<Description>
   <Version>4.1</Version>
<IsMainModel>0</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>C:\users\yury\My Documents\workspaces\Ubuntu_shared\ut_git\20SimModels\Tests\RCCMotionStack_self_test.emx</LibraryPath>
  <TimeStamp>2012-4-11 11:53:33</TimeStamp>
</Description>';
 type 'Mainmodel-d04c'
 end;
 implementation bg
  submodels
   Executive 104 536
    description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
    type Submodel
     ports
      signal out setPoint [8,1];
      signal out setPoint1 [6,1];
    end;
    icon bg
     figures
      rectangle 61.5 444.5 146.5 627.5 fill 14013909;
      text 'name' 98.5 539.5 16;
      text 'STUB' 96 464 'Bank Gothic' 20 bold;
     terminals
      setPoint 144 464 fixed;
      setPoint1 152 592 fixed;
    end;
    implementation bg
     submodels
      CartesianSpace 160 184
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Sources\Constant.emx</LibraryPath>
 <TimeStamp>2007-10-19 14:48:44</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type Constant
        ports
         signal out setPoint [6,1];
       end;
       icon bg bottom
        figures
         rectangle 144.1 168 175.9 200 fill 15132390;
         line 148.9 179.6 170.9 179.6 color 16711680 width 2;
         line 146.2 190.7 171.9 190.7;
         line 148.5 174.7 148.5 193;
       end;
       implementation eq
parameters
	real C[6,6] = [
			0.0, 0.0, 0, 0.0, 0.0, 0.4;
			0.0, 0.0, 0, 0.0, 1.0, 0.53;
			0.0, 0.0, 0, 0.0, 1.0, 0.53;
			0.0, 0.0, 0, 0.0, 1.0, 0.53;
			0.0, 0.0, 0, 0.0, 1.0, 0.53;
			0.0, 0.0, 0, 0.0, 1.0, 0.53];		//*Base_H// output value
variables
  integer	taskTime;
  integer TimePeriod;

equations

/*
taskTime=50;
TimePeriod= time div taskTime+1;
if TimePeriod<=6 then
	setPoint = transpose(C[TimePeriod,1:6]);//+[0.3*cos(0.1*time);0.3*sin(0.1*time);0.1*sin(0.1*time);0;0;0];
  else
	setPoint = transpose(C[1,1:6]);
end;*/
setPoint=transpose(C[1,1:6])+[0;0;0;sin(time*0.01);cos(time*0.01);0];
/*
variables
//	real Rz[3,3];
//	real Ry[3,3];
//	real Rx[3,3];
	real R[3,3];
	real qw,qx,qy,qz;
equations

/*	Rz=[cos(xyzrpy[5]), sin(xyzrpy[5]), 0; -sin(xyzrpy[5]), cos(xyzrpy[5]), 0; 0, 0, 1];
	Ry=[cos(xyzrpy[4]), 0, -sin(xyzrpy[4]); 0, 1, 0; sin(xyzrpy[4]), 0, cos(xyzrpy[4])];
	Rx=[1, 0, 0; 0, cos(xyzrpy[6]), sin(xyzrpy[6]); 0, -sin(xyzrpy[6]), cos(xyzrpy[6])];
	
output=homogeneous(Rx*Ry*Rz,xyzrpy[1:3]);*/

//Rodrigues formula
/*
qw = xyzQuart[7];
qx = xyzQuart[4];
qy = xyzQuart[5];
qz = xyzQuart[6];

R = [qw^2 + qx^2 - qy^2 - qz^2, 2*qx*qy - 2*qz*qw, 2*qx*qz + 2*qy*qw;
2*qx*qy + 2*qz*qw, qw^2 - qx^2 + qy^2 - qz^2, 2*qy*qz - 2*qx*qw;
2*qx*qz - 2*qy*qw,  2*qy*qz + 2*qx*qw, qw^2 - qx^2 - qy^2 + qz^2];


//	R = eye(3) + skew(xyzQuart[4:6])*sin(xyzQuart[7]) + skew(xyzQuart[4:6])*skew(xyzQuart[4:6])*(1-cos(xyzQuart[7]));
		

	output = homogeneous(R,xyzQuart[1:3]);
     */implementation_end;
      JointSpaceSetpoint 160 368
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Sources\Constant.emx</LibraryPath>
 <TimeStamp>2007-10-19 14:48:44</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type Constant
        ports
         signal out setPoint [8,1];
       end;
       icon bg top
        figures
         rectangle 144.1 352 175.9 384 fill 15132390;
         line 148.9 363.6 170.9 363.6 color 16711680 width 2;
         line 146.2 374.7 171.9 374.7;
         line 148.5 358.7 148.5 377;
       end;
       implementation eq
parameters
	real C[8] = [0.3;0.3;0.3;0; 0; 0; 0; 0];
equations
	setPoint =C;


implementation_end;
      plug setPoint 552 368;
      plug setPoint1 264 184;
     end;
     connections
      JointSpaceSetpoint\setPoint -> setPoint;
      CartesianSpace\setPoint -> setPoint1;
     end;
    implementation_end;
   FSM 112 296
    description '<Description>
 <Version>4.0</Version>
 <LibraryPath>C:\Program Files\20-sim 4.0\System\Submodel.emx</LibraryPath>
 <TimeStamp>2007-10-31 11:32:54</TimeStamp>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
    type Submodel
    end;
    icon bg
     figures
      rectangle 75 250 141 368 fill 14013909;
      text 'rFSM
' 109 312 20 bold;
      line 149 224 141 232 149 232 141 248 141 240 149 240 141 248 149 240;
      text 'STUB' 104 264 'Bank Gothic' 20 bold;
    end;
   GravityImitation 944 520
    description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
 <LibraryPath>youBot_GravityCompensation.emx</LibraryPath>
 <TimeStamp>2011-1-21 10:13:56</TimeStamp>
</Description>';
    type Submodel
     ports
      power out joints [9,1];
     parameters
      real InitialJointPos[5,1] = [-2.9496; -1.13; 2.5482; -1.789; -2.9234];
      real LinkCOMdim[3,6] = [0.01489, 0.10453, 0.001, 0.011, 0.0, 0.0; 0.00213, 0.0017, 0.0967, 0.05103, 0.00115, 0.0; 0.00213, -0.00297, 0.02107, -0.02319, -0.01683, 0.001];
      real Linkdim[3,6] = [0.024, 0.033, 0.0, 0.0, 0.0, 0.0; 0.0, 0.0, 0.0, 0.0, 0.0, 0.0; 0.096, 0.019, 0.155, 0.135, 0.096, 0.034];
      real Linkm[6,1] = [20.0; 2.412; 1.155; 0.934; 0.877; 1.121];
    end;
    icon bg bottom
     figures
      rectangle 889.5 481 998.5 559 fill 11206638;
      text '     youBot
     Gravity
Compensation' 942.5 521 16;
    end;
    implementation bg
     submodels
      Base 368 504
       description '<Description>
   <Version>4.1</Version>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <LibraryPath>Link_GravityCompensation.emx</LibraryPath>
  <TimeStamp>2011-1-19 11:37:47</TimeStamp>
<Description>Base</Description>
</Description>';
       type Submodel
        ports
         power out p [6,1];
         signal in Hin [4,4];
         power in p1 [6,1];
         signal out Hout [4,4];
        parameters
         real m = 20.0;
         real COMdim[3,1] = [0.01489; 0.00213; 0.00213];
         real dim[3,1] = [0.024; 0.0; 0.096];
       end;
       icon bg bottom
        figures
         rectangle 336 432 400 576 fill 10025880;
         text 'Link
GC' 368 504;
        terminals
         p 336 464 fixed;
         Hin 336 544 fixed;
         p1 400 464 fixed;
         Hout 400 544 fixed;
       end;
       implementation bg
        submodels
         AdHi0 664 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type MTF
           ports
            power in p1 [6,1];
            power out p2 [6,1];
            signal in H [4,4];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg left
           figures
            text 'MTF' 664 416 18 bold;
          end;
          implementation eq
variables
 	real onlyRotH[4,4];
code
	//Only rotations with respect to the inertial system matter!
	onlyRotH = H;
	onlyRotH[1,4] = 0;
	onlyRotH[2,4] = 0;
	onlyRotH[3,4] = 0;
						
	p2.e = transpose(Adjoint(onlyRotH)) * p1.e;
	p1.f = Adjoint(onlyRotH) * p2.f;
implementation_end;
         AdHij 816 304
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type MTF
           ports
            power out p1 [6,1];
            power in p2 [6,1];
            signal in H [4,4];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg top
           figures
            text 'MTF' 816 304 18 bold;
          end;
          implementation eq
equations
	//Only rotations with respect to the inertial system matter!
						
	p1.e = transpose(Adjoint(H)) * p2.e;
	p2.f = Adjoint(H) * p1.f;
implementation_end;
         AdHik1 664 368
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type TF
           ports
            power out p1 [6,1];
            power in p2 [6,1];
           restrictions
            causality constraint not_equal p1 p2;
           parameters
            real COMdim[3,1] = [0.01489; 0.00213; 0.00213];
          end;
          icon bg left
           figures
            text 'TF' 664 368 18 bold;
          end;
          implementation eq
//Principal inertial frame connected in port 2
variables
	real d[3]; //distance between frames
	real R[3,3]; //rotation between frames

	real H[4,4]; //homogeneous matrix
	real AdH[6,6]; //Adjoint of homogeneous matrix
equations
	d = COMdim; //distance of 1 in z direction of frames
	R = eye(3); //no rotation

	H = homogeneous(R,d);
	AdH = Adjoint(H);

	p1.f = AdH * p2.f; 
	p2.e = transpose(AdH) * p1.e;
implementation_end;
         Gravity 776 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\Se.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:26</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Se
           ports
            power out p [6,1];
           restrictions
            causality fixed out p;
           parameters
            real m = 20.0;
          end;
          icon bg bottom
           figures
            text 'Se' 776 416 18 bold;
          end;
          implementation eq
variables
	real effort[6];
equations
	effort = [0;0;0;0;0;9.8*m];
	p.e = effort;
implementation_end;
         Hij 816 496
          description '<Description>
   <Version>4.1</Version>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>H.emx</LibraryPath>
  <TimeStamp>2010-9-21 15:03:50</TimeStamp>
<AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Gain
           ports
            signal in input [4,4];
            signal out output [4,4];
            signal out Hab [4,4];
           parameters
            real dim[3,1] = [0.024; 0.0; 0.096];
          end;
          icon bg bottom
           figures
            rectangle 800.1 480 831.9 512 fill 15132390;
            text 'H' 816 496 color 16711680 16 bold;
          end;
          implementation eq
equations
	Hab = homogeneous(eye(3),dim);
	output = input * Hab;
    implementation_end;
         plug Hin 592 496;
         plug p1 904 304;
         plug Hout 896 496;
         plug p 592 304;
         Splitter1 664 496
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [4,4];
            signal knot in input [4,4];
          end;
          icon bg ellipse
           figures
            ellipse 660.8 492.8 667.2 499.2 color -1 fill 0;
            ellipse 659.7 491.7 668.3 500.3 color -1;
           terminals
            input 664 496 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
         Ta00 720 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out flow [6,1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg bottom
           figures
            text '1' 720 416 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         Ta0i 664 304
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <Description></Description>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out flow [6,1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg bottom
           figures
            text '1' 664 304 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
        end;
        connections
         Ta0i\p <= AdHik1\p1;
         AdHi0\p2 => AdHik1\p2;
         Gravity\p => Ta00\p;
         p <= Ta0i\p;
         Ta0i\p <= AdHij\p1;
         p1 => AdHij\p2;
         Ta00\p => AdHi0\p1;
         Hin -> Splitter1\input;
         Hij\output -> Hout;
         Splitter1\output -> Hij\input;
         Splitter1\output -> AdHi0\H;
         Hij\Hab -> AdHij\H;
        end;
        parameterrelations
AdHik1\COMdim = COMdim;
Hij\dim = dim;
Gravity\m=m;parameterrelations_end;
        figures
         text 'b = current link (body)
a = previous link (body)
i = Body fixed frame, fixed in joint with previous link
j = Body fixed frame, fixed in joint with next link
k = Body fixed frame, principal inertial frame
0 = inertial system
 ' 416 376;
       implementation_end;
      Hfloor0 272 544
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Sources\Constant.emx</LibraryPath>
 <TimeStamp>2007-10-19 14:48:44</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type Constant
        ports
         signal out output [4,4];
       end;
       icon bg bottom
        figures
         rectangle 256.1 528 287.9 560 fill 15132390;
         line 260.9 539.6 282.9 539.6 color 16711680 width 2;
         line 258.2 550.7 283.9 550.7;
         line 260.5 534.7 260.5 553;
       end;
       implementation eq
equations
	output = eye(4);
     implementation_end;
      Htip0 1248 544
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\SignalMonitor.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:14:4</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type SignalMonitor
        ports
         signal in input [4,4];
       end;
       icon bg bottom
        figures
         rectangle 1232 528 1264 560 fill 15132390;
         rectangle 1237.7 533.8 1258.3 554.6 color 16711680 fill 11776947 width 2;
         rectangle 1239.8 536.4 1255.9 552 color -1 fill 16777215;
         line 1241.9 538.7 1241.9 550 fill 16777215;
         line 1240 548.4 1252.5 548.4 fill 16777215;
         line 1241.5 548.1 1254.4 541.7 color 255 fill 16777215;
       end;
       implementation eq

   implementation_end;
      Joint12 608.2 504
       description '<Description>
   <Version>4.1</Version>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <LibraryPath>Joint-roty_GravityCompensation.emx</LibraryPath>
  <TimeStamp>2011-1-19 11:38:03</TimeStamp>
</Description>';
       type 'Submodel-roty'
        ports
         power out p [6,1];
         power in p1;
         power in p2 [6,1];
         signal in Hin [4,4];
         signal out Hout [4,4];
        parameters
         real InitialPos = -1.13;
       end;
       icon bg bottom
        figures
         rectangle 576.4 432 639.9 576 fill 14745599;
         text 'Joint-roty
   GC' 608.4 507 fill 14745599;
        terminals
         p 575.9 464 fixed;
         p1 607.4 432 fixed;
         p2 639.9 464 fixed;
         Hin 575.9 544 fixed;
         Hout 639.9 544 fixed;
       end;
       implementation bg
        submodels
         AdHji 424 424
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type MTF
           ports
            power out p1 [6,1];
            power in p2 [6,1];
            signal in H [4,4];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg bottom
           figures
            text 'MTF' 424 424 18 bold;
          end;
          implementation eq
equations					
	p2.e = transpose(Adjoint(H)) * p1.e;
	p1.f = Adjoint(H) * p2.f;implementation_end;
         Integrate 320 336
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:3:23</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Integrate
           ports
            signal in input;
            signal out output [4,4];
           parameters
            real init = -1.13;
          end;
          icon bg
           figures
            rectangle 304 320 336 352 fill 15132390;
            text 'ò' 320 333.3 color 16711680 'SymbolProp BT' 21 symbol;
          end;
          implementation eq
variables
	real R[3,3];
	real p[3];
	real q;
equations
q = int(input,init);
R = [	cos(q),	0,	sin(q);
			0,				1,	0;
			-sin(q),	0,	cos(q)];
p = [0;0;0];
output = homogeneous(R,p);
	
     implementation_end;
         MatrixMul 320 496
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:15:12</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Gain
           ports
            signal in input1 [4,4];
            signal out output [4,4];
            signal in input2 [4,4];
          end;
          icon bg bottom
           figures
            rectangle 304.1 480 335.9 512 fill 15132390;
            text 'X' 320 496 color 16711680 16 bold;
          end;
          implementation eq
equations
	output = input2*input1;    implementation_end;
         plug p1 240 56;
         plug p2 496 424;
         plug Hin 112 496;
         plug Hout 504 496;
         plug p 112 424;
         OneJunction 240 272
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:18</TimeStamp>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 240 272 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         Splitter2 320 368
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [4,4];
            signal knot in input [4,4];
          end;
          icon bg ellipse
           figures
            ellipse 316.8 364.8 323.2 371.2 color -1 fill 0;
            ellipse 315.7 363.7 324.3 372.3 color -1;
           terminals
            input 320 368 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
         Tbai 240 384
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out flow [6,1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg left
           figures
            text '1' 240 384 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         uTbai 240 328
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type TF
           ports
            power in p1;
            power out p2 [6,1];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg left
           figures
            text 'TF' 240 328 18 bold;
          end;
          implementation eq
equations
	p2.f = [0;p1.f;0;0;0;0];
	p1.e = p2.e[2];
implementation_end;
         Wbai 240 424
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:43</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          knot ZeroJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out effort [6,1];
           restrictions
            causality constraint one_in p;
          end;
          icon bg bottom
           figures
            text '0' 240 424 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
         ZeroJunction 240 104
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:43</TimeStamp>
</Description>';
          knot ZeroJunction
           ports
            power knot duplicatable none p [1];
            signal knot out effort [1];
           restrictions
            causality constraint one_in p;
          end;
          icon bg
           figures
            text '0' 240 104 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
        end;
        connections
         p1 => ZeroJunction\p;
         uTbai\p2 => Tbai\p;
         Tbai\p => Wbai\p;
         p <= Wbai\p;
         ZeroJunction\p => OneJunction\p;
         OneJunction\p => uTbai\p1;
         Wbai\p <= AdHji\p1;
         p2 => AdHji\p2;
         MatrixMul\output -> Hout;
         Hin -> MatrixMul\input2;
         Integrate\output -> Splitter2\input;
         Splitter2\output -> MatrixMul\input1;
         OneJunction\flow -> Integrate\input 320 272;
         Splitter2\output -> AdHji\H 424 368;
        end;
        parameterrelations
Integrate\init = InitialPos;parameterrelations_end;
        figures
         text 'b = next link (body)
a = previous link (body)
i = Frame fixed in previous body, fixed in joint
j = Frame fixed in next body, fixed in joint
 ' 744 400;
       implementation_end;
      Joint23 768.2 504
       description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
 <LibraryPath>Joint-roty_GravityCompensation.emx</LibraryPath>
 <TimeStamp>2011-1-19 11:38:03</TimeStamp>
</Description>';
       type 'Submodel-roty'
        ports
         power out p [6,1];
         power in p1;
         power in p2 [6,1];
         signal in Hin [4,4];
         signal out Hout [4,4];
        parameters
         real InitialPos = 2.5482;
       end;
       icon bg bottom
        figures
         rectangle 736.4 432 799.9 576 fill 14745599;
         text 'Joint-roty
   GC' 768.4 507 fill 14745599;
        terminals
         p 735.9 464 fixed;
         p1 767.4 432 fixed;
         p2 799.9 464 fixed;
         Hin 735.9 544 fixed;
         Hout 799.9 544 fixed;
       end;
       implementation bg
        submodels
         AdHji 424 424
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type MTF
           ports
            power out p1 [6,1];
            power in p2 [6,1];
            signal in H [4,4];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg bottom
           figures
            text 'MTF' 424 424 18 bold;
          end;
          implementation eq
equations					
	p2.e = transpose(Adjoint(H)) * p1.e;
	p1.f = Adjoint(H) * p2.f;implementation_end;
         Integrate 320 336
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:3:23</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Integrate
           ports
            signal in input;
            signal out output [4,4];
           parameters
            real init = 2.5482;
          end;
          icon bg
           figures
            rectangle 304 320 336 352 fill 15132390;
            text 'ò' 320 333.3 color 16711680 'SymbolProp BT' 21 symbol;
          end;
          implementation eq
variables
	real R[3,3];
	real p[3];
	real q;
equations
q = int(input,init);
R = [	cos(q),	0,	sin(q);
			0,				1,	0;
			-sin(q),	0,	cos(q)];
p = [0;0;0];
output = homogeneous(R,p);
	
     implementation_end;
         MatrixMul 320 496
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:15:12</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Gain
           ports
            signal in input1 [4,4];
            signal out output [4,4];
            signal in input2 [4,4];
          end;
          icon bg bottom
           figures
            rectangle 304.1 480 335.9 512 fill 15132390;
            text 'X' 320 496 color 16711680 16 bold;
          end;
          implementation eq
equations
	output = input2*input1;    implementation_end;
         plug p1 240 56;
         plug p2 496 424;
         plug Hin 112 496;
         plug Hout 504 496;
         plug p 112 424;
         OneJunction 240 272
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:18</TimeStamp>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 240 272 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         Splitter2 320 368
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [4,4];
            signal knot in input [4,4];
          end;
          icon bg ellipse
           figures
            ellipse 316.8 364.8 323.2 371.2 color -1 fill 0;
            ellipse 315.7 363.7 324.3 372.3 color -1;
           terminals
            input 320 368 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
         Tbai 240 384
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out flow [6,1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg left
           figures
            text '1' 240 384 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         uTbai 240 328
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type TF
           ports
            power in p1;
            power out p2 [6,1];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg left
           figures
            text 'TF' 240 328 18 bold;
          end;
          implementation eq
equations
	p2.f = [0;p1.f;0;0;0;0];
	p1.e = p2.e[2];
implementation_end;
         Wbai 240 424
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:43</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          knot ZeroJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out effort [6,1];
           restrictions
            causality constraint one_in p;
          end;
          icon bg bottom
           figures
            text '0' 240 424 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
         ZeroJunction 240 104
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:43</TimeStamp>
</Description>';
          knot ZeroJunction
           ports
            power knot duplicatable none p [1];
            signal knot out effort [1];
           restrictions
            causality constraint one_in p;
          end;
          icon bg
           figures
            text '0' 240 104 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
        end;
        connections
         p1 => ZeroJunction\p;
         uTbai\p2 => Tbai\p;
         Tbai\p => Wbai\p;
         p <= Wbai\p;
         ZeroJunction\p => OneJunction\p;
         OneJunction\p => uTbai\p1;
         Wbai\p <= AdHji\p1;
         p2 => AdHji\p2;
         MatrixMul\output -> Hout;
         Hin -> MatrixMul\input2;
         Integrate\output -> Splitter2\input;
         Splitter2\output -> MatrixMul\input1;
         OneJunction\flow -> Integrate\input 320 272;
         Splitter2\output -> AdHji\H 424 368;
        end;
        parameterrelations
Integrate\init = InitialPos;parameterrelations_end;
        figures
         text 'b = next link (body)
a = previous link (body)
i = Frame fixed in previous body, fixed in joint
j = Frame fixed in next body, fixed in joint
 ' 744 400;
       implementation_end;
      Joint34 928.2 504
       description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
 <LibraryPath>Joint-roty_GravityCompensation.emx</LibraryPath>
 <TimeStamp>2011-1-19 11:38:03</TimeStamp>
</Description>';
       type 'Submodel-roty'
        ports
         power out p [6,1];
         power in p1;
         power in p2 [6,1];
         signal in Hin [4,4];
         signal out Hout [4,4];
        parameters
         real InitialPos = -1.789;
       end;
       icon bg bottom
        figures
         rectangle 896.4 432 959.9 576 fill 14745599;
         text 'Joint-roty
   GC' 928.4 507 fill 14745599;
        terminals
         p 895.9 464 fixed;
         p1 927.4 432 fixed;
         p2 959.9 464 fixed;
         Hin 895.9 544 fixed;
         Hout 959.9 544 fixed;
       end;
       implementation bg
        submodels
         AdHji 424 424
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type MTF
           ports
            power out p1 [6,1];
            power in p2 [6,1];
            signal in H [4,4];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg bottom
           figures
            text 'MTF' 424 424 18 bold;
          end;
          implementation eq
equations					
	p2.e = transpose(Adjoint(H)) * p1.e;
	p1.f = Adjoint(H) * p2.f;implementation_end;
         Integrate 320 336
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:3:23</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Integrate
           ports
            signal in input;
            signal out output [4,4];
           parameters
            real init = -1.789;
          end;
          icon bg
           figures
            rectangle 304 320 336 352 fill 15132390;
            text 'ò' 320 333.3 color 16711680 'SymbolProp BT' 21 symbol;
          end;
          implementation eq
variables
	real R[3,3];
	real p[3];
	real q;
equations
q = int(input,init);
R = [	cos(q),	0,	sin(q);
			0,				1,	0;
			-sin(q),	0,	cos(q)];
p = [0;0;0];
output = homogeneous(R,p);
	
     implementation_end;
         MatrixMul 320 496
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:15:12</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Gain
           ports
            signal in input1 [4,4];
            signal out output [4,4];
            signal in input2 [4,4];
          end;
          icon bg bottom
           figures
            rectangle 304.1 480 335.9 512 fill 15132390;
            text 'X' 320 496 color 16711680 16 bold;
          end;
          implementation eq
equations
	output = input2*input1;    implementation_end;
         plug p1 240 56;
         plug p2 496 424;
         plug Hin 112 496;
         plug Hout 504 496;
         plug p 112 424;
         OneJunction 240 272
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:18</TimeStamp>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 240 272 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         Splitter2 320 368
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [4,4];
            signal knot in input [4,4];
          end;
          icon bg ellipse
           figures
            ellipse 316.8 364.8 323.2 371.2 color -1 fill 0;
            ellipse 315.7 363.7 324.3 372.3 color -1;
           terminals
            input 320 368 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
         Tbai 240 384
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out flow [6,1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg left
           figures
            text '1' 240 384 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         uTbai 240 328
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type TF
           ports
            power in p1;
            power out p2 [6,1];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg left
           figures
            text 'TF' 240 328 18 bold;
          end;
          implementation eq
equations
	p2.f = [0;p1.f;0;0;0;0];
	p1.e = p2.e[2];
implementation_end;
         Wbai 240 424
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:43</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          knot ZeroJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out effort [6,1];
           restrictions
            causality constraint one_in p;
          end;
          icon bg bottom
           figures
            text '0' 240 424 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
         ZeroJunction 240 104
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:43</TimeStamp>
</Description>';
          knot ZeroJunction
           ports
            power knot duplicatable none p [1];
            signal knot out effort [1];
           restrictions
            causality constraint one_in p;
          end;
          icon bg
           figures
            text '0' 240 104 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
        end;
        connections
         p1 => ZeroJunction\p;
         uTbai\p2 => Tbai\p;
         Tbai\p => Wbai\p;
         p <= Wbai\p;
         ZeroJunction\p => OneJunction\p;
         OneJunction\p => uTbai\p1;
         Wbai\p <= AdHji\p1;
         p2 => AdHji\p2;
         MatrixMul\output -> Hout;
         Hin -> MatrixMul\input2;
         Integrate\output -> Splitter2\input;
         Splitter2\output -> MatrixMul\input1;
         OneJunction\flow -> Integrate\input 320 272;
         Splitter2\output -> AdHji\H 424 368;
        end;
        parameterrelations
Integrate\init = InitialPos;parameterrelations_end;
        figures
         text 'b = next link (body)
a = previous link (body)
i = Frame fixed in previous body, fixed in joint
j = Frame fixed in next body, fixed in joint
 ' 744 400;
       implementation_end;
      Joint45 1088.2 504
       description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
 <LibraryPath>Joint-rotz_GravityCompensation.emx</LibraryPath>
 <TimeStamp>2011-1-19 11:37:54</TimeStamp>
</Description>';
       type 'Submodel-rotz'
        ports
         power out p [6,1];
         power in p1;
         power in p2 [6,1];
         signal in Hin [4,4];
         signal out Hout [4,4];
        parameters
         real InitialPos = -2.9234;
       end;
       icon bg bottom
        figures
         rectangle 1056.4 432 1119.9 576 fill 14745599;
         text 'Joint-rotz
   GC' 1088.4 507 fill 14745599;
        terminals
         p 1055.9 464 fixed;
         p1 1087.4 432 fixed;
         p2 1119.9 464 fixed;
         Hin 1055.9 544 fixed;
         Hout 1119.9 544 fixed;
       end;
       implementation bg
        submodels
         AdHji 424 424
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type MTF
           ports
            power out p1 [6,1];
            power in p2 [6,1];
            signal in H [4,4];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg bottom
           figures
            text 'MTF' 424 424 18 bold;
          end;
          implementation eq
equations					
	p2.e = transpose(Adjoint(H)) * p1.e;
	p1.f = Adjoint(H) * p2.f;implementation_end;
         Integrate 320 288
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:3:23</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Integrate
           ports
            signal in input;
            signal out output [4,4];
           parameters
            real init = -2.9234;
          end;
          icon bg
           figures
            rectangle 304 272 336 304 fill 15132390;
            text 'ò' 320 285.3 color 16711680 'SymbolProp BT' 21 symbol;
          end;
          implementation eq
variables
	real R[3,3];
	real p[3];
	real q;
equations
q = int(input,init);
R = [	cos(-q),	-sin(-q),	0;
			sin(-q),	cos(-q),	0;
			0,				0,				1];
p = [0;0;0];
output = homogeneous(R,p);
	
     implementation_end;
         MatrixMul 320 576
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:15:12</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Gain
           ports
            signal in input1 [4,4];
            signal out output [4,4];
            signal in input2 [4,4];
          end;
          icon bg bottom
           figures
            rectangle 304.1 560 335.9 592 fill 15132390;
            text 'X' 320 576 color 16711680 16 bold;
          end;
          implementation eq
equations
	output = input2*input1;    implementation_end;
         plug p1 240 40;
         plug p2 496 424;
         plug Hin 112 576;
         plug Hout 504 576;
         plug p 112 424;
         OneJunction 240 288
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:18</TimeStamp>
</Description>';
          knot OneJunction
           ports
            mechanical knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 240 288 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         Splitter2 320 368
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [4,4];
            signal knot in input [4,4];
          end;
          icon bg ellipse
           figures
            ellipse 316.8 364.8 323.2 371.2 color -1 fill 0;
            ellipse 315.7 363.7 324.3 372.3 color -1;
           terminals
            input 320 368 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
         uTbai 240 336
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type TF
           ports
            power in p1;
            power out p2 [6,1];
           restrictions
            causality constraint not_equal p1 p2;
            causality fixed out p1;
            causality fixed in p2;
          end;
          icon bg left
           figures
            text 'TF' 240 336 18 bold;
          end;
          implementation eq
equations
	p1.e = p2.e[3];
	p2.f = [0;0;p1.f;0;0;0];
implementation_end;
         Wbai 240 424
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:43</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          knot ZeroJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out effort [6,1];
           restrictions
            causality constraint one_in p;
          end;
          icon bg bottom
           figures
            text '0' 240 424 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
         ZeroJunction 240 104
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:43</TimeStamp>
</Description>';
          knot ZeroJunction
           ports
            mechanical knot duplicatable none p [1];
            signal knot out effort [1];
           restrictions
            causality constraint one_in p;
          end;
          icon bg
           figures
            text '0' 240 104 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
        end;
        connections
         uTbai\p1 <= OneJunction\p;
         Wbai\p <= AdHji\p1;
         p2 => AdHji\p2;
         ZeroJunction\p => OneJunction\p;
         p1 => ZeroJunction\p;
         uTbai\p2 => Wbai\p;
         p <= Wbai\p;
         OneJunction\flow -> Integrate\input 288 288;
         Splitter2\output -> AdHji\H 424 368;
         MatrixMul\output -> Hout;
         Hin -> MatrixMul\input2;
         Integrate\output -> Splitter2\input;
         Splitter2\output -> MatrixMul\input1;
        end;
        parameterrelations
Integrate\init = InitialPos;

parameterrelations_end;
        figures
         text 'b = next link (body)
a = previous link (body)
i = Frame fixed in previous body, fixed in joint
j = Frame fixed in next body, fixed in joint
 ' 680 488;
       implementation_end;
      JointBase1 448.2 504
       description '<Description>
   <Version>4.1</Version>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <LibraryPath>Joint-rotz_GravityCompensation.emx</LibraryPath>
  <TimeStamp>2011-1-21 10:09:48</TimeStamp>
</Description>';
       type 'Submodel-rotz'
        ports
         power out p [6,1];
         power in p1;
         power in p2 [6,1];
         signal in Hin [4,4];
         signal out Hout [4,4];
        parameters
         real InitialPos = -2.9496;
       end;
       icon bg bottom
        figures
         rectangle 416.4 432 479.9 576 fill 14745599;
         text 'Joint-rotz
   GC' 448.4 507 fill 14745599;
        terminals
         p 415.9 464 fixed;
         p1 447.4 432 fixed;
         p2 479.9 464 fixed;
         Hin 415.9 544 fixed;
         Hout 479.9 544 fixed;
       end;
       implementation bg
        submodels
         AdHji 424 424
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type MTF
           ports
            power out p1 [6,1];
            power in p2 [6,1];
            signal in H [4,4];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg bottom
           figures
            text 'MTF' 424 424 18 bold;
          end;
          implementation eq
equations					
	p2.e = transpose(Adjoint(H)) * p1.e;
	p1.f = Adjoint(H) * p2.f;implementation_end;
         Integrate 320 288
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:3:23</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Integrate
           ports
            signal in input;
            signal out output [4,4];
           parameters
            real init = -2.9496;
          end;
          icon bg
           figures
            rectangle 304 272 336 304 fill 15132390;
            text 'ò' 320 285.3 color 16711680 'SymbolProp BT' 21 symbol;
          end;
          implementation eq
variables
	real R[3,3];
	real p[3];
	real q;
equations
q = int(input,init);
R = [	cos(-q),	-sin(-q),	0;
			sin(-q),	cos(-q),	0;
			0,				0,				1];
p = [0;0;0];
output = homogeneous(R,p);
	
     implementation_end;
         MatrixMul 320 576
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:15:12</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Gain
           ports
            signal in input1 [4,4];
            signal out output [4,4];
            signal in input2 [4,4];
          end;
          icon bg bottom
           figures
            rectangle 304.1 560 335.9 592 fill 15132390;
            text 'X' 320 576 color 16711680 16 bold;
          end;
          implementation eq
equations
	output = input2*input1;    implementation_end;
         plug p1 240 40;
         plug p2 496 424;
         plug Hin 112 576;
         plug Hout 504 576;
         plug p 112 424;
         OneJunction 240 288
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:18</TimeStamp>
</Description>';
          knot OneJunction
           ports
            mechanical knot duplicatable none p [1];
            signal knot out flow [1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg
           figures
            text '1' 240 288 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         Splitter2 320 368
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [4,4];
            signal knot in input [4,4];
          end;
          icon bg ellipse
           figures
            ellipse 316.8 364.8 323.2 371.2 color -1 fill 0;
            ellipse 315.7 363.7 324.3 372.3 color -1;
           terminals
            input 320 368 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
         uTbai 240 336
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type TF
           ports
            power in p1;
            power out p2 [6,1];
           restrictions
            causality constraint not_equal p1 p2;
            causality fixed out p1;
            causality fixed in p2;
          end;
          icon bg left
           figures
            text 'TF' 240 336 18 bold;
          end;
          implementation eq
equations
	p1.e = p2.e[3];
	p2.f = [0;0;p1.f;0;0;0];
implementation_end;
         Wbai 240 424
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:43</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          knot ZeroJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out effort [6,1];
           restrictions
            causality constraint one_in p;
          end;
          icon bg bottom
           figures
            text '0' 240 424 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
         ZeroJunction 240 104
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:43</TimeStamp>
</Description>';
          knot ZeroJunction
           ports
            mechanical knot duplicatable none p [1];
            signal knot out effort [1];
           restrictions
            causality constraint one_in p;
          end;
          icon bg
           figures
            text '0' 240 104 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
        end;
        connections
         uTbai\p1 <= OneJunction\p;
         Wbai\p <= AdHji\p1;
         p2 => AdHji\p2;
         ZeroJunction\p => OneJunction\p;
         p1 => ZeroJunction\p;
         uTbai\p2 => Wbai\p;
         p <= Wbai\p;
         OneJunction\flow -> Integrate\input 288 288;
         Splitter2\output -> AdHji\H 424 368;
         MatrixMul\output -> Hout;
         Hin -> MatrixMul\input2;
         Integrate\output -> Splitter2\input;
         Splitter2\output -> MatrixMul\input1;
        end;
        parameterrelations
Integrate\init = InitialPos;

parameterrelations_end;
        figures
         text 'b = next link (body)
a = previous link (body)
i = Frame fixed in previous body, fixed in joint
j = Frame fixed in next body, fixed in joint
 ' 680 488;
       implementation_end;
      Link1 528 504
       description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
 <LibraryPath>Link_GravityCompensation.emx</LibraryPath>
 <TimeStamp>2011-1-19 11:37:47</TimeStamp>
   <Description>Base</Description>
</Description>';
       type Submodel
        ports
         power out p [6,1];
         signal in Hin [4,4];
         power in p1 [6,1];
         signal out Hout [4,4];
        parameters
         real m = 2.412;
         real COMdim[3,1] = [0.10453; 0.0017; -0.00297];
         real dim[3,1] = [0.033; 0.0; 0.019];
       end;
       icon bg bottom
        figures
         rectangle 496 432 560 576 fill 10025880;
         text 'Link
GC' 528 504;
        terminals
         p 496 464 fixed;
         Hin 496 544 fixed;
         p1 560 464 fixed;
         Hout 560 544 fixed;
       end;
       implementation bg
        submodels
         AdHi0 664 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type MTF
           ports
            power in p1 [6,1];
            power out p2 [6,1];
            signal in H [4,4];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg left
           figures
            text 'MTF' 664 416 18 bold;
          end;
          implementation eq
variables
 	real onlyRotH[4,4];
code
	//Only rotations with respect to the inertial system matter!
	onlyRotH = H;
	onlyRotH[1,4] = 0;
	onlyRotH[2,4] = 0;
	onlyRotH[3,4] = 0;
						
	p2.e = transpose(Adjoint(onlyRotH)) * p1.e;
	p1.f = Adjoint(onlyRotH) * p2.f;
implementation_end;
         AdHij 816 304
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type MTF
           ports
            power out p1 [6,1];
            power in p2 [6,1];
            signal in H [4,4];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg top
           figures
            text 'MTF' 816 304 18 bold;
          end;
          implementation eq
equations
	//Only rotations with respect to the inertial system matter!
						
	p1.e = transpose(Adjoint(H)) * p2.e;
	p2.f = Adjoint(H) * p1.f;
implementation_end;
         AdHik1 664 368
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type TF
           ports
            power out p1 [6,1];
            power in p2 [6,1];
           restrictions
            causality constraint not_equal p1 p2;
           parameters
            real COMdim[3,1] = [0.10453; 0.0017; -0.00297];
          end;
          icon bg left
           figures
            text 'TF' 664 368 18 bold;
          end;
          implementation eq
//Principal inertial frame connected in port 2
variables
	real d[3]; //distance between frames
	real R[3,3]; //rotation between frames

	real H[4,4]; //homogeneous matrix
	real AdH[6,6]; //Adjoint of homogeneous matrix
equations
	d = COMdim; //distance of 1 in z direction of frames
	R = eye(3); //no rotation

	H = homogeneous(R,d);
	AdH = Adjoint(H);

	p1.f = AdH * p2.f; 
	p2.e = transpose(AdH) * p1.e;
implementation_end;
         Gravity 776 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\Se.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:26</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Se
           ports
            power out p [6,1];
           restrictions
            causality fixed out p;
           parameters
            real m = 2.412;
          end;
          icon bg bottom
           figures
            text 'Se' 776 416 18 bold;
          end;
          implementation eq
variables
	real effort[6];
equations
	effort = [0;0;0;0;0;9.8*m];
	p.e = effort;
implementation_end;
         Hij 816 496
          description '<Description>
   <Version>4.1</Version>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>H.emx</LibraryPath>
  <TimeStamp>2010-9-21 15:03:50</TimeStamp>
<AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Gain
           ports
            signal in input [4,4];
            signal out output [4,4];
            signal out Hab [4,4];
           parameters
            real dim[3,1] = [0.033; 0.0; 0.019];
          end;
          icon bg bottom
           figures
            rectangle 800.1 480 831.9 512 fill 15132390;
            text 'H' 816 496 color 16711680 16 bold;
          end;
          implementation eq
equations
	Hab = homogeneous(eye(3),dim);
	output = input * Hab;
    implementation_end;
         plug Hin 592 496;
         plug p1 904 304;
         plug Hout 896 496;
         plug p 592 304;
         Splitter1 664 496
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [4,4];
            signal knot in input [4,4];
          end;
          icon bg ellipse
           figures
            ellipse 660.8 492.8 667.2 499.2 color -1 fill 0;
            ellipse 659.7 491.7 668.3 500.3 color -1;
           terminals
            input 664 496 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
         Ta00 720 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out flow [6,1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg bottom
           figures
            text '1' 720 416 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         Ta0i 664 304
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <Description></Description>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out flow [6,1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg bottom
           figures
            text '1' 664 304 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
        end;
        connections
         Ta0i\p <= AdHik1\p1;
         AdHi0\p2 => AdHik1\p2;
         Gravity\p => Ta00\p;
         p <= Ta0i\p;
         Ta0i\p <= AdHij\p1;
         p1 => AdHij\p2;
         Ta00\p => AdHi0\p1;
         Hin -> Splitter1\input;
         Hij\output -> Hout;
         Splitter1\output -> Hij\input;
         Splitter1\output -> AdHi0\H;
         Hij\Hab -> AdHij\H;
        end;
        parameterrelations
AdHik1\COMdim = COMdim;
Hij\dim = dim;
Gravity\m=m;parameterrelations_end;
        figures
         text 'b = current link (body)
a = previous link (body)
i = Body fixed frame, fixed in joint with previous link
j = Body fixed frame, fixed in joint with next link
k = Body fixed frame, principal inertial frame
0 = inertial system
 ' 416 376;
       implementation_end;
      Link2 688 504
       description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
 <LibraryPath>Link_GravityCompensation.emx</LibraryPath>
 <TimeStamp>2011-1-19 11:37:47</TimeStamp>
   <Description>Base</Description>
</Description>';
       type Submodel
        ports
         power out p [6,1];
         signal in Hin [4,4];
         power in p1 [6,1];
         signal out Hout [4,4];
        parameters
         real m = 1.155;
         real COMdim[3,1] = [0.001; 0.0967; 0.02107];
         real dim[3,1] = [0.0; 0.0; 0.155];
       end;
       icon bg bottom
        figures
         rectangle 656 432 720 576 fill 10025880;
         text 'Link
GC' 688 504;
        terminals
         p 656 464 fixed;
         Hin 656 544 fixed;
         p1 720 464 fixed;
         Hout 720 544 fixed;
       end;
       implementation bg
        submodels
         AdHi0 664 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type MTF
           ports
            power in p1 [6,1];
            power out p2 [6,1];
            signal in H [4,4];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg left
           figures
            text 'MTF' 664 416 18 bold;
          end;
          implementation eq
variables
 	real onlyRotH[4,4];
code
	//Only rotations with respect to the inertial system matter!
	onlyRotH = H;
	onlyRotH[1,4] = 0;
	onlyRotH[2,4] = 0;
	onlyRotH[3,4] = 0;
						
	p2.e = transpose(Adjoint(onlyRotH)) * p1.e;
	p1.f = Adjoint(onlyRotH) * p2.f;
implementation_end;
         AdHij 816 304
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type MTF
           ports
            power out p1 [6,1];
            power in p2 [6,1];
            signal in H [4,4];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg top
           figures
            text 'MTF' 816 304 18 bold;
          end;
          implementation eq
equations
	//Only rotations with respect to the inertial system matter!
						
	p1.e = transpose(Adjoint(H)) * p2.e;
	p2.f = Adjoint(H) * p1.f;
implementation_end;
         AdHik1 664 368
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type TF
           ports
            power out p1 [6,1];
            power in p2 [6,1];
           restrictions
            causality constraint not_equal p1 p2;
           parameters
            real COMdim[3,1] = [0.001; 0.0967; 0.02107];
          end;
          icon bg left
           figures
            text 'TF' 664 368 18 bold;
          end;
          implementation eq
//Principal inertial frame connected in port 2
variables
	real d[3]; //distance between frames
	real R[3,3]; //rotation between frames

	real H[4,4]; //homogeneous matrix
	real AdH[6,6]; //Adjoint of homogeneous matrix
equations
	d = COMdim; //distance of 1 in z direction of frames
	R = eye(3); //no rotation

	H = homogeneous(R,d);
	AdH = Adjoint(H);

	p1.f = AdH * p2.f; 
	p2.e = transpose(AdH) * p1.e;
implementation_end;
         Gravity 776 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\Se.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:26</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Se
           ports
            power out p [6,1];
           restrictions
            causality fixed out p;
           parameters
            real m = 1.155;
          end;
          icon bg bottom
           figures
            text 'Se' 776 416 18 bold;
          end;
          implementation eq
variables
	real effort[6];
equations
	effort = [0;0;0;0;0;9.8*m];
	p.e = effort;
implementation_end;
         Hij 816 496
          description '<Description>
   <Version>4.1</Version>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>H.emx</LibraryPath>
  <TimeStamp>2010-9-21 15:03:50</TimeStamp>
<AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Gain
           ports
            signal in input [4,4];
            signal out output [4,4];
            signal out Hab [4,4];
           parameters
            real dim[3,1] = [0.0; 0.0; 0.155];
          end;
          icon bg bottom
           figures
            rectangle 800.1 480 831.9 512 fill 15132390;
            text 'H' 816 496 color 16711680 16 bold;
          end;
          implementation eq
equations
	Hab = homogeneous(eye(3),dim);
	output = input * Hab;
    implementation_end;
         plug Hin 592 496;
         plug p1 904 304;
         plug Hout 896 496;
         plug p 592 304;
         Splitter1 664 496
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [4,4];
            signal knot in input [4,4];
          end;
          icon bg ellipse
           figures
            ellipse 660.8 492.8 667.2 499.2 color -1 fill 0;
            ellipse 659.7 491.7 668.3 500.3 color -1;
           terminals
            input 664 496 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
         Ta00 720 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out flow [6,1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg bottom
           figures
            text '1' 720 416 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         Ta0i 664 304
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <Description></Description>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out flow [6,1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg bottom
           figures
            text '1' 664 304 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
        end;
        connections
         Ta0i\p <= AdHik1\p1;
         AdHi0\p2 => AdHik1\p2;
         Gravity\p => Ta00\p;
         p <= Ta0i\p;
         Ta0i\p <= AdHij\p1;
         p1 => AdHij\p2;
         Ta00\p => AdHi0\p1;
         Hin -> Splitter1\input;
         Hij\output -> Hout;
         Splitter1\output -> Hij\input;
         Splitter1\output -> AdHi0\H;
         Hij\Hab -> AdHij\H;
        end;
        parameterrelations
AdHik1\COMdim = COMdim;
Hij\dim = dim;
Gravity\m=m;parameterrelations_end;
        figures
         text 'b = current link (body)
a = previous link (body)
i = Body fixed frame, fixed in joint with previous link
j = Body fixed frame, fixed in joint with next link
k = Body fixed frame, principal inertial frame
0 = inertial system
 ' 416 376;
       implementation_end;
      Link3 848 504
       description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
 <LibraryPath>Link_GravityCompensation.emx</LibraryPath>
 <TimeStamp>2011-1-19 11:37:47</TimeStamp>
   <Description>Base</Description>
</Description>';
       type Submodel
        ports
         power out p [6,1];
         signal in Hin [4,4];
         power in p1 [6,1];
         signal out Hout [4,4];
        parameters
         real m = 0.934;
         real COMdim[3,1] = [0.011; 0.05103; -0.02319];
         real dim[3,1] = [0.0; 0.0; 0.135];
       end;
       icon bg bottom
        figures
         rectangle 816 432 880 576 fill 10025880;
         text 'Link
GC' 848 504;
        terminals
         p 816 464 fixed;
         Hin 816 544 fixed;
         p1 880 464 fixed;
         Hout 880 544 fixed;
       end;
       implementation bg
        submodels
         AdHi0 664 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type MTF
           ports
            power in p1 [6,1];
            power out p2 [6,1];
            signal in H [4,4];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg left
           figures
            text 'MTF' 664 416 18 bold;
          end;
          implementation eq
variables
 	real onlyRotH[4,4];
code
	//Only rotations with respect to the inertial system matter!
	onlyRotH = H;
	onlyRotH[1,4] = 0;
	onlyRotH[2,4] = 0;
	onlyRotH[3,4] = 0;
						
	p2.e = transpose(Adjoint(onlyRotH)) * p1.e;
	p1.f = Adjoint(onlyRotH) * p2.f;
implementation_end;
         AdHij 816 304
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type MTF
           ports
            power out p1 [6,1];
            power in p2 [6,1];
            signal in H [4,4];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg top
           figures
            text 'MTF' 816 304 18 bold;
          end;
          implementation eq
equations
	//Only rotations with respect to the inertial system matter!
						
	p1.e = transpose(Adjoint(H)) * p2.e;
	p2.f = Adjoint(H) * p1.f;
implementation_end;
         AdHik1 664 368
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type TF
           ports
            power out p1 [6,1];
            power in p2 [6,1];
           restrictions
            causality constraint not_equal p1 p2;
           parameters
            real COMdim[3,1] = [0.011; 0.05103; -0.02319];
          end;
          icon bg left
           figures
            text 'TF' 664 368 18 bold;
          end;
          implementation eq
//Principal inertial frame connected in port 2
variables
	real d[3]; //distance between frames
	real R[3,3]; //rotation between frames

	real H[4,4]; //homogeneous matrix
	real AdH[6,6]; //Adjoint of homogeneous matrix
equations
	d = COMdim; //distance of 1 in z direction of frames
	R = eye(3); //no rotation

	H = homogeneous(R,d);
	AdH = Adjoint(H);

	p1.f = AdH * p2.f; 
	p2.e = transpose(AdH) * p1.e;
implementation_end;
         Gravity 776 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\Se.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:26</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Se
           ports
            power out p [6,1];
           restrictions
            causality fixed out p;
           parameters
            real m = 0.934;
          end;
          icon bg bottom
           figures
            text 'Se' 776 416 18 bold;
          end;
          implementation eq
variables
	real effort[6];
equations
	effort = [0;0;0;0;0;9.8*m];
	p.e = effort;
implementation_end;
         Hij 816 496
          description '<Description>
   <Version>4.1</Version>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>H.emx</LibraryPath>
  <TimeStamp>2010-9-21 15:03:50</TimeStamp>
<AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Gain
           ports
            signal in input [4,4];
            signal out output [4,4];
            signal out Hab [4,4];
           parameters
            real dim[3,1] = [0.0; 0.0; 0.135];
          end;
          icon bg bottom
           figures
            rectangle 800.1 480 831.9 512 fill 15132390;
            text 'H' 816 496 color 16711680 16 bold;
          end;
          implementation eq
equations
	Hab = homogeneous(eye(3),dim);
	output = input * Hab;
    implementation_end;
         plug Hin 592 496;
         plug p1 904 304;
         plug Hout 896 496;
         plug p 592 304;
         Splitter1 664 496
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [4,4];
            signal knot in input [4,4];
          end;
          icon bg ellipse
           figures
            ellipse 660.8 492.8 667.2 499.2 color -1 fill 0;
            ellipse 659.7 491.7 668.3 500.3 color -1;
           terminals
            input 664 496 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
         Ta00 720 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out flow [6,1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg bottom
           figures
            text '1' 720 416 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         Ta0i 664 304
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <Description></Description>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out flow [6,1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg bottom
           figures
            text '1' 664 304 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
        end;
        connections
         Ta0i\p <= AdHik1\p1;
         AdHi0\p2 => AdHik1\p2;
         Gravity\p => Ta00\p;
         p <= Ta0i\p;
         Ta0i\p <= AdHij\p1;
         p1 => AdHij\p2;
         Ta00\p => AdHi0\p1;
         Hin -> Splitter1\input;
         Hij\output -> Hout;
         Splitter1\output -> Hij\input;
         Splitter1\output -> AdHi0\H;
         Hij\Hab -> AdHij\H;
        end;
        parameterrelations
AdHik1\COMdim = COMdim;
Hij\dim = dim;
Gravity\m=m;parameterrelations_end;
        figures
         text 'b = current link (body)
a = previous link (body)
i = Body fixed frame, fixed in joint with previous link
j = Body fixed frame, fixed in joint with next link
k = Body fixed frame, principal inertial frame
0 = inertial system
 ' 416 376;
       implementation_end;
      Link4 1008 504
       description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
 <LibraryPath>Link_GravityCompensation.emx</LibraryPath>
 <TimeStamp>2011-1-19 11:37:47</TimeStamp>
   <Description>Base</Description>
</Description>';
       type Submodel
        ports
         power out p [6,1];
         signal in Hin [4,4];
         power in p1 [6,1];
         signal out Hout [4,4];
        parameters
         real m = 0.877;
         real COMdim[3,1] = [0.0; 0.00115; -0.01683];
         real dim[3,1] = [0.0; 0.0; 0.096];
       end;
       icon bg bottom
        figures
         rectangle 976 432 1040 576 fill 10025880;
         text 'Link
GC' 1008 504;
        terminals
         p 976 464 fixed;
         Hin 976 544 fixed;
         p1 1040 464 fixed;
         Hout 1040 544 fixed;
       end;
       implementation bg
        submodels
         AdHi0 664 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type MTF
           ports
            power in p1 [6,1];
            power out p2 [6,1];
            signal in H [4,4];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg left
           figures
            text 'MTF' 664 416 18 bold;
          end;
          implementation eq
variables
 	real onlyRotH[4,4];
code
	//Only rotations with respect to the inertial system matter!
	onlyRotH = H;
	onlyRotH[1,4] = 0;
	onlyRotH[2,4] = 0;
	onlyRotH[3,4] = 0;
						
	p2.e = transpose(Adjoint(onlyRotH)) * p1.e;
	p1.f = Adjoint(onlyRotH) * p2.f;
implementation_end;
         AdHij 816 304
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type MTF
           ports
            power out p1 [6,1];
            power in p2 [6,1];
            signal in H [4,4];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg top
           figures
            text 'MTF' 816 304 18 bold;
          end;
          implementation eq
equations
	//Only rotations with respect to the inertial system matter!
						
	p1.e = transpose(Adjoint(H)) * p2.e;
	p2.f = Adjoint(H) * p1.f;
implementation_end;
         AdHik1 664 368
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type TF
           ports
            power out p1 [6,1];
            power in p2 [6,1];
           restrictions
            causality constraint not_equal p1 p2;
           parameters
            real COMdim[3,1] = [0.0; 0.00115; -0.01683];
          end;
          icon bg left
           figures
            text 'TF' 664 368 18 bold;
          end;
          implementation eq
//Principal inertial frame connected in port 2
variables
	real d[3]; //distance between frames
	real R[3,3]; //rotation between frames

	real H[4,4]; //homogeneous matrix
	real AdH[6,6]; //Adjoint of homogeneous matrix
equations
	d = COMdim; //distance of 1 in z direction of frames
	R = eye(3); //no rotation

	H = homogeneous(R,d);
	AdH = Adjoint(H);

	p1.f = AdH * p2.f; 
	p2.e = transpose(AdH) * p1.e;
implementation_end;
         Gravity 776 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\Se.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:26</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Se
           ports
            power out p [6,1];
           restrictions
            causality fixed out p;
           parameters
            real m = 0.877;
          end;
          icon bg bottom
           figures
            text 'Se' 776 416 18 bold;
          end;
          implementation eq
variables
	real effort[6];
equations
	effort = [0;0;0;0;0;9.8*m];
	p.e = effort;
implementation_end;
         Hij 816 496
          description '<Description>
   <Version>4.1</Version>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>H.emx</LibraryPath>
  <TimeStamp>2010-9-21 15:03:50</TimeStamp>
<AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Gain
           ports
            signal in input [4,4];
            signal out output [4,4];
            signal out Hab [4,4];
           parameters
            real dim[3,1] = [0.0; 0.0; 0.096];
          end;
          icon bg bottom
           figures
            rectangle 800.1 480 831.9 512 fill 15132390;
            text 'H' 816 496 color 16711680 16 bold;
          end;
          implementation eq
equations
	Hab = homogeneous(eye(3),dim);
	output = input * Hab;
    implementation_end;
         plug Hin 592 496;
         plug p1 904 304;
         plug Hout 896 496;
         plug p 592 304;
         Splitter1 664 496
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [4,4];
            signal knot in input [4,4];
          end;
          icon bg ellipse
           figures
            ellipse 660.8 492.8 667.2 499.2 color -1 fill 0;
            ellipse 659.7 491.7 668.3 500.3 color -1;
           terminals
            input 664 496 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
         Ta00 720 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out flow [6,1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg bottom
           figures
            text '1' 720 416 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         Ta0i 664 304
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <Description></Description>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out flow [6,1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg bottom
           figures
            text '1' 664 304 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
        end;
        connections
         Ta0i\p <= AdHik1\p1;
         AdHi0\p2 => AdHik1\p2;
         Gravity\p => Ta00\p;
         p <= Ta0i\p;
         Ta0i\p <= AdHij\p1;
         p1 => AdHij\p2;
         Ta00\p => AdHi0\p1;
         Hin -> Splitter1\input;
         Hij\output -> Hout;
         Splitter1\output -> Hij\input;
         Splitter1\output -> AdHi0\H;
         Hij\Hab -> AdHij\H;
        end;
        parameterrelations
AdHik1\COMdim = COMdim;
Hij\dim = dim;
Gravity\m=m;parameterrelations_end;
        figures
         text 'b = current link (body)
a = previous link (body)
i = Body fixed frame, fixed in joint with previous link
j = Body fixed frame, fixed in joint with next link
k = Body fixed frame, principal inertial frame
0 = inertial system
 ' 416 376;
       implementation_end;
      Link5 1168 504
       description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
 <LibraryPath>Link_GravityCompensation.emx</LibraryPath>
 <TimeStamp>2011-1-19 11:37:47</TimeStamp>
   <Description>Base</Description>
</Description>';
       type Submodel
        ports
         power out p [6,1];
         signal in Hin [4,4];
         power in p1 [6,1];
         signal out Hout [4,4];
        parameters
         real m = 1.121;
         real COMdim[3,1] = [0.0; 0.0; 0.001];
         real dim[3,1] = [0.0; 0.0; 0.034];
       end;
       icon bg bottom
        figures
         rectangle 1136 432 1200 576 fill 10025880;
         text 'Link
GC' 1168 504;
        terminals
         p 1136 464 fixed;
         Hin 1136 544 fixed;
         p1 1200 464 fixed;
         Hout 1200 544 fixed;
       end;
       implementation bg
        submodels
         AdHi0 664 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type MTF
           ports
            power in p1 [6,1];
            power out p2 [6,1];
            signal in H [4,4];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg left
           figures
            text 'MTF' 664 416 18 bold;
          end;
          implementation eq
variables
 	real onlyRotH[4,4];
code
	//Only rotations with respect to the inertial system matter!
	onlyRotH = H;
	onlyRotH[1,4] = 0;
	onlyRotH[2,4] = 0;
	onlyRotH[3,4] = 0;
						
	p2.e = transpose(Adjoint(onlyRotH)) * p1.e;
	p1.f = Adjoint(onlyRotH) * p2.f;
implementation_end;
         AdHij 816 304
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type MTF
           ports
            power out p1 [6,1];
            power in p2 [6,1];
            signal in H [4,4];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg top
           figures
            text 'MTF' 816 304 18 bold;
          end;
          implementation eq
equations
	//Only rotations with respect to the inertial system matter!
						
	p1.e = transpose(Adjoint(H)) * p2.e;
	p2.f = Adjoint(H) * p1.f;
implementation_end;
         AdHik1 664 368
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type TF
           ports
            power out p1 [6,1];
            power in p2 [6,1];
           restrictions
            causality constraint not_equal p1 p2;
           parameters
            real COMdim[3,1] = [0.0; 0.0; 0.001];
          end;
          icon bg left
           figures
            text 'TF' 664 368 18 bold;
          end;
          implementation eq
//Principal inertial frame connected in port 2
variables
	real d[3]; //distance between frames
	real R[3,3]; //rotation between frames

	real H[4,4]; //homogeneous matrix
	real AdH[6,6]; //Adjoint of homogeneous matrix
equations
	d = COMdim; //distance of 1 in z direction of frames
	R = eye(3); //no rotation

	H = homogeneous(R,d);
	AdH = Adjoint(H);

	p1.f = AdH * p2.f; 
	p2.e = transpose(AdH) * p1.e;
implementation_end;
         Gravity 776 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\Se.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:26</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Se
           ports
            power out p [6,1];
           restrictions
            causality fixed out p;
           parameters
            real m = 1.121;
          end;
          icon bg bottom
           figures
            text 'Se' 776 416 18 bold;
          end;
          implementation eq
variables
	real effort[6];
equations
	effort = [0;0;0;0;0;9.8*m];
	p.e = effort;
implementation_end;
         Hij 816 496
          description '<Description>
   <Version>4.1</Version>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>H.emx</LibraryPath>
  <TimeStamp>2010-9-21 15:03:50</TimeStamp>
<AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Gain
           ports
            signal in input [4,4];
            signal out output [4,4];
            signal out Hab [4,4];
           parameters
            real dim[3,1] = [0.0; 0.0; 0.034];
          end;
          icon bg bottom
           figures
            rectangle 800.1 480 831.9 512 fill 15132390;
            text 'H' 816 496 color 16711680 16 bold;
          end;
          implementation eq
equations
	Hab = homogeneous(eye(3),dim);
	output = input * Hab;
    implementation_end;
         plug Hin 592 496;
         plug p1 904 304;
         plug Hout 896 496;
         plug p 592 304;
         Splitter1 664 496
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [4,4];
            signal knot in input [4,4];
          end;
          icon bg ellipse
           figures
            ellipse 660.8 492.8 667.2 499.2 color -1 fill 0;
            ellipse 659.7 491.7 668.3 500.3 color -1;
           terminals
            input 664 496 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
         Ta00 720 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out flow [6,1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg bottom
           figures
            text '1' 720 416 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         Ta0i 664 304
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <Description></Description>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out flow [6,1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg bottom
           figures
            text '1' 664 304 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
        end;
        connections
         Ta0i\p <= AdHik1\p1;
         AdHi0\p2 => AdHik1\p2;
         Gravity\p => Ta00\p;
         p <= Ta0i\p;
         Ta0i\p <= AdHij\p1;
         p1 => AdHij\p2;
         Ta00\p => AdHi0\p1;
         Hin -> Splitter1\input;
         Hij\output -> Hout;
         Splitter1\output -> Hij\input;
         Splitter1\output -> AdHi0\H;
         Hij\Hab -> AdHij\H;
        end;
        parameterrelations
AdHik1\COMdim = COMdim;
Hij\dim = dim;
Gravity\m=m;parameterrelations_end;
        figures
         text 'b = current link (body)
a = previous link (body)
i = Body fixed frame, fixed in joint with previous link
j = Body fixed frame, fixed in joint with next link
k = Body fixed frame, principal inertial frame
0 = inertial system
 ' 416 376;
       implementation_end;
      Mux 696 193
       description '<Description>
 <Version>4.0</Version>
 <LibraryPath>C:\Program Files\20-sim 4.0\System\Submodel.emx</LibraryPath>
 <TimeStamp>2007-10-31 11:32:54</TimeStamp>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type Submodel
        ports
         power out port [9,1];
         power out port5;
         power out port6;
         power out port7;
         power out port8;
         power out port9;
        restrictions
         causality fixed in port8;
         causality fixed in port9;
         causality fixed in port6;
         causality fixed in port7;
         causality fixed out port;
         causality fixed in port5;
       end;
       icon bg
        figures
         rectangle 616 178 776 208 fill 14013909;
         text 'Mux' 696 192 16;
        terminals
         port 696 176 fixed;
         port5 696 208 fixed;
         port6 712 208 fixed;
         port7 728 208 fixed;
         port8 744 208 fixed;
         port9 760 208 fixed;
       end;
       implementation eq
equations
	port.e[1] = 0;
	port.e[2] = 0;
	port.e[3] = 0;
	port.e[4] = 0;
	port.e[5] = port5.e;
	port.e[6] = port6.e;
	port.e[7] = port7.e;
	port.e[8] = port8.e;
	port.e[9] = port9.e;
	
	port5.f = port.f[5];
	port6.f = port.f[6];
	port7.f = port.f[7];
	port8.f = port.f[8];
	port9.f = port.f[9];implementation_end;
      plug joints 696 120;
      Wtip0 1240 464
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\Se.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:26</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type Se
        ports
         power out p [6,1];
        restrictions
         causality fixed out p;
       end;
       icon bg bottom
        figures
         text 'Se' 1240 464 18 bold;
       end;
       implementation eq
parameters
	real effort = 0;
variables
	real flow[6];
equations
	p.e = effort;
	flow = p.f;
implementation_end;
      ZeroJunction 272 464
       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:43</TimeStamp>
</Description>';
       knot ZeroJunction
        ports
         power knot duplicatable none p [6,1];
         signal knot out effort [6,1];
        restrictions
         causality constraint one_in p;
       end;
       icon bg
        figures
         text '0' 272 464 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
     end;
     connections
      Base\p => ZeroJunction\p;
      Joint12\p2 <= Link2\p;
      Joint23\p => Link2\p1;
      Joint23\p2 <= Link3\p;
      Joint34\p => Link3\p1;
      Link4\p => Joint34\p2;
      Joint45\p => Link4\p1;
      joints <= Mux\port;
      Link5\p => Joint45\p2;
      JointBase1\p1 <= Mux\port5 448 304 696 304;
      Joint12\p1 <= Mux\port6 608 320 712 320;
      JointBase1\p => Base\p1;
      Wtip0\p => Link5\p1;
      Mux\port7 => Joint23\p1 728 256 768 256;
      Mux\port8 => Joint34\p1 744 240 928 240;
      Mux\port9 => Joint45\p1 760 224 1088 224;
      JointBase1\p2 <= Link1\p;
      Joint12\p => Link1\p1;
      Hfloor0\output -> Base\Hin;
      Link2\Hout -> Joint23\Hin;
      Link2\Hin <- Joint12\Hout;
      Joint12\Hin <- Link1\Hout;
      Base\Hout -> JointBase1\Hin;
      Htip0\input <- Link5\Hout;
      Link1\Hin <- JointBase1\Hout;
      Joint45\Hout -> Link5\Hin;
      Joint45\Hin <- Link4\Hout;
      Joint34\Hout -> Link4\Hin;
      Joint34\Hin <- Link3\Hout;
      Link3\Hin <- Joint23\Hout;
     end;
     parameterrelations
Base\m = Linkm[1];
Base\COMdim = LinkCOMdim[1:3,1];
Base\dim = Linkdim[1:3,1];

Link1\m = Linkm[2];
Link1\COMdim = LinkCOMdim[1:3,2];
Link1\dim = Linkdim[1:3,2];

Link2\m = Linkm[3];
Link2\COMdim = LinkCOMdim[1:3,3];
Link2\dim = Linkdim[1:3,3];

Link3\m = Linkm[4];
Link3\COMdim = LinkCOMdim[1:3,4];
Link3\dim = Linkdim[1:3,4];

Link4\m = Linkm[5];
Link4\COMdim = LinkCOMdim[1:3,5];
Link4\dim = Linkdim[1:3,5];

Link5\m = Linkm[6];
Link5\COMdim = LinkCOMdim[1:3,6];
Link5\dim = Linkdim[1:3,6];

JointBase1\InitialPos = InitialJointPos[1];

Joint12\InitialPos = InitialJointPos[2];

Joint23\InitialPos = InitialJointPos[3];

Joint34\InitialPos = InitialJointPos[4];

Joint45\InitialPos = InitialJointPos[5];

parameterrelations_end;
    implementation_end;
   I 952 592
    description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\3D\I-3.emx</LibraryPath>
  <TimeStamp>2007-9-25 12:12:14</TimeStamp>
</Description>';
    type 'I-3'
     ports
      power in p [9,1];
      signal out state [9,1];
     restrictions
      causality preferred in p;
    end;
    icon bg bottom
     figures
      text 'I' 952 592 18 bold;
    end;
    implementation eq
parameters
	real i[9] = [1.0, 1.0, 1.0; 1.0, 1.0, 1.0; 1.0, 1.0, 1.0];
equations
    state = int(p.e);
    p.f = inverse(diag(i)) * state;
implementation_end;
   Monitors 514 324
    description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
    type Submodel
     ports
      signal in input [3,1];
      signal in input1 [5,1];
    end;
    icon bg
     figures
      rectangle 468 296 560 384 fill 14013909;
      text 'name' 512 352 16;
      line 500 296 492 280 500 280 492 264 500 272 500 272 fill 14013909;
      line 492 264 492 272 500 272 500 272;
      text 'STUB' 512 312 'Bank Gothic' 20 bold;
     terminals
      input 560 328 fixed;
      input1 560 368 fixed;
    end;
    implementation bg
     submodels
      plug input 792 352;
      plug input1 784 416;
      SignalMonitor 656 352
       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
  <LibraryPath>Signal\Block Diagram\SignalMonitor.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:14:4</TimeStamp>
</Description>
';
       type SignalMonitor
        ports
         signal in input [3,1];
       end;
       icon bg bottom
        figures
         rectangle 640 336 672 368 fill 15132390;
         rectangle 645.7 341.8 666.3 362.6 color 16711680 fill 11776947 width 2;
         rectangle 647.8 344.4 663.9 360 color -1 fill 16777215;
         line 649.9 346.7 649.9 358 fill 16777215;
         line 648 356.4 660.5 356.4 fill 16777215;
         line 649.5 356.1 662.4 349.7 color 255 fill 16777215;
       end;
       implementation eq
variables
	real interesting plot[3];
equations
	plot = input;
   implementation_end;
      SignalMonitor1 656 416
       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
  <LibraryPath>Signal\Block Diagram\SignalMonitor.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:14:4</TimeStamp>
</Description>
';
       type SignalMonitor
        ports
         signal in input [5,1];
       end;
       icon bg bottom
        figures
         rectangle 640 400 672 432 fill 15132390;
         rectangle 645.7 405.8 666.3 426.6 color 16711680 fill 11776947 width 2;
         rectangle 647.8 408.4 663.9 424 color -1 fill 16777215;
         line 649.9 410.7 649.9 422 fill 16777215;
         line 648 420.4 660.5 420.4 fill 16777215;
         line 649.5 420.1 662.4 413.7 color 255 fill 16777215;
       end;
       implementation eq
variables
	real interesting plot[5];
equations
	plot = input;
   implementation_end;
     end;
     connections
      input -> SignalMonitor\input;
      input1 -> SignalMonitor1\input;
     end;
    implementation_end;
   OneJunction1 872 592
    description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:18</TimeStamp>
</Description>';
    knot OneJunction
     ports
      power knot duplicatable none p [9,1];
      signal knot out flow [9,1];
     restrictions
      causality constraint one_out p;
    end;
    icon bg
     figures
      text '1' 872 592 18 bold;
    end;
    implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
   R 856 664
    description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\R.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
    type R
     ports
      power in p [9,1];
    end;
    icon bg bottom
     figures
      text 'R' 856 664 18 bold;
    end;
    implementation eq
parameters
	real r = 5.0;
equations					
	p.e = eye(9)*r * p.f;
implementation_end;
   rivz 320 136
    description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\SignalMonitor.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:14:4</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
    type SignalMonitor
     ports
      signal in input [4,4];
    end;
    icon bg top
     figures
      rectangle 304 120 336 152 fill 15132390;
      rectangle 309.7 125.8 330.3 146.6 color 16711680 fill 11776947 width 2;
      rectangle 311.8 128.4 327.9 144 color -1 fill 16777215;
      line 313.9 130.7 313.9 142 fill 16777215;
      line 312 140.4 324.5 140.4 fill 16777215;
      line 313.5 140.1 326.4 133.7 color 255 fill 16777215;
    end;
    implementation eq
variables
	real interesting plot[4,4];
equations
	plot = input;
   implementation_end;
   rxplot_joints_states 656 120
    description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\SignalMonitor.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:14:4</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
    type SignalMonitor
     ports
      signal in input [3,1];
    end;
    icon bg top
     figures
      rectangle 640 104 672 136 fill 15132390;
      rectangle 645.7 109.8 666.3 130.6 color 16711680 fill 11776947 width 2;
      rectangle 647.8 112.4 663.9 128 color -1 fill 16777215;
      line 649.9 114.7 649.9 126 fill 16777215;
      line 648 124.4 660.5 124.4 fill 16777215;
      line 649.5 124.1 662.4 117.7 color 255 fill 16777215;
    end;
    implementation eq
variables
	real interesting plot[3];
equations
	plot = input;
   implementation_end;
   rxplot_odometry 624 152
    description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\SignalMonitor.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:14:4</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
    type SignalMonitor
     ports
      signal in input [5,1];
    end;
    icon bg top
     figures
      rectangle 608 136 640 168 fill 15132390;
      rectangle 613.7 141.8 634.3 162.6 color 16711680 fill 11776947 width 2;
      rectangle 615.8 144.4 631.9 160 color -1 fill 16777215;
      line 617.9 146.7 617.9 158 fill 16777215;
      line 616 156.4 628.5 156.4 fill 16777215;
      line 617.5 156.1 630.4 149.7 color 255 fill 16777215;
    end;
    implementation eq
variables
	real interesting plot[5];
equations
	plot = input;
   implementation_end;
   Splitter6 624 552
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [5,1];
      signal knot in input [5,1];
    end;
    icon bg ellipse
     figures
      ellipse 620.8 548.8 627.2 555.2 color -1 fill 0;
      ellipse 619.7 547.7 628.3 556.3 color -1;
     terminals
      input 624 552 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   Splitter7 624 368
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [5,1];
      signal knot in input [5,1];
    end;
    icon bg ellipse
     figures
      ellipse 620.8 364.8 627.2 371.2 color -1 fill 0;
      ellipse 619.7 363.7 628.3 372.3 color -1;
     terminals
      input 624 368 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   Splitter8 656 536
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [3,1];
      signal knot in input [3,1];
    end;
    icon bg ellipse
     figures
      ellipse 652.8 532.8 659.2 539.2 color -1 fill 0;
      ellipse 651.7 531.7 660.3 540.3 color -1;
     terminals
      input 656 536 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   Splitter9 656 328
    description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
    knot Splitter
     ports
      signal knot duplicatable out output [3,1];
      signal knot in input [3,1];
    end;
    icon bg ellipse
     figures
      ellipse 652.8 324.8 659.2 331.2 color -1 fill 0;
      ellipse 651.7 323.7 660.3 332.3 color -1;
     terminals
      input 656 328 fixed;
    end;
    implementation eq
equations
    collect (output) = input;
implementation_end;
   stiction_M 928 664
    description '<Description>
 <Version>4.0</Version>
 <LibraryPath>C:\Program Files\20-sim 4.0\System\Submodel.emx</LibraryPath>
 <TimeStamp>2007-10-31 11:32:54</TimeStamp>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
    type Submodel
     ports
      power in port1 [9,1];
     restrictions
      causality fixed out port1;
    end;
    icon bg bottom
     figures
      text 'R' 928 664 color 128 24 bold;
    end;
    implementation bg
     submodels
      plug port1 280 64;
      R1 192 232
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\R.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type R
        ports
         power in p;
        restrictions
         causality fixed out p;
       end;
       icon bg bottom
        figures
         text 'R' 192 232 18 bold;
       end;
       implementation eq
parameters
	real a =  0.05615;
	real b = -8.68;
	real c =  0.04245;
	real d =  0.2383;

	real a2 =  0.07022;
	real b2 = -0.1932;
	real c2 =  7.554e-10;
	real d2 =  6.858;

	real p11 = 0.07582;
	real p12 = -0.1201;

	real a3 =  3.243e9;
	real b3 = -7.739;
	real c3 =  0.07271;
	real d3 =  0.09647;

	real p21 = 0.0125;
	real p22 = 0.05584;

	real r_extra = 0.01;
	real r_offset = 0.0;

variables
	real abs_vel;
	real r1,r2,r3,r4,r5,r6,r7,r8;
	real n;
	real rfriction_FL;

code

	abs_vel = abs(p.f);
    
	r1 = 5*abs_vel + 1e-6;
	r2 = a*exp(b*abs_vel) + c*exp(d*abs_vel);
	r3 = a2*exp(b2*abs_vel) + c2*exp(d2*abs_vel);
	r4 = p11*abs_vel + p12;
	r5 = a3*exp(b3*abs_vel) + c3*exp(d3*abs_vel);
	r6 = p21*abs_vel + p22;
    
	r7 = 0.06 + 0.4*abs_vel;
	r8 = 0.071 + 0.01*abs_vel;
    
    
	if abs_vel < 0.7 then
		n = 25;
		rfriction_FL = 1/(1/r1^n + 1/r2^n + 1/r7^n + 1/r8^n)^(1/n);
	end;
	
	if abs_vel >= 0.7 and abs_vel < 1.5 then
		n = 30;
		rfriction_FL = 1/(1/r2^n + 1/r3^n)^(1/n);
	end;
        
	if abs_vel >= 1.5 and abs_vel < 2.5 then
		rfriction_FL = r3;
	end;
    
	if abs_vel >= 2.5 and abs_vel < 3.2 then
		n = 30;
		rfriction_FL = 1/(1/r3^n + 1/r4^n)^(1/n);
	end;
        
	if abs_vel >= 3.2 and abs_vel < 3.5 then
		n = 20;
		rfriction_FL = 1/(1/r4^n + 1/r5^n)^(1/n);
	end;
        
	if abs_vel >= 3.5 and abs_vel < 4.59 then
		rfriction_FL = r5;
	end;
        
	if abs_vel >= 4.59 then
		rfriction_FL = r6;
	end;
    
    rfriction_FL = (rfriction_FL + r_extra)*sign(p.f) + r_offset;
	p.e=rfriction_FL;implementation_end;
      R2 232 232
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\R.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type R
        ports
         power in p;
       end;
       icon bg bottom
        figures
         text 'R' 232 232 18 bold;
       end;
       implementation eq
parameters
	real r = 0.0;
equations					
	p.e = r * p.f;
implementation_end;
      R3 248 232
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\R.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type R
        ports
         power in p;
       end;
       icon bg bottom
        figures
         text 'R' 248 232 18 bold;
       end;
       implementation eq
parameters
	real r = 0.0;
equations					
	p.e = r * p.f;
implementation_end;
      R4 264 232
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\R.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type R
        ports
         power in p;
       end;
       icon bg bottom
        figures
         text 'R' 264 232 18 bold;
       end;
       implementation eq
parameters
	real r = 0.0;
equations					
	p.e = r * p.f;
implementation_end;
      R5 280 232
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\R.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type R
        ports
         power in p;
       end;
       icon bg bottom
        figures
         text 'R' 280 232 18 bold;
       end;
       implementation eq
parameters
	real r = 0.0;
equations					
	p.e = r * p.f;
implementation_end;
      R6 296 232
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\R.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type R
        ports
         power in p;
       end;
       icon bg bottom
        figures
         text 'R' 296 232 18 bold;
       end;
       implementation eq
parameters
	real r = 0.0;
equations					
	p.e = r * p.f;
implementation_end;
      R7 312 232
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\R.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type R
        ports
         power in p;
       end;
       icon bg bottom
        figures
         text 'R' 312 232 18 bold;
       end;
       implementation eq
parameters
	real r = 0.0;
equations					
	p.e = r * p.f;
implementation_end;
      R8 328 232
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\R.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type R
        ports
         power in p;
       end;
       icon bg bottom
        figures
         text 'R' 328 232 18 bold;
       end;
       implementation eq
parameters
	real r = 0.0;
equations					
	p.e = r * p.f;
implementation_end;
      R9 344 232
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\R.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type R
        ports
         power in p;
        restrictions
         causality fixed out p;
       end;
       icon bg bottom
        figures
         text 'R' 344 232 18 bold;
       end;
       implementation eq
parameters
	real r = 0.0;
equations					
	p.e = r * p.f;
implementation_end;
      Submodel1 280 128
       description '<Description>
 <Version>4.0</Version>
   <LibraryPath>C:\Program Files\20-sim 4.0\System\Submodel.emx</LibraryPath>
  <TimeStamp>2007-10-31 11:32:54</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       type Submodel
        ports
         power in input [9,1];
         power out port1;
         power out port2;
         power out port3;
         power out port4;
         power out port5;
         power out port6;
         power out port7;
         power out port8;
         power out port9;
        restrictions
         causality fixed in port2;
         causality fixed out input;
         causality fixed in port1;
         causality fixed in port9;
         causality fixed in port8;
         causality fixed in port7;
         causality fixed in port6;
         causality fixed in port5;
         causality fixed in port4;
         causality fixed in port3;
       end;
       implementation eq

equations
	input.e[1]=port1.e;
	input.e[2]=port2.e;
	input.e[3]=port3.e;
	input.e[4]=port4.e;
	input.e[5]=port5.e;
	input.e[6]=port6.e;
	input.e[7]=port7.e;
	input.e[8]=port8.e;
	input.e[9]=port9.e;

	port1.f=input.f[1];
	port2.f=input.f[2];
	port3.f=input.f[3];
	port4.f=input.f[4];
	port5.f=input.f[5];
	port6.f=input.f[6];
	port7.f=input.f[7];
	port8.f=input.f[8];
	port9.f=input.f[9];
implementation_end;
     end;
     connections
      Submodel1\port1 => R1\p;
      R7\p <= Submodel1\port7;
      Submodel1\port8 => R8\p;
      Submodel1\port9 => R9\p;
      Submodel1\input <= port1;
      Submodel1\port2 => R2\p;
      R3\p <= Submodel1\port3;
      R4\p <= Submodel1\port4;
      R5\p <= Submodel1\port5;
      R6\p <= Submodel1\port6;
     end;
    implementation_end;
   YouBot_control 292.5 588
    description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
    type Submodel
     ports
      signal in JointPoistionSetpoint [8,1];
      signal in Arm1_joint_states [5,1];
      signal in Measured_odometry [3,1];
      signal in Arm1_joint_velocites [5,1];
      signal in Base_joint_velocities [4,1];
      signal in xyzypr [6,1];
      signal out Htip0 [4,4];
      signal out Arm1_joint_cmd [5,1];
      signal out Base_twist_cmd [6,1];
    end;
    icon bg
     figures
      rectangle 251 528 344 648 fill 14013909;
      text 'name' 288 568 16;
     terminals
      JointPoistionSetpoint 272 528 fixed;
      Arm1_joint_states 352 552 fixed;
      Measured_odometry 352 536 fixed;
      Arm1_joint_velocites 352 584 fixed;
      Base_joint_velocities 352 568 fixed;
      Htip0 320 528 fixed;
      Arm1_joint_cmd 352 624 fixed;
      Base_twist_cmd 352 640 fixed;
    end;
    implementation bg
     submodels
      Base 640 840
       description '<Description>
   <Version>4.1</Version>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <LibraryPath>Link.emx</LibraryPath>
  <TimeStamp>2011-1-18 16:36:40</TimeStamp>
<Description>Base</Description>
</Description>';
       type Submodel
        ports
         power out p [6,1];
         signal in Hin [4,4];
         power in p1 [6,1];
         signal out Hout [4,4];
        parameters
         real I[3,1] = [1.0; 1.0; 1.0];
         real m = 1.0;
         real COMdim[3,1] = [0.0; 0.0; 0];
         real dim[3,1] = [0.5; 0.5; 1.0];
       end;
       icon bg bottom
        figures
         rectangle 608 768 672 912 fill 10025880;
         text 'Link' 640 840;
        terminals
         p 608 800 fixed;
         Hin 608 880 fixed;
         p1 672 800 fixed;
         Hout 672 880 fixed;
       end;
       implementation bg
        submodels
         AdHi0 664 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type MTF
           ports
            power in p1 [6,1];
            power out p2 [6,1];
            signal in H [4,4];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg left
           figures
            text 'MTF' 664 416 18 bold;
          end;
          implementation eq
variables
 	real onlyRotH[4,4];
code
	//Only rotations with respect to the inertial system matter!
	onlyRotH = H;
	onlyRotH[1,4] = 0;
	onlyRotH[2,4] = 0;
	onlyRotH[3,4] = 0;
						
	p2.e = transpose(Adjoint(onlyRotH)) * p1.e;
	p1.f = Adjoint(onlyRotH) * p2.f;
implementation_end;
         AdHij 816 304
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type MTF
           ports
            power out p1 [6,1];
            power in p2 [6,1];
            signal in H [4,4];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg top
           figures
            text 'MTF' 816 304 18 bold;
          end;
          implementation eq
equations
	//Only rotations with respect to the inertial system matter!
						
	p1.e = transpose(Adjoint(H)) * p2.e;
	p2.f = Adjoint(H) * p1.f;
implementation_end;
         AdHik 664 224
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type TF
           ports
            power in p1 [6,1];
            power out p2 [6,1];
           restrictions
            causality constraint not_equal p1 p2;
           parameters
            real COMdim[3,1] = [0.0; 0.0; 0.0];
          end;
          icon bg left
           figures
            text 'TF' 664 224 18 bold;
          end;
          implementation eq
//Frame in joint connected to port 1
//Principal inertial frame connected in port 2
variables
	real d[3]; //distance between frames
	real R[3,3]; //rotation between frames

	real H[4,4]; //homogeneous matrix
	real AdH[6,6]; //Adjoint of homogeneous matrix
equations
	d = COMdim; //distance of 1 in z direction of frames
	R = eye(3); //no rotation

	H = homogeneous(R,d);
	AdH = Adjoint(H);

	p1.f = AdH * p2.f; 
	p2.e = transpose(AdH) * p1.e;
implementation_end;
         AdHik1 664 368
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type TF
           ports
            power out p1 [6,1];
            power in p2 [6,1];
           restrictions
            causality constraint not_equal p1 p2;
           parameters
            real COMdim[3,1] = [0.0; 0.0; 0.0];
          end;
          icon bg left
           figures
            text 'TF' 664 368 18 bold;
          end;
          implementation eq
//Principal inertial frame connected in port 2
variables
	real d[3]; //distance between frames
	real R[3,3]; //rotation between frames

	real H[4,4]; //homogeneous matrix
	real AdH[6,6]; //Adjoint of homogeneous matrix
equations
	d = COMdim; //distance of 1 in z direction of frames
	R = eye(3); //no rotation

	H = homogeneous(R,d);
	AdH = Adjoint(H);

	p1.f = AdH * p2.f; 
	p2.e = transpose(AdH) * p1.e;
implementation_end;
         EJS 728 184
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MGY.emx</LibraryPath>
 <TimeStamp>2007-10-31 11:43:6</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type MGY
           ports
            power in p1 [6,1];
           parameters
            real I[3,1] = [1.0; 1.0; 1.0];
            real m = 1.0;
          end;
          icon bg top
           figures
            text 'MGY' 728 184 18 bold;
          end;
          implementation eq
//EJS / Gyroscopic effects
variables
	real II[6,6]; //Inertial tensor
	real Q[6,6];
	real QI[6,6];
	real v[3];
	real omega[3];
equations
	II = [	I[1],0,	0,	0,	0,	0;
			0,	I[2],0,	0,	0,	0;
			0,	0,	I[3],0,	0,	0;
			0,	0,	0,	m,	0,	0;
			0,	0,	0,	0,	m,	0;
			0,	0,	0,	0,	0,	m];
	v[1:3] = p1.f[4:6];
	omega[1:3] = p1.f[1:3];

	Q[1:3,1:3] = -skew(omega);
	Q[1:3,4:6] = -skew(v);
	Q[4:6,1:3] = [0,0,0;0,0,0;0,0,0];//matrix filled with zeros
	Q[4:6,4:6] = -skew(omega);
	QI = Q*II;

	p1.e = QI*p1.f;implementation_end;
         Gravity 776 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\Se.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:26</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Se
           ports
            power out p [6,1];
           restrictions
            causality fixed out p;
           parameters
            real m = 1.0;
          end;
          icon bg bottom
           figures
            text 'Se' 776 416 18 bold;
          end;
          implementation eq
variables
	real effort[6];
equations
	effort = [0;0;0;0;0;0*m];
	p.e = effort;
implementation_end;
         Hij 816 496
          description '<Description>
   <Version>4.1</Version>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>H.emx</LibraryPath>
  <TimeStamp>2010-9-21 15:03:50</TimeStamp>
<AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Gain
           ports
            signal in input [4,4];
            signal out output [4,4];
            signal out Hab [4,4];
           parameters
            real dim[3,1] = [0.5; 0.5; 1.0];
          end;
          icon bg bottom
           figures
            rectangle 800.1 480 831.9 512 fill 15132390;
            text 'H' 816 496 color 16711680 16 bold;
          end;
          implementation eq
equations
	Hab = homogeneous(eye(3),dim);
	output = input * Hab;
    implementation_end;
         InertialTensor 616 184
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\I.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:2:12</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type I
           ports
            power in p [6,1];
            signal out state [6,1];
           restrictions
            causality preferred in p;
           parameters
            real m = 1.0;
            real I[3,1] = [1.0; 1.0; 1.0];
          end;
          icon bg top
           figures
            text 'I' 616 184 18 bold;
          end;
          implementation eq
variables
	real II[6,6]; //Inertial tensor
equations
	II = [I[1],0,	0,	0,	0,	0;
			0,	I[2],0,	0,	0,	0;
			0,	0,	I[3],0,	0,	0;
			0,	0,	0,	m,	0,	0;
			0,	0,	0,	0,	m,	0;
			0,	0,	0,	0,	0,	m];

    state = int(p.e); //state = generalized momentum
    p.f = inverse(II)*state;
implementation_end;
         plug Hout 896 496;
         plug p1 904 304;
         plug Hin 592 496;
         plug p 592 304;
         Splitter1 664 496
          description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          knot Splitter
           ports
            signal knot duplicatable out output [4,4];
            signal knot in input [4,4];
          end;
          icon bg ellipse
           figures
            ellipse 660.8 492.8 667.2 499.2 color -1 fill 0;
            ellipse 659.7 491.7 668.3 500.3 color -1;
           terminals
            input 664 496 fixed;
          end;
          implementation eq
equations
    collect (output) = input;
implementation_end;
         Ta00 720 416
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out flow [6,1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg bottom
           figures
            text '1' 720 416 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         Ta0i 664 296
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <Description></Description>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out flow [6,1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg bottom
           figures
            text '1' 664 296 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
         Ta0k 664 184
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <Description></Description>
</Description>';
          knot OneJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out flow [6,1];
           restrictions
            causality constraint one_out p;
          end;
          icon bg top
           figures
            text '1' 664 184 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
        end;
        connections
         AdHik\p2 => Ta0k\p;
         Ta0k\p => EJS\p1;
         p1 => AdHij\p2;
         Ta00\p => AdHi0\p1;
         Ta0k\p => InertialTensor\p;
         Ta0i\p <= AdHik1\p1;
         AdHi0\p2 => AdHik1\p2;
         Gravity\p => Ta00\p;
         Ta0i\p => AdHik\p1;
         p <= Ta0i\p;
         Ta0i\p <= AdHij\p1;
         Hin -> Splitter1\input;
         Hij\output -> Hout;
         Splitter1\output -> Hij\input;
         Splitter1\output -> AdHi0\H;
         Hij\Hab -> AdHij\H;
        end;
        parameterrelations
InertialTensor\I = I;
InterialTensor\m = m;
EJS\I = I;
EJS\m = m;
AdHik\COMdim = COMdim;
AdHik1\COMdim = COMdim;
Hij\dim = dim;
Gravity\m=m;parameterrelations_end;
        figures
         text 'b = current link (body)
a = previous link (body)
i = Body fixed frame, fixed in joint with previous link
j = Body fixed frame, fixed in joint with next link
k = Body fixed frame, principal inertial frame
0 = inertial system
 ' 352 296;
       implementation_end;
      C 400 800
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\3D\C-3.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:12:8</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type 'C-3'
        ports
         power in p [6,1];
         signal in Hvp0 [4,4];
         signal in Htip0 [4,4];
         signal in Htf [4,4];
        restrictions
         causality preferred out p;
       end;
       icon bg left
        figures
         text 'C' 400 800 18 bold;
       end;
       implementation eq
parameters
	real Kt[3] = [10;10;10];
	real Ko[3] =[0;0;0];
	real Kc[3]= [0.0;0.0;0.0];
variables
//note: last index is top; first index is bottom;
	real Rij[3,3];
	real Rji[3,3];
	real pij[3];
	real Gt[3,3],Go[3,3],Gc[3,3];
	real m[3,3], f[3,3];
	real deltaH[4,4];
	real Hvp0tf[4,4];
	real Htip0tf[4,4];
	real effort[6];
	real V;
equations
	Gt=1/2*trace(diag(Kt))*eye(3)-diag(Kt);
	Go=1/2*trace(diag(Ko))*eye(3)-diag(Ko);
	Gc=1/2*trace(diag(Kc))*eye(3)-diag(Kc);
	deltaH= inverseH(Hvp0*Htf)*Htip0*Htf;
	Hvp0tf=Hvp0*Htf;
	Htip0tf=Htip0*Htf;
   Rij=deltaH[1:3,1:3];
	pij=deltaH[1:3,4];
	Rji=transpose(Rij);
	m=-2*antisym(Go*Rij)-antisym(Gt*Rji*skew(pij)*skew(pij)*Rij)-2*antisym(Gc*skew(pij)*Rij);
	f=-Rji*antisym(Gt*skew(pij))*Rij-antisym(Gt*Rji*skew(pij)*Rij)-2*antisym(Gc*Rij);
	effort=[m[3,2];m[1,3];m[2,1];f[3,2];f[1,3];f[2,1]];
   p.e=-transpose(Adjoint(inverseH(Htip0tf)))*effort;
	V=-trace(Go*Rij)+trace(Go*eye(3))-1/4*trace(skew(pij)*Gt*skew(pij))-1/4*trace(skew(pij)*Rij*Gt*Rji*skew(pij));
	// p.e = inverse(c) *state;
implementation_end;
      CalculateJ 568 440
       description '<Description>
 <Version>4.1</Version>
 <LibraryPath>CalculateYoubotJ.emx</LibraryPath>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <TimeStamp>2011-1-19 15:06:55</TimeStamp>
 <AllowLibraryUpdate>False</AllowLibraryUpdate>
</Description>';
       type Submodel
        ports
         signal in jointVelocities [8,1];
         signal out controllableJ [6,8];
         signal out Htip0 [4,4];
        parameters
         real InitialJointPos[5,1] = [1.0; 1.0; 1.0; 1.0; 1.0];
         real Linkdim[3,6] = [0.024, 0.033, 0.0, 0.0, 0.0, 0.0; 0.0, 0.0, 0.0, 0.0, 0.0, 0.0; 0.096, 0.019, 0.155, 0.135, 0.096, 0.034];
         real InitialBasePos[4,4] = [1.0, 0.0, 0.0, 1.0; 0.0, 1.0, 0.0, 0.0; 0.0, 0.0, 1.0, 0.0; 0.0, 0.0, 0.0, 1.0];
       end;
       icon bg top
        figures
         rectangle 531 418 605 462 fill 11206627;
         text 'Calculate
YouBot J' 568 440 16;
       end;
       implementation eq
parameters
	real baseoffset[3]=[0.143;  0;  0.046]; //coordinates of joint_1 
constants
	
	real hidden vx[3] = [1;0;0];
	real hidden vy[3] = [0;1;0];
	real hidden omegaz[3] = [0;0;1];

	real hidden omega1[3] = [0;0;-1]; 
	real hidden omega2[3] = [0;1;0]; 
	real hidden omega3[3] = [0;1;0]; 
	real hidden omega4[3] = [0;1;0]; 
	real hidden omega5[3] = [0;0;-1];
	
variables
	real uTrzrefref[6];
	real uTryrefref[6];
	real uTrxrefref[6];
	real uTr1refref[6];
	real uTr211[6];	
	real uTr322[6];	
	real uTr433[6];
	real uTr544[6];


	real 					R1ref[3,3], 	R21[3,3], 	R32[3,3], 	R43[3,3], 	R54[3,3], 	Rtip5[3,3];
	real 					p1ref[3], 		p21[3], 		p32[3], 		p43[3], 		p54[3], 		ptip5[3];
	real 	Href0[4,4],	H1ref[4,4], 	H21[4,4], 	H32[4,4], 	H43[4,4], 	H54[4,4], 	Htip5[4,4];
	real 					H10[4,4],		H20[4,4],	H30[4,4],	H40[4,4],	H50[4,4];
	
	real base_offset_H[4,4];

	real q[8];
/*	real T[6];
	real tildeT[4,4];
	real dotH[4,4];*/
	real initialq[8];
real Rz[3,3];
/*
code

	T = [0;0;jointVelocities[1];jointVelocities[3];jointVelocities[2];0];	
	tildeT = tilde(T);
	dotH = Href0*tildeT;
	Href0 = int(dotH,InitialBasePos);
*/
initialequations
	initialq = [0;0;0;InitialJointPos[1];InitialJointPos[2];InitialJointPos[3];InitialJointPos[4];InitialJointPos[5]];
equations
	base_offset_H=homogeneous(eye(3),baseoffset);
	q =jointVelocities;// int(jointVelocities,initialq);
	Rz=[cos(q[1]), -sin(q[1]), 0; 
		sin(q[1]), cos(q[1]), 	0;
		 0, 					0, 					1];
Href0 =homogeneous(Rz,[q[2];q[3];0])*base_offset_H;
//Calculate relative positions of the joints
R1ref = [	cos(-q[4]),	-sin(-q[4]),	0;
			sin(-q[4]),	cos(-q[4]),	0;
			0,				0,				1];
p1ref = Linkdim[1:3,1];
H1ref = homogeneous(R1ref,p1ref);

R21 = [	cos(q[5]),	0,	sin(q[5]);
			0,				1,	0;
			-sin(q[5]),	0,	cos(q[5])];
p21 = Linkdim[1:3,2];
H21 = homogeneous(R21,p21);

R32 = [	cos(q[6]),	0,	sin(q[6]);
			0,				1,	0;
			-sin(q[6]),	0,	cos(q[6])];
p32 = Linkdim[1:3,3];
H32 = homogeneous(R32,p32);

R43 = [	cos(q[7]),	0,	sin(q[7]);
			0,				1,	0;
			-sin(q[7]),	0,	cos(q[7])];
p43 = Linkdim[1:3,4];
H43 = homogeneous(R43,p43);

R54 = [	cos(-q[8]),	-sin(-q[8]),	0;
			sin(-q[8]),	cos(-q[8]),	0;
			0,				0,				1];
p54 = Linkdim[1:3,5];
H54 = homogeneous(R54,p54);

Rtip5 = eye(3);
ptip5 = Linkdim[1:3,6];
Htip5 = homogeneous(Rtip5,ptip5);

//calculate position of the joints with respect to inertial frame

H10 = Href0 * H1ref;
H20 = H10 * H21;
H30 = H20 * H32;
H40 = H30 * H43;
H50 = H40 * H54;
Htip0 = H50 * Htip5;

uTrzrefref[1:3] = omegaz; 
uTrzrefref[4:6] = 0;
uTryrefref[1:3] = 0;
uTryrefref[4:6] = vy;
uTrxrefref[1:3] = 0;
uTrxrefref[4:6] = vx;
uTr1refref[1:3] = omega1;
uTr1refref[4:6] = skew(Linkdim[1:3,1])*omega1;
uTr211[1:3] = omega2;
uTr211[4:6] = skew(Linkdim[1:3,2])*omega2;
uTr322[1:3] = omega3;
uTr322[4:6] = skew(Linkdim[1:3,3])*omega3;
uTr433[1:3] = omega4;
uTr433[4:6] = skew(Linkdim[1:3,4])*omega4;
uTr544[1:3] = omega5;
uTr544[4:6] = skew(Linkdim[1:3,5])*omega5;

//Construct Geometric Jacobian

controllableJ[1:6,1] = Adjoint(Href0)*uTrzrefref;
controllableJ[1:6,3] = Adjoint(Href0)*uTryrefref;
controllableJ[1:6,2] = Adjoint(Href0)*uTrxrefref;

controllableJ[1:6,4] = Adjoint(Href0)*uTr1refref;
controllableJ[1:6,5] = Adjoint(H10)*uTr211;
controllableJ[1:6,6] = Adjoint(H20)*uTr322;
controllableJ[1:6,7] = Adjoint(H30)*uTr433;
controllableJ[1:6,8] = Adjoint(H40)*uTr544;



implementation_end;
      CartesianSafetyFilter1 112 608
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:15:12</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type Gain
        ports
         signal in u [6,1];
         signal out y [6,1];
       end;
       icon bg
        figures
         rectangle 64 592 160 624 fill 15132390;
         text 'Low-Pass Filter' 112.5 600.7 color 16711680 14;
         text 'BW 2    (Hz) ' 112.5 614.6 color 16711680 14;
         text 'nd' 113.6 609.3 color 16711680;
       end;
       implementation eq
// Created by C. Kleijn, 27 September 1999
parameters
    real BW  = 0.3;	// Bandwidth (Hz)
	real initPos[6]=[0;0;-3;0;0;1];
variables
    real hidden s1y[6],s2y[6],BWrad;
equations
		BWrad = BW*2*3.1415926536;
    	s2y = BWrad^2*(u - y) - 1.4142*BWrad*s1y;
    	s1y = int(s2y);
   	y = int(s1y,initPos);         implementation_end;
      CartesianSpaceStiffness 312 608
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Control\PID Control\Continuous\P.emx</LibraryPath>
 <TimeStamp>2008-1-17 10:48:8</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type P
        ports
         signal out effort [6,1];
         signal in Htip0 [4,4];
         signal in Hvp0 [4,4];
         signal in Htip_cc [4,4];
       end;
       icon bg
        figures
         rectangle 280 576 344 640 fill 15132390;
         text 'Cartesian
Space 
Stiffness' 312 610 color 16711680 15;
        terminals
         effort 344 608 fixed;
         Htip0 312 576 fixed;
       end;
       implementation eq
parameters
	real Kt[3]= [10;10;10];
	real Ko[3]= [0.0;0.0;0.0];
	real Kc[3]=[0,0,0];
 	//boolean vp_equal_to_tip=true;
	real T_cc[6]=[0;0;0; 0;0;0];
	real alpha=0.3 {rad} ;
	real k=10 {N/m};
variables
	real Kcc[ 6, 6 ];
	real Ktip[6,6];
	real T1_00 [4,4], H_dot1_0[4,4],	H1_0[4,4];
	real costiffness1[ 3, 3 ], costiffness2[ 3, 3 ], costiffness3[ 3, 3 ],
		dummy1[ 3, 3 ], dummy2[ 3, 3 ], dummy3[ 3, 3 ], dummy4[ 3, 3 ], dummy5[ 3, 3 ],
		pose21[ 4, 4 ], skew21[ 3, 3 ], orientation21[ 3, 3 ];
	real Hvp0_temp[4,4];
	real Temp[4,4];
	boolean vp_equal_to_tip;
	real V;
initialequations
	Hvp0_temp=eye(4);
 	vp_equal_to_tip=true;
equations
 if vp_equal_to_tip then
	Hvp0_temp=Htip0;
 vp_equal_to_tip=false;
else
	Hvp0_temp=Hvp0;
end;
	H1_0 =inverseH(Hvp0_temp*(Htip_cc))*Htip0*(Htip_cc);// inverseH(Htip0)*Hvp0_temp;// =H0tip*Hvp0 int (H_dot1_0, H1_0_initial);
	
	Kcc[1:3,1:3] = diag(Ko); //A by Josip
	Kcc[1:3,4:6] = diag(Kc); //B by Josip
	Kcc[4:6,1:3] = transpose(diag(Kc)); // is it correct of it should be negative
	Kcc[4:6,4:6] =diag(Kt);//diag([3/2*k*sin(alpha)^2;3/2*k*sin(alpha)^2;3*k*cos(alpha)^2]);// diag(Kt);  //C by Josip
	Ktip=Kcc;//latex noation K_{tip}=(Ad_{H^{tip}_{cc}})^{T}*K_{cc}*Ad_{H^{tip}_{cc}
Temp=inverseH(Htip_cc);
	dummy1 = Ktip[ 1 : 3, 1 : 3 ];
	dummy2 = Ktip[ 1 : 3, 4 : 6 ];
	dummy3 = Ktip[ 4 : 6, 4 : 6 ];
	costiffness1 = 0.5 * trace( dummy1 ) * eye( 3 ) - dummy1;
	costiffness2 = 0.5 * trace( dummy2 ) * eye( 3 ) - dummy2;
	costiffness3 = 0.5 * trace( dummy3 ) * eye( 3 ) - dummy3;

	"create T_tilde from the twist T1_00 of body 1 in coordinates of body 0 with respect to body 0"
//	T1_00 = tilde (p.f);
	
	"create the H_dot matrix for calculation of the transformation matrix H from body 1 to body 0"
//	H_dot1_0 = T1_00 * H1_0;
	

	pose21 = H1_0;
	skew21 = skew( pose21[ 1 : 3, 4 ] );
	orientation21 = pose21[ 1 : 3, 1 : 3 ];

	dummy4 = 2 * antisym( costiffness1 * orientation21 ) + antisym( costiffness3 * transpose( orientation21 ) * skew21 * skew21 * orientation21 ) + 2 * antisym( costiffness2 * skew21 * orientation21 );
	dummy5 = transpose( orientation21 ) * antisym( costiffness3 * skew21 ) * orientation21 + antisym( costiffness3 * transpose( orientation21 ) * skew21 * orientation21 ) + 2 * antisym( costiffness2 * orientation21 );
	effort= -transpose(Adjoint(inverseH(Htip0*(Htip_cc))))* [ dummy4[ 3, 2 ]; dummy4[ 1, 3 ]; dummy4[ 2, 1 ]; dummy5[ 3, 2 ]; dummy5[ 1, 3 ]; dummy5[ 2, 1 ] ];

	V=-trace(costiffness1*orientation21)+trace(costiffness1*eye(3))-1/4*trace(skew21*costiffness3*skew21)-1/4*trace(skew21*orientation21*costiffness3*transpose(orientation21)*skew21);implementation_end;
      Constant 120 728
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Sources\Constant.emx</LibraryPath>
 <TimeStamp>2007-10-19 14:48:44</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type Constant
        ports
         signal out output [6,1];
       end;
       icon bg bottom
        figures
         rectangle 104.1 712 135.9 744 fill 15132390;
         line 108.9 723.6 130.9 723.6 color 16711680 width 2;
         line 106.2 734.7 131.9 734.7;
         line 108.5 718.7 108.5 737;
       end;
       implementation eq
parameters
	real C[6] = [0.0;0.0;0.0;0.0;0.0;0.0];		// output value
equations
	output = C;
     implementation_end;
      Deadzone 736 512
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram Non-Linear\SignalLimiter-Limit.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:47:40</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type 'SignalLimiter-Limit'
        ports
         signal in input [8,1];
         signal out output [8,1];
       end;
       icon bg right
        figures
         group
          rectangle 720 496 752 528 fill 15132390;
          line 736.4 502.9 736.4 522.1;
          line 723.4 520.2 730.7 512 741.5 512 747.9 503.1 color 16711680 fill 15132390 width 2;
         end;
       end;
       implementation eq
parameters
	real p_deadzone[8]= [0.06;0.06;0.06;0.06;0.06;0.06;0.06;0.06];//friction on the speed more then 4 grad per sec
	real n_deadzone[8]= [-0.06;-0.06;-0.06;-0.06;-0.06;-0.06;-0.06;-0.06];//friction on the speed more then 4 grad per sec
equations
	output[1]=(limit((input[1]-n_deadzone[1]),-30,0))+(limit((input[1]-p_deadzone[1]),0,30));
	output[2]=(limit((input[2]-n_deadzone[2]),-30,0))+(limit((input[2]-p_deadzone[2]),0,30));
	output[3]=(limit((input[3]-n_deadzone[3]),-30,0))+(limit((input[3]-p_deadzone[3]),0,30));
	output[4]=(limit((input[4]-n_deadzone[4]),-30,0))+(limit((input[4]-p_deadzone[4]),0,30));
	output[5]=(limit((input[5]-n_deadzone[5]),-30,0))+(limit((input[5]-p_deadzone[5]),0,30));
	output[6]=(limit((input[6]-n_deadzone[6]),-30,0))+(limit((input[6]-p_deadzone[6]),0,30));
	output[7]=(limit((input[7]-n_deadzone[7]),-30,0))+(limit((input[7]-p_deadzone[7]),0,30));
	output[8]=(limit((input[8]-n_deadzone[8]),-30,0))+(limit((input[8]-p_deadzone[8]),0,30));implementation_end;
      Differentiate 928 320
       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\Differentiate-SVF.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:10:52</TimeStamp>
</Description>';
       type 'Differentiate-SVF'
        ports
         signal in input [8,1];
         signal out output [8,1];
       end;
       icon bg bottom
        figures
         rectangle 912 304 944 336 fill 15132390;
         text 'd/dt' 929.1 315.7 color 16711680 13 bold;
         text 'SVF' 928 326.9 color 16711680 13 bold;
       end;
       implementation eq
parameters
	real N [8]= [100.0;100.0;100.0;100.0;100.0;100.0;100.0;100.0];		// Derivative gain
	real initial[8] = [0.0;0.0;0.0;0.0;0.0;0.0;0.0;0.0];	// Initial output
variables
	real hidden rate[8];
	real hidden initial_input[8];
	boolean hidden initialized;
initialequations
	initialized = false;
equations
	if not initialized then 
		initial_input = input; 
		initialized = true;
	end;
	rate  = - diag(N) * output;
	output = diag(N) * (input - initial_input)  + int (rate,initial);implementation_end;
      Gain 408 536
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:15:12</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type Gain
        ports
         signal in input [6,1];
         signal out output [6,1];
       end;
       icon bg bottom
        figures
         rectangle 392.1 520 423.9 552 fill 15132390;
         text 'K' 408 536 color 16711680 16 bold;
       end;
       implementation eq
parameters
	real K[6] = [0.0;0.0;0.0;0.0;0.0;0.0];		// gain
equations
	output = diag(K) * input;
    implementation_end;
      GravityCompensationModel 1160 504
       description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
 <LibraryPath>youBot_GravityCompensation.emx</LibraryPath>
 <TimeStamp>2011-1-21 10:13:56</TimeStamp>
</Description>';
       type Submodel
        ports
         signal out joints [8,1];
         signal in jointPos [8,1];
        parameters
         real InitialJointPos[5,1] = [0.0; 0.0; 0.0; 0.0; 0.0];
         real LinkCOMdim[3,6] = [0.01489, 0.10453, 0.001, 0.011, 0.0, 0.0; 0.00213, 0.0017, 0.0967, 0.05103, 0.00115, 0.0; 0.00213, -0.00297, 0.02107, -0.02319, -0.01683, 0.001];
         real Linkdim[3,6] = [0.024, 0.033, 0.0, 0.0, 0.0, 0.0; 0.0, 0.0, 0.0, 0.0, 0.0, 0.0; 0.096, 0.019, 0.155, 0.135, 0.096, 0.034];
         real Linkm[6,1] = [20.0; 2.412; 1.155; 0.934; 0.877; 1.121];
       end;
       icon bg
        figures
         rectangle 1105.5 465 1214.5 543 fill 11206638;
         text '     youBot
     Gravity
Compensation' 1158.5 505 16;
       end;
       implementation bg
        submodels
         Base 208 472
          description '<Description>
   <Version>4.1</Version>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <LibraryPath>Link_GravityCompensation.emx</LibraryPath>
  <TimeStamp>2011-1-19 11:37:47</TimeStamp>
<Description>Base</Description>
</Description>';
          type Submodel
           ports
            power out p [6,1];
            signal in Hin [4,4];
            power in p1 [6,1];
            signal out Hout [4,4];
           parameters
            real m = 20.0;
            real COMdim[3,1] = [0.01489; 0.00213; 0.00213];
            real dim[3,1] = [0.024; 0.0; 0.096];
          end;
          icon bg bottom
           figures
            rectangle 176 400 240 544 fill 10025880;
            text 'Link
GC' 208 472;
           terminals
            p 176 432 fixed;
            Hin 176 512 fixed;
            p1 240 432 fixed;
            Hout 240 512 fixed;
          end;
          implementation bg
           submodels
            AdHi0 664 416
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type MTF
              ports
               power in p1 [6,1];
               power out p2 [6,1];
               signal in H [4,4];
              restrictions
               causality constraint not_equal p1 p2;
             end;
             icon bg left
              figures
               text 'MTF' 664 416 18 bold;
             end;
             implementation eq
variables
 	real onlyRotH[4,4];
code
	//Only rotations with respect to the inertial system matter!
	onlyRotH = H;
	onlyRotH[1,4] = 0;
	onlyRotH[2,4] = 0;
	onlyRotH[3,4] = 0;
						
	p2.e = transpose(Adjoint(onlyRotH)) * p1.e;
	p1.f = Adjoint(onlyRotH) * p2.f;
implementation_end;
            AdHij 816 304
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type MTF
              ports
               power out p1 [6,1];
               power in p2 [6,1];
               signal in H [4,4];
              restrictions
               causality constraint not_equal p1 p2;
             end;
             icon bg top
              figures
               text 'MTF' 816 304 18 bold;
             end;
             implementation eq
equations
	//Only rotations with respect to the inertial system matter!
						
	p1.e = transpose(Adjoint(H)) * p2.e;
	p2.f = Adjoint(H) * p1.f;
implementation_end;
            AdHik1 664 368
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type TF
              ports
               power out p1 [6,1];
               power in p2 [6,1];
              restrictions
               causality constraint not_equal p1 p2;
              parameters
               real COMdim[3,1] = [0.01489; 0.00213; 0.00213];
             end;
             icon bg left
              figures
               text 'TF' 664 368 18 bold;
             end;
             implementation eq
//Principal inertial frame connected in port 2
variables
	real d[3]; //distance between frames
	real R[3,3]; //rotation between frames

	real H[4,4]; //homogeneous matrix
	real AdH[6,6]; //Adjoint of homogeneous matrix
equations
	d = COMdim; //distance of 1 in z direction of frames
	R = eye(3); //no rotation

	H = homogeneous(R,d);
	AdH = Adjoint(H);

	p1.f = AdH * p2.f; 
	p2.e = transpose(AdH) * p1.e;
implementation_end;
            Gravity 776 416
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\Se.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:26</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Se
              ports
               power out p [6,1];
              restrictions
               causality fixed out p;
              parameters
               real m = 20.0;
             end;
             icon bg bottom
              figures
               text 'Se' 776 416 18 bold;
             end;
             implementation eq
variables
	real effort[6];
equations
	effort = [0;0;0;0;0;-9.8*m];
	p.e = effort;
implementation_end;
            Hij 816 496
             description '<Description>
   <Version>4.1</Version>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>H.emx</LibraryPath>
  <TimeStamp>2010-9-21 15:03:50</TimeStamp>
<AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Gain
              ports
               signal in input [4,4];
               signal out output [4,4];
               signal out Hab [4,4];
              parameters
               real dim[3,1] = [0.024; 0.0; 0.096];
             end;
             icon bg bottom
              figures
               rectangle 800.1 480 831.9 512 fill 15132390;
               text 'H' 816 496 color 16711680 16 bold;
             end;
             implementation eq
equations
	Hab = homogeneous(eye(3),dim);
	output = input * Hab;
    implementation_end;
            plug Hin 592 496;
            plug p1 904 304;
            plug Hout 896 496;
            plug p 592 304;
            Splitter1 664 496
             description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
             knot Splitter
              ports
               signal knot duplicatable out output [4,4];
               signal knot in input [4,4];
             end;
             icon bg ellipse
              figures
               ellipse 660.8 492.8 667.2 499.2 color -1 fill 0;
               ellipse 659.7 491.7 668.3 500.3 color -1;
              terminals
               input 664 496 fixed;
             end;
             implementation eq
equations
    collect (output) = input;
implementation_end;
            Ta00 720 416
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             knot OneJunction
              ports
               power knot duplicatable none p [6,1];
               signal knot out flow [6,1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg bottom
              figures
               text '1' 720 416 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
            Ta0i 664 304
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <Description></Description>
</Description>';
             knot OneJunction
              ports
               power knot duplicatable none p [6,1];
               signal knot out flow [6,1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg bottom
              figures
               text '1' 664 304 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
           end;
           connections
            Ta0i\p <= AdHik1\p1;
            AdHi0\p2 => AdHik1\p2;
            Gravity\p => Ta00\p;
            p <= Ta0i\p;
            Ta0i\p <= AdHij\p1;
            p1 => AdHij\p2;
            Ta00\p => AdHi0\p1;
            Hin -> Splitter1\input;
            Hij\output -> Hout;
            Splitter1\output -> Hij\input;
            Splitter1\output -> AdHi0\H;
            Hij\Hab -> AdHij\H;
           end;
           parameterrelations
AdHik1\COMdim = COMdim;
Hij\dim = dim;
Gravity\m=m;parameterrelations_end;
           figures
            text 'b = current link (body)
a = previous link (body)
i = Body fixed frame, fixed in joint with previous link
j = Body fixed frame, fixed in joint with next link
k = Body fixed frame, principal inertial frame
0 = inertial system
 ' 416 376;
          implementation_end;
         EffortSensor 536 64
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\EffortSensor.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:59:27</TimeStamp>
</Description>';
          knot EffortSensor
           ports
            power knot in p1 [8,1];
            power knot out p2 [8,1];
            signal knot out effort [8,1];
           restrictions
            causality constraint not_equal p1 p2;
          end;
          icon bg ellipse
           figures
            ellipse 529.1 58.3 542.9 72.4 fill 16777215;
            text 'e' 536.5 62.6;
          end;
          implementation eq
equations
	p2.e = p1.e;
	p1.f = p2.f;
	effort = p1.e;
implementation_end;
         Hfloor0 112 512
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Sources\Constant.emx</LibraryPath>
 <TimeStamp>2007-10-19 14:48:44</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Constant
           ports
            signal out output [4,4];
          end;
          icon bg bottom
           figures
            rectangle 96.1 496 127.9 528 fill 15132390;
            line 100.9 507.6 122.9 507.6 color 16711680 width 2;
            line 98.2 518.7 123.9 518.7;
            line 100.5 502.7 100.5 521;
          end;
          implementation eq
equations
	output = eye(4);
     implementation_end;
         Htip0 1088 512
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\SignalMonitor.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:14:4</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type SignalMonitor
           ports
            signal in input [4,4];
          end;
          icon bg bottom
           figures
            rectangle 1072 496 1104 528 fill 15132390;
            rectangle 1077.7 501.8 1098.3 522.6 color 16711680 fill 11776947 width 2;
            rectangle 1079.8 504.4 1095.9 520 color -1 fill 16777215;
            line 1081.9 506.7 1081.9 518 fill 16777215;
            line 1080 516.4 1092.5 516.4 fill 16777215;
            line 1081.5 516.1 1094.4 509.7 color 255 fill 16777215;
          end;
          implementation eq

   implementation_end;
         Joint12 448.2 472
          description '<Description>
   <Version>4.1</Version>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <LibraryPath>Joint-roty_GravityCompensation.emx</LibraryPath>
  <TimeStamp>2011-1-19 11:38:03</TimeStamp>
</Description>';
          type 'Submodel-roty'
           ports
            power out p [6,1];
            power in p1;
            power in p2 [6,1];
            signal in Hin [4,4];
            signal out Hout [4,4];
            signal in angle;
           parameters
            real InitialPos = 0.0;
          end;
          icon bg bottom
           figures
            rectangle 416.4 400 479.9 544 fill 14745599;
            text 'Joint-roty
   GC' 448.4 475 fill 14745599;
           terminals
            p 415.9 432 fixed;
            p1 447.4 400 fixed;
            p2 479.9 432 fixed;
            Hin 415.9 512 fixed;
            Hout 479.9 512 fixed;
          end;
          implementation bg
           submodels
            AdHji 424 424
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type MTF
              ports
               power out p1 [6,1];
               power in p2 [6,1];
               signal in H [4,4];
              restrictions
               causality constraint not_equal p1 p2;
             end;
             icon bg bottom
              figures
               text 'MTF' 424 424 18 bold;
             end;
             implementation eq
equations					
	p2.e = transpose(Adjoint(H)) * p1.e;
	p1.f = Adjoint(H) * p2.f;implementation_end;
            Integrate 320 336
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:3:23</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Integrate
              ports
               signal in input;
               signal out output [4,4];
              parameters
               real init = 0.0;
             end;
             icon bg
              figures
               rectangle 304 320 336 352 fill 15132390;
               text 'ò' 320 333.3 color 16711680 'SymbolProp BT' 21 symbol;
             end;
             implementation eq
variables
	real R[3,3];
	real p[3];
	real q;
equations
q = input;//int(input,init);
R = [	cos(q),	0,	sin(q);
			0,				1,	0;
			-sin(q),	0,	cos(q)];
p = [0;0;0];
output = homogeneous(R,p);
	
     implementation_end;
            MatrixMul 320 496
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:15:12</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Gain
              ports
               signal in input1 [4,4];
               signal out output [4,4];
               signal in input2 [4,4];
             end;
             icon bg bottom
              figures
               rectangle 304.1 480 335.9 512 fill 15132390;
               text 'X' 320 496 color 16711680 16 bold;
             end;
             implementation eq
equations
	output = input2*input1;    implementation_end;
            plug p1 240 56;
            plug p2 496 424;
            plug Hin 112 496;
            plug Hout 504 496;
            plug angle 320 208;
            plug p 112 424;
            OneJunction 240 272
             description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:18</TimeStamp>
</Description>';
             knot OneJunction
              ports
               power knot duplicatable none p [1];
               signal knot out flow [1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg
              figures
               text '1' 240 272 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
            Splitter2 320 368
             description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
             knot Splitter
              ports
               signal knot duplicatable out output [4,4];
               signal knot in input [4,4];
             end;
             icon bg ellipse
              figures
               ellipse 316.8 364.8 323.2 371.2 color -1 fill 0;
               ellipse 315.7 363.7 324.3 372.3 color -1;
              terminals
               input 320 368 fixed;
             end;
             implementation eq
equations
    collect (output) = input;
implementation_end;
            Tbai 240 384
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             knot OneJunction
              ports
               power knot duplicatable none p [6,1];
               signal knot out flow [6,1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg left
              figures
               text '1' 240 384 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
            uTbai 240 328
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type TF
              ports
               power in p1;
               power out p2 [6,1];
              restrictions
               causality constraint not_equal p1 p2;
             end;
             icon bg left
              figures
               text 'TF' 240 328 18 bold;
             end;
             implementation eq
equations
	p2.f = [0;p1.f;0;0;0;0];
	p1.e = p2.e[2];
implementation_end;
            Wbai 240 424
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:43</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             knot ZeroJunction
              ports
               power knot duplicatable none p [6,1];
               signal knot out effort [6,1];
              restrictions
               causality constraint one_in p;
             end;
             icon bg bottom
              figures
               text '0' 240 424 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
            ZeroJunction 240 104
             description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:43</TimeStamp>
</Description>';
             knot ZeroJunction
              ports
               power knot duplicatable none p [1];
               signal knot out effort [1];
              restrictions
               causality constraint one_in p;
             end;
             icon bg
              figures
               text '0' 240 104 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
           end;
           connections
            p1 => ZeroJunction\p;
            uTbai\p2 => Tbai\p;
            Tbai\p => Wbai\p;
            p <= Wbai\p;
            ZeroJunction\p => OneJunction\p;
            OneJunction\p => uTbai\p1;
            Wbai\p <= AdHji\p1;
            p2 => AdHji\p2;
            MatrixMul\output -> Hout;
            Hin -> MatrixMul\input2;
            Integrate\output -> Splitter2\input;
            Splitter2\output -> MatrixMul\input1;
            Splitter2\output -> AdHji\H 424 368;
            angle -> Integrate\input;
           end;
           parameterrelations
Integrate\init = InitialPos;parameterrelations_end;
           figures
            text 'b = next link (body)
a = previous link (body)
i = Frame fixed in previous body, fixed in joint
j = Frame fixed in next body, fixed in joint
 ' 744 400;
          implementation_end;
         Joint23 608.2 472
          description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
 <LibraryPath>Joint-roty_GravityCompensation.emx</LibraryPath>
 <TimeStamp>2011-1-19 11:38:03</TimeStamp>
</Description>';
          type 'Submodel-roty'
           ports
            power out p [6,1];
            power in p1;
            power in p2 [6,1];
            signal in Hin [4,4];
            signal out Hout [4,4];
            signal in angle;
           parameters
            real InitialPos = 0.0;
          end;
          icon bg bottom
           figures
            rectangle 576.4 400 639.9 544 fill 14745599;
            text 'Joint-roty
   GC' 608.4 475 fill 14745599;
           terminals
            p 575.9 432 fixed;
            p1 607.4 400 fixed;
            p2 639.9 432 fixed;
            Hin 575.9 512 fixed;
            Hout 639.9 512 fixed;
          end;
          implementation bg
           submodels
            AdHji 424 424
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type MTF
              ports
               power out p1 [6,1];
               power in p2 [6,1];
               signal in H [4,4];
              restrictions
               causality constraint not_equal p1 p2;
             end;
             icon bg bottom
              figures
               text 'MTF' 424 424 18 bold;
             end;
             implementation eq
equations					
	p2.e = transpose(Adjoint(H)) * p1.e;
	p1.f = Adjoint(H) * p2.f;implementation_end;
            Integrate 320 336
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:3:23</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Integrate
              ports
               signal in input;
               signal out output [4,4];
              parameters
               real init = 0.0;
             end;
             icon bg
              figures
               rectangle 304 320 336 352 fill 15132390;
               text 'ò' 320 333.3 color 16711680 'SymbolProp BT' 21 symbol;
             end;
             implementation eq
variables
	real R[3,3];
	real p[3];
	real q;
equations
q = input;//int(input,init);
R = [	cos(q),	0,	sin(q);
			0,				1,	0;
			-sin(q),	0,	cos(q)];
p = [0;0;0];
output = homogeneous(R,p);
	
     implementation_end;
            MatrixMul 320 496
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:15:12</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Gain
              ports
               signal in input1 [4,4];
               signal out output [4,4];
               signal in input2 [4,4];
             end;
             icon bg bottom
              figures
               rectangle 304.1 480 335.9 512 fill 15132390;
               text 'X' 320 496 color 16711680 16 bold;
             end;
             implementation eq
equations
	output = input2*input1;    implementation_end;
            plug p1 240 56;
            plug p2 496 424;
            plug Hin 112 496;
            plug Hout 504 496;
            plug angle 352 216;
            plug p 112 424;
            OneJunction 240 272
             description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:18</TimeStamp>
</Description>';
             knot OneJunction
              ports
               power knot duplicatable none p [1];
               signal knot out flow [1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg
              figures
               text '1' 240 272 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
            Splitter2 320 368
             description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
             knot Splitter
              ports
               signal knot duplicatable out output [4,4];
               signal knot in input [4,4];
             end;
             icon bg ellipse
              figures
               ellipse 316.8 364.8 323.2 371.2 color -1 fill 0;
               ellipse 315.7 363.7 324.3 372.3 color -1;
              terminals
               input 320 368 fixed;
             end;
             implementation eq
equations
    collect (output) = input;
implementation_end;
            Tbai 240 384
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             knot OneJunction
              ports
               power knot duplicatable none p [6,1];
               signal knot out flow [6,1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg left
              figures
               text '1' 240 384 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
            uTbai 240 328
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type TF
              ports
               power in p1;
               power out p2 [6,1];
              restrictions
               causality constraint not_equal p1 p2;
             end;
             icon bg left
              figures
               text 'TF' 240 328 18 bold;
             end;
             implementation eq
equations
	p2.f = [0;p1.f;0;0;0;0];
	p1.e = p2.e[2];
implementation_end;
            Wbai 240 424
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:43</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             knot ZeroJunction
              ports
               power knot duplicatable none p [6,1];
               signal knot out effort [6,1];
              restrictions
               causality constraint one_in p;
             end;
             icon bg bottom
              figures
               text '0' 240 424 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
            ZeroJunction 240 104
             description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:43</TimeStamp>
</Description>';
             knot ZeroJunction
              ports
               power knot duplicatable none p [1];
               signal knot out effort [1];
              restrictions
               causality constraint one_in p;
             end;
             icon bg
              figures
               text '0' 240 104 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
           end;
           connections
            p1 => ZeroJunction\p;
            uTbai\p2 => Tbai\p;
            Tbai\p => Wbai\p;
            p <= Wbai\p;
            ZeroJunction\p => OneJunction\p;
            OneJunction\p => uTbai\p1;
            Wbai\p <= AdHji\p1;
            p2 => AdHji\p2;
            MatrixMul\output -> Hout;
            Hin -> MatrixMul\input2;
            Integrate\output -> Splitter2\input;
            Splitter2\output -> MatrixMul\input1;
            Splitter2\output -> AdHji\H 424 368;
            angle -> Integrate\input;
           end;
           parameterrelations
Integrate\init = InitialPos;parameterrelations_end;
           figures
            text 'b = next link (body)
a = previous link (body)
i = Frame fixed in previous body, fixed in joint
j = Frame fixed in next body, fixed in joint
 ' 744 400;
          implementation_end;
         Joint34 768.2 472
          description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
 <LibraryPath>Joint-roty_GravityCompensation.emx</LibraryPath>
 <TimeStamp>2011-1-19 11:38:03</TimeStamp>
</Description>';
          type 'Submodel-roty'
           ports
            power out p [6,1];
            power in p1;
            power in p2 [6,1];
            signal in Hin [4,4];
            signal out Hout [4,4];
            signal in angle;
           parameters
            real InitialPos = 0.0;
          end;
          icon bg bottom
           figures
            rectangle 736.4 400 799.9 544 fill 14745599;
            text 'Joint-roty
   GC' 768.4 475 fill 14745599;
           terminals
            p 735.9 432 fixed;
            p1 767.4 400 fixed;
            p2 799.9 432 fixed;
            Hin 735.9 512 fixed;
            Hout 799.9 512 fixed;
          end;
          implementation bg
           submodels
            AdHji 424 424
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type MTF
              ports
               power out p1 [6,1];
               power in p2 [6,1];
               signal in H [4,4];
              restrictions
               causality constraint not_equal p1 p2;
             end;
             icon bg bottom
              figures
               text 'MTF' 424 424 18 bold;
             end;
             implementation eq
equations					
	p2.e = transpose(Adjoint(H)) * p1.e;
	p1.f = Adjoint(H) * p2.f;implementation_end;
            Integrate 320 336
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:3:23</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Integrate
              ports
               signal in input;
               signal out output [4,4];
              parameters
               real init = 0.0;
             end;
             icon bg
              figures
               rectangle 304 320 336 352 fill 15132390;
               text 'ò' 320 333.3 color 16711680 'SymbolProp BT' 21 symbol;
             end;
             implementation eq
variables
	real R[3,3];
	real p[3];
	real q;
equations
q = input;//int(input,init);
R = [	cos(q),	0,	sin(q);
			0,				1,	0;
			-sin(q),	0,	cos(q)];
p = [0;0;0];
output = homogeneous(R,p);
	
     implementation_end;
            MatrixMul 320 496
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:15:12</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Gain
              ports
               signal in input1 [4,4];
               signal out output [4,4];
               signal in input2 [4,4];
             end;
             icon bg bottom
              figures
               rectangle 304.1 480 335.9 512 fill 15132390;
               text 'X' 320 496 color 16711680 16 bold;
             end;
             implementation eq
equations
	output = input2*input1;    implementation_end;
            plug p1 240 56;
            plug p2 496 424;
            plug Hin 112 496;
            plug Hout 504 496;
            plug angle 336 216;
            plug p 112 424;
            OneJunction 240 272
             description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:18</TimeStamp>
</Description>';
             knot OneJunction
              ports
               power knot duplicatable none p [1];
               signal knot out flow [1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg
              figures
               text '1' 240 272 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
            Splitter2 320 368
             description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
             knot Splitter
              ports
               signal knot duplicatable out output [4,4];
               signal knot in input [4,4];
             end;
             icon bg ellipse
              figures
               ellipse 316.8 364.8 323.2 371.2 color -1 fill 0;
               ellipse 315.7 363.7 324.3 372.3 color -1;
              terminals
               input 320 368 fixed;
             end;
             implementation eq
equations
    collect (output) = input;
implementation_end;
            Tbai 240 384
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             knot OneJunction
              ports
               power knot duplicatable none p [6,1];
               signal knot out flow [6,1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg left
              figures
               text '1' 240 384 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
            uTbai 240 328
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type TF
              ports
               power in p1;
               power out p2 [6,1];
              restrictions
               causality constraint not_equal p1 p2;
             end;
             icon bg left
              figures
               text 'TF' 240 328 18 bold;
             end;
             implementation eq
equations
	p2.f = [0;p1.f;0;0;0;0];
	p1.e = p2.e[2];
implementation_end;
            Wbai 240 424
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:43</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             knot ZeroJunction
              ports
               power knot duplicatable none p [6,1];
               signal knot out effort [6,1];
              restrictions
               causality constraint one_in p;
             end;
             icon bg bottom
              figures
               text '0' 240 424 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
            ZeroJunction 240 104
             description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:43</TimeStamp>
</Description>';
             knot ZeroJunction
              ports
               power knot duplicatable none p [1];
               signal knot out effort [1];
              restrictions
               causality constraint one_in p;
             end;
             icon bg
              figures
               text '0' 240 104 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
           end;
           connections
            p1 => ZeroJunction\p;
            uTbai\p2 => Tbai\p;
            Tbai\p => Wbai\p;
            p <= Wbai\p;
            ZeroJunction\p => OneJunction\p;
            OneJunction\p => uTbai\p1;
            Wbai\p <= AdHji\p1;
            p2 => AdHji\p2;
            MatrixMul\output -> Hout;
            Hin -> MatrixMul\input2;
            Integrate\output -> Splitter2\input;
            Splitter2\output -> MatrixMul\input1;
            angle -> Integrate\input;
            Splitter2\output -> AdHji\H 424 368;
           end;
           parameterrelations
Integrate\init = InitialPos;parameterrelations_end;
           figures
            text 'b = next link (body)
a = previous link (body)
i = Frame fixed in previous body, fixed in joint
j = Frame fixed in next body, fixed in joint
 ' 744 400;
          implementation_end;
         Joint45 928.2 472
          description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
 <LibraryPath>Joint-rotz_GravityCompensation.emx</LibraryPath>
 <TimeStamp>2011-1-19 11:37:54</TimeStamp>
</Description>';
          type 'Submodel-rotz'
           ports
            power out p [6,1];
            power in p1;
            power in p2 [6,1];
            signal in Hin [4,4];
            signal out Hout [4,4];
            signal in angle;
           parameters
            real InitialPos = 0.0;
          end;
          icon bg bottom
           figures
            rectangle 896.4 400 959.9 544 fill 14745599;
            text 'Joint-rotz
   GC' 928.4 475 fill 14745599;
           terminals
            p 895.9 432 fixed;
            p1 927.4 400 fixed;
            p2 959.9 432 fixed;
            Hin 895.9 512 fixed;
            Hout 959.9 512 fixed;
          end;
          implementation bg
           submodels
            AdHji 424 424
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type MTF
              ports
               power out p1 [6,1];
               power in p2 [6,1];
               signal in H [4,4];
              restrictions
               causality constraint not_equal p1 p2;
             end;
             icon bg bottom
              figures
               text 'MTF' 424 424 18 bold;
             end;
             implementation eq
equations					
	p2.e = transpose(Adjoint(H)) * p1.e;
	p1.f = Adjoint(H) * p2.f;implementation_end;
            Integrate 320 288
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:3:23</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Integrate
              ports
               signal in input;
               signal out output [4,4];
              parameters
               real init = 0.0;
             end;
             icon bg
              figures
               rectangle 304 272 336 304 fill 15132390;
               text 'ò' 320 285.3 color 16711680 'SymbolProp BT' 21 symbol;
             end;
             implementation eq
variables
	real R[3,3];
	real p[3];
	real q;
equations
q = input;//int(input,init);
R = [	cos(-q),	-sin(-q),	0;
			sin(-q),	cos(-q),	0;
			0,				0,				1];
p = [0;0;0];
output = homogeneous(R,p);
	
     implementation_end;
            MatrixMul 320 576
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:15:12</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Gain
              ports
               signal in input1 [4,4];
               signal out output [4,4];
               signal in input2 [4,4];
             end;
             icon bg bottom
              figures
               rectangle 304.1 560 335.9 592 fill 15132390;
               text 'X' 320 576 color 16711680 16 bold;
             end;
             implementation eq
equations
	output = input2*input1;    implementation_end;
            plug p1 240 40;
            plug p2 496 424;
            plug Hin 112 576;
            plug Hout 504 576;
            plug angle 336 184;
            plug p 112 424;
            OneJunction 240 288
             description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:18</TimeStamp>
</Description>';
             knot OneJunction
              ports
               mechanical knot duplicatable none p [1];
               signal knot out flow [1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg
              figures
               text '1' 240 288 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
            Splitter2 320 368
             description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
             knot Splitter
              ports
               signal knot duplicatable out output [4,4];
               signal knot in input [4,4];
             end;
             icon bg ellipse
              figures
               ellipse 316.8 364.8 323.2 371.2 color -1 fill 0;
               ellipse 315.7 363.7 324.3 372.3 color -1;
              terminals
               input 320 368 fixed;
             end;
             implementation eq
equations
    collect (output) = input;
implementation_end;
            uTbai 240 336
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type TF
              ports
               power in p1;
               power out p2 [6,1];
              restrictions
               causality constraint not_equal p1 p2;
               causality fixed out p1;
               causality fixed in p2;
             end;
             icon bg left
              figures
               text 'TF' 240 336 18 bold;
             end;
             implementation eq
equations
	p1.e = p2.e[3];
	p2.f = [0;0;p1.f;0;0;0];
implementation_end;
            Wbai 240 424
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:43</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             knot ZeroJunction
              ports
               power knot duplicatable none p [6,1];
               signal knot out effort [6,1];
              restrictions
               causality constraint one_in p;
             end;
             icon bg bottom
              figures
               text '0' 240 424 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
            ZeroJunction 240 104
             description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:43</TimeStamp>
</Description>';
             knot ZeroJunction
              ports
               mechanical knot duplicatable none p [1];
               signal knot out effort [1];
              restrictions
               causality constraint one_in p;
             end;
             icon bg
              figures
               text '0' 240 104 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
           end;
           connections
            uTbai\p1 <= OneJunction\p;
            Wbai\p <= AdHji\p1;
            p2 => AdHji\p2;
            ZeroJunction\p => OneJunction\p;
            p1 => ZeroJunction\p;
            uTbai\p2 => Wbai\p;
            p <= Wbai\p;
            Splitter2\output -> AdHji\H 424 368;
            MatrixMul\output -> Hout;
            Hin -> MatrixMul\input2;
            Integrate\output -> Splitter2\input;
            Splitter2\output -> MatrixMul\input1;
            angle -> Integrate\input;
           end;
           parameterrelations
Integrate\init = InitialPos;

parameterrelations_end;
           figures
            text 'b = next link (body)
a = previous link (body)
i = Frame fixed in previous body, fixed in joint
j = Frame fixed in next body, fixed in joint
 ' 680 488;
          implementation_end;
         JointBase1 288.2 472
          description '<Description>
   <Version>4.1</Version>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <LibraryPath>Joint-rotz_GravityCompensation.emx</LibraryPath>
  <TimeStamp>2011-1-21 10:09:48</TimeStamp>
</Description>';
          type 'Submodel-rotz'
           ports
            power out p [6,1];
            power in p1;
            power in p2 [6,1];
            signal in Hin [4,4];
            signal out Hout [4,4];
            signal in angle;
           parameters
            real InitialPos = 0.0;
          end;
          icon bg bottom
           figures
            rectangle 256.4 400 319.9 544 fill 14745599;
            text 'Joint-rotz
   GC' 288.4 475 fill 14745599;
           terminals
            p 255.9 432 fixed;
            p1 287.4 400 fixed;
            p2 319.9 432 fixed;
            Hin 255.9 512 fixed;
            Hout 319.9 512 fixed;
          end;
          implementation bg
           submodels
            AdHji 424 424
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type MTF
              ports
               power out p1 [6,1];
               power in p2 [6,1];
               signal in H [4,4];
              restrictions
               causality constraint not_equal p1 p2;
             end;
             icon bg bottom
              figures
               text 'MTF' 424 424 18 bold;
             end;
             implementation eq
equations					
	p2.e = transpose(Adjoint(H)) * p1.e;
	p1.f = Adjoint(H) * p2.f;implementation_end;
            Integrate 320 288
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:3:23</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Integrate
              ports
               signal in input;
               signal out output [4,4];
              parameters
               real init = 0.0;
             end;
             icon bg
              figures
               rectangle 304 272 336 304 fill 15132390;
               text 'ò' 320 285.3 color 16711680 'SymbolProp BT' 21 symbol;
             end;
             implementation eq
variables
	real R[3,3];
	real p[3];
	real q;
equations
q = input;//int(input,init);
R = [	cos(-q),	-sin(-q),	0;
			sin(-q),	cos(-q),	0;
			0,				0,				1];
p = [0;0;0];
output = homogeneous(R,p);
	
     implementation_end;
            MatrixMul 320 576
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:15:12</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Gain
              ports
               signal in input1 [4,4];
               signal out output [4,4];
               signal in input2 [4,4];
             end;
             icon bg bottom
              figures
               rectangle 304.1 560 335.9 592 fill 15132390;
               text 'X' 320 576 color 16711680 16 bold;
             end;
             implementation eq
equations
	output = input2*input1;    implementation_end;
            plug p1 240 40;
            plug p2 496 424;
            plug Hin 112 576;
            plug Hout 504 576;
            plug angle 320 216;
            plug p 112 424;
            OneJunction 240 288
             description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:18</TimeStamp>
</Description>';
             knot OneJunction
              ports
               mechanical knot duplicatable none p [1];
               signal knot out flow [1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg
              figures
               text '1' 240 288 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
            Splitter2 320 368
             description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
             knot Splitter
              ports
               signal knot duplicatable out output [4,4];
               signal knot in input [4,4];
             end;
             icon bg ellipse
              figures
               ellipse 316.8 364.8 323.2 371.2 color -1 fill 0;
               ellipse 315.7 363.7 324.3 372.3 color -1;
              terminals
               input 320 368 fixed;
             end;
             implementation eq
equations
    collect (output) = input;
implementation_end;
            uTbai 240 336
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type TF
              ports
               power in p1;
               power out p2 [6,1];
              restrictions
               causality constraint not_equal p1 p2;
               causality fixed out p1;
               causality fixed in p2;
             end;
             icon bg left
              figures
               text 'TF' 240 336 18 bold;
             end;
             implementation eq
equations
	p1.e = p2.e[3];
	p2.f = [0;0;p1.f;0;0;0];
implementation_end;
            Wbai 240 424
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:43</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             knot ZeroJunction
              ports
               power knot duplicatable none p [6,1];
               signal knot out effort [6,1];
              restrictions
               causality constraint one_in p;
             end;
             icon bg bottom
              figures
               text '0' 240 424 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
            ZeroJunction 240 104
             description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:43</TimeStamp>
</Description>';
             knot ZeroJunction
              ports
               mechanical knot duplicatable none p [1];
               signal knot out effort [1];
              restrictions
               causality constraint one_in p;
             end;
             icon bg
              figures
               text '0' 240 104 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
           end;
           connections
            uTbai\p1 <= OneJunction\p;
            Wbai\p <= AdHji\p1;
            p2 => AdHji\p2;
            ZeroJunction\p => OneJunction\p;
            p1 => ZeroJunction\p;
            uTbai\p2 => Wbai\p;
            p <= Wbai\p;
            Splitter2\output -> AdHji\H 424 368;
            MatrixMul\output -> Hout;
            Hin -> MatrixMul\input2;
            Integrate\output -> Splitter2\input;
            Splitter2\output -> MatrixMul\input1;
            angle -> Integrate\input;
           end;
           parameterrelations
Integrate\init = InitialPos;

parameterrelations_end;
           figures
            text 'b = next link (body)
a = previous link (body)
i = Frame fixed in previous body, fixed in joint
j = Frame fixed in next body, fixed in joint
 ' 680 488;
          implementation_end;
         Link1 368 472
          description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
 <LibraryPath>Link_GravityCompensation.emx</LibraryPath>
 <TimeStamp>2011-1-19 11:37:47</TimeStamp>
   <Description>Base</Description>
</Description>';
          type Submodel
           ports
            power out p [6,1];
            signal in Hin [4,4];
            power in p1 [6,1];
            signal out Hout [4,4];
           parameters
            real m = 2.412;
            real COMdim[3,1] = [0.10453; 0.0017; -0.00297];
            real dim[3,1] = [0.033; 0.0; 0.019];
          end;
          icon bg bottom
           figures
            rectangle 336 400 400 544 fill 10025880;
            text 'Link
GC' 368 472;
           terminals
            p 336 432 fixed;
            Hin 336 512 fixed;
            p1 400 432 fixed;
            Hout 400 512 fixed;
          end;
          implementation bg
           submodels
            AdHi0 664 416
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type MTF
              ports
               power in p1 [6,1];
               power out p2 [6,1];
               signal in H [4,4];
              restrictions
               causality constraint not_equal p1 p2;
             end;
             icon bg left
              figures
               text 'MTF' 664 416 18 bold;
             end;
             implementation eq
variables
 	real onlyRotH[4,4];
code
	//Only rotations with respect to the inertial system matter!
	onlyRotH = H;
	onlyRotH[1,4] = 0;
	onlyRotH[2,4] = 0;
	onlyRotH[3,4] = 0;
						
	p2.e = transpose(Adjoint(onlyRotH)) * p1.e;
	p1.f = Adjoint(onlyRotH) * p2.f;
implementation_end;
            AdHij 816 304
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type MTF
              ports
               power out p1 [6,1];
               power in p2 [6,1];
               signal in H [4,4];
              restrictions
               causality constraint not_equal p1 p2;
             end;
             icon bg top
              figures
               text 'MTF' 816 304 18 bold;
             end;
             implementation eq
equations
	//Only rotations with respect to the inertial system matter!
						
	p1.e = transpose(Adjoint(H)) * p2.e;
	p2.f = Adjoint(H) * p1.f;
implementation_end;
            AdHik1 664 368
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type TF
              ports
               power out p1 [6,1];
               power in p2 [6,1];
              restrictions
               causality constraint not_equal p1 p2;
              parameters
               real COMdim[3,1] = [0.10453; 0.0017; -0.00297];
             end;
             icon bg left
              figures
               text 'TF' 664 368 18 bold;
             end;
             implementation eq
//Principal inertial frame connected in port 2
variables
	real d[3]; //distance between frames
	real R[3,3]; //rotation between frames

	real H[4,4]; //homogeneous matrix
	real AdH[6,6]; //Adjoint of homogeneous matrix
equations
	d = COMdim; //distance of 1 in z direction of frames
	R = eye(3); //no rotation

	H = homogeneous(R,d);
	AdH = Adjoint(H);

	p1.f = AdH * p2.f; 
	p2.e = transpose(AdH) * p1.e;
implementation_end;
            Gravity 776 416
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\Se.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:26</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Se
              ports
               power out p [6,1];
              restrictions
               causality fixed out p;
              parameters
               real m = 2.412;
             end;
             icon bg bottom
              figures
               text 'Se' 776 416 18 bold;
             end;
             implementation eq
variables
	real effort[6];
equations
	effort = [0;0;0;0;0;-9.8*m];
	p.e = effort;
implementation_end;
            Hij 816 496
             description '<Description>
   <Version>4.1</Version>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>H.emx</LibraryPath>
  <TimeStamp>2010-9-21 15:03:50</TimeStamp>
<AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Gain
              ports
               signal in input [4,4];
               signal out output [4,4];
               signal out Hab [4,4];
              parameters
               real dim[3,1] = [0.033; 0.0; 0.019];
             end;
             icon bg bottom
              figures
               rectangle 800.1 480 831.9 512 fill 15132390;
               text 'H' 816 496 color 16711680 16 bold;
             end;
             implementation eq
equations
	Hab = homogeneous(eye(3),dim);
	output = input * Hab;
    implementation_end;
            plug Hin 592 496;
            plug p1 904 304;
            plug Hout 896 496;
            plug p 592 304;
            Splitter1 664 496
             description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
             knot Splitter
              ports
               signal knot duplicatable out output [4,4];
               signal knot in input [4,4];
             end;
             icon bg ellipse
              figures
               ellipse 660.8 492.8 667.2 499.2 color -1 fill 0;
               ellipse 659.7 491.7 668.3 500.3 color -1;
              terminals
               input 664 496 fixed;
             end;
             implementation eq
equations
    collect (output) = input;
implementation_end;
            Ta00 720 416
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             knot OneJunction
              ports
               power knot duplicatable none p [6,1];
               signal knot out flow [6,1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg bottom
              figures
               text '1' 720 416 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
            Ta0i 664 304
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <Description></Description>
</Description>';
             knot OneJunction
              ports
               power knot duplicatable none p [6,1];
               signal knot out flow [6,1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg bottom
              figures
               text '1' 664 304 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
           end;
           connections
            Ta0i\p <= AdHik1\p1;
            AdHi0\p2 => AdHik1\p2;
            Gravity\p => Ta00\p;
            p <= Ta0i\p;
            Ta0i\p <= AdHij\p1;
            p1 => AdHij\p2;
            Ta00\p => AdHi0\p1;
            Hin -> Splitter1\input;
            Hij\output -> Hout;
            Splitter1\output -> Hij\input;
            Splitter1\output -> AdHi0\H;
            Hij\Hab -> AdHij\H;
           end;
           parameterrelations
AdHik1\COMdim = COMdim;
Hij\dim = dim;
Gravity\m=m;parameterrelations_end;
           figures
            text 'b = current link (body)
a = previous link (body)
i = Body fixed frame, fixed in joint with previous link
j = Body fixed frame, fixed in joint with next link
k = Body fixed frame, principal inertial frame
0 = inertial system
 ' 416 376;
          implementation_end;
         Link2 528 472
          description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
 <LibraryPath>Link_GravityCompensation.emx</LibraryPath>
 <TimeStamp>2011-1-19 11:37:47</TimeStamp>
   <Description>Base</Description>
</Description>';
          type Submodel
           ports
            power out p [6,1];
            signal in Hin [4,4];
            power in p1 [6,1];
            signal out Hout [4,4];
           parameters
            real m = 1.155;
            real COMdim[3,1] = [0.001; 0.0967; 0.02107];
            real dim[3,1] = [0.0; 0.0; 0.155];
          end;
          icon bg bottom
           figures
            rectangle 496 400 560 544 fill 10025880;
            text 'Link
GC' 528 472;
           terminals
            p 496 432 fixed;
            Hin 496 512 fixed;
            p1 560 432 fixed;
            Hout 560 512 fixed;
          end;
          implementation bg
           submodels
            AdHi0 664 416
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type MTF
              ports
               power in p1 [6,1];
               power out p2 [6,1];
               signal in H [4,4];
              restrictions
               causality constraint not_equal p1 p2;
             end;
             icon bg left
              figures
               text 'MTF' 664 416 18 bold;
             end;
             implementation eq
variables
 	real onlyRotH[4,4];
code
	//Only rotations with respect to the inertial system matter!
	onlyRotH = H;
	onlyRotH[1,4] = 0;
	onlyRotH[2,4] = 0;
	onlyRotH[3,4] = 0;
						
	p2.e = transpose(Adjoint(onlyRotH)) * p1.e;
	p1.f = Adjoint(onlyRotH) * p2.f;
implementation_end;
            AdHij 816 304
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type MTF
              ports
               power out p1 [6,1];
               power in p2 [6,1];
               signal in H [4,4];
              restrictions
               causality constraint not_equal p1 p2;
             end;
             icon bg top
              figures
               text 'MTF' 816 304 18 bold;
             end;
             implementation eq
equations
	//Only rotations with respect to the inertial system matter!
						
	p1.e = transpose(Adjoint(H)) * p2.e;
	p2.f = Adjoint(H) * p1.f;
implementation_end;
            AdHik1 664 368
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type TF
              ports
               power out p1 [6,1];
               power in p2 [6,1];
              restrictions
               causality constraint not_equal p1 p2;
              parameters
               real COMdim[3,1] = [0.001; 0.0967; 0.02107];
             end;
             icon bg left
              figures
               text 'TF' 664 368 18 bold;
             end;
             implementation eq
//Principal inertial frame connected in port 2
variables
	real d[3]; //distance between frames
	real R[3,3]; //rotation between frames

	real H[4,4]; //homogeneous matrix
	real AdH[6,6]; //Adjoint of homogeneous matrix
equations
	d = COMdim; //distance of 1 in z direction of frames
	R = eye(3); //no rotation

	H = homogeneous(R,d);
	AdH = Adjoint(H);

	p1.f = AdH * p2.f; 
	p2.e = transpose(AdH) * p1.e;
implementation_end;
            Gravity 776 416
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\Se.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:26</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Se
              ports
               power out p [6,1];
              restrictions
               causality fixed out p;
              parameters
               real m = 1.155;
             end;
             icon bg bottom
              figures
               text 'Se' 776 416 18 bold;
             end;
             implementation eq
variables
	real effort[6];
equations
	effort = [0;0;0;0;0;-9.8*m];
	p.e = effort;
implementation_end;
            Hij 816 496
             description '<Description>
   <Version>4.1</Version>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>H.emx</LibraryPath>
  <TimeStamp>2010-9-21 15:03:50</TimeStamp>
<AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Gain
              ports
               signal in input [4,4];
               signal out output [4,4];
               signal out Hab [4,4];
              parameters
               real dim[3,1] = [0.0; 0.0; 0.155];
             end;
             icon bg bottom
              figures
               rectangle 800.1 480 831.9 512 fill 15132390;
               text 'H' 816 496 color 16711680 16 bold;
             end;
             implementation eq
equations
	Hab = homogeneous(eye(3),dim);
	output = input * Hab;
    implementation_end;
            plug Hin 592 496;
            plug p1 904 304;
            plug Hout 896 496;
            plug p 592 304;
            Splitter1 664 496
             description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
             knot Splitter
              ports
               signal knot duplicatable out output [4,4];
               signal knot in input [4,4];
             end;
             icon bg ellipse
              figures
               ellipse 660.8 492.8 667.2 499.2 color -1 fill 0;
               ellipse 659.7 491.7 668.3 500.3 color -1;
              terminals
               input 664 496 fixed;
             end;
             implementation eq
equations
    collect (output) = input;
implementation_end;
            Ta00 720 416
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             knot OneJunction
              ports
               power knot duplicatable none p [6,1];
               signal knot out flow [6,1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg bottom
              figures
               text '1' 720 416 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
            Ta0i 664 304
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <Description></Description>
</Description>';
             knot OneJunction
              ports
               power knot duplicatable none p [6,1];
               signal knot out flow [6,1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg bottom
              figures
               text '1' 664 304 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
           end;
           connections
            Ta0i\p <= AdHik1\p1;
            AdHi0\p2 => AdHik1\p2;
            Gravity\p => Ta00\p;
            p <= Ta0i\p;
            Ta0i\p <= AdHij\p1;
            p1 => AdHij\p2;
            Ta00\p => AdHi0\p1;
            Hin -> Splitter1\input;
            Hij\output -> Hout;
            Splitter1\output -> Hij\input;
            Splitter1\output -> AdHi0\H;
            Hij\Hab -> AdHij\H;
           end;
           parameterrelations
AdHik1\COMdim = COMdim;
Hij\dim = dim;
Gravity\m=m;parameterrelations_end;
           figures
            text 'b = current link (body)
a = previous link (body)
i = Body fixed frame, fixed in joint with previous link
j = Body fixed frame, fixed in joint with next link
k = Body fixed frame, principal inertial frame
0 = inertial system
 ' 416 376;
          implementation_end;
         Link3 688 472
          description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
 <LibraryPath>Link_GravityCompensation.emx</LibraryPath>
 <TimeStamp>2011-1-19 11:37:47</TimeStamp>
   <Description>Base</Description>
</Description>';
          type Submodel
           ports
            power out p [6,1];
            signal in Hin [4,4];
            power in p1 [6,1];
            signal out Hout [4,4];
           parameters
            real m = 0.934;
            real COMdim[3,1] = [0.011; 0.05103; -0.02319];
            real dim[3,1] = [0.0; 0.0; 0.135];
          end;
          icon bg bottom
           figures
            rectangle 656 400 720 544 fill 10025880;
            text 'Link
GC' 688 472;
           terminals
            p 656 432 fixed;
            Hin 656 512 fixed;
            p1 720 432 fixed;
            Hout 720 512 fixed;
          end;
          implementation bg
           submodels
            AdHi0 664 416
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type MTF
              ports
               power in p1 [6,1];
               power out p2 [6,1];
               signal in H [4,4];
              restrictions
               causality constraint not_equal p1 p2;
             end;
             icon bg left
              figures
               text 'MTF' 664 416 18 bold;
             end;
             implementation eq
variables
 	real onlyRotH[4,4];
code
	//Only rotations with respect to the inertial system matter!
	onlyRotH = H;
	onlyRotH[1,4] = 0;
	onlyRotH[2,4] = 0;
	onlyRotH[3,4] = 0;
						
	p2.e = transpose(Adjoint(onlyRotH)) * p1.e;
	p1.f = Adjoint(onlyRotH) * p2.f;
implementation_end;
            AdHij 816 304
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type MTF
              ports
               power out p1 [6,1];
               power in p2 [6,1];
               signal in H [4,4];
              restrictions
               causality constraint not_equal p1 p2;
             end;
             icon bg top
              figures
               text 'MTF' 816 304 18 bold;
             end;
             implementation eq
equations
	//Only rotations with respect to the inertial system matter!
						
	p1.e = transpose(Adjoint(H)) * p2.e;
	p2.f = Adjoint(H) * p1.f;
implementation_end;
            AdHik1 664 368
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type TF
              ports
               power out p1 [6,1];
               power in p2 [6,1];
              restrictions
               causality constraint not_equal p1 p2;
              parameters
               real COMdim[3,1] = [0.011; 0.05103; -0.02319];
             end;
             icon bg left
              figures
               text 'TF' 664 368 18 bold;
             end;
             implementation eq
//Principal inertial frame connected in port 2
variables
	real d[3]; //distance between frames
	real R[3,3]; //rotation between frames

	real H[4,4]; //homogeneous matrix
	real AdH[6,6]; //Adjoint of homogeneous matrix
equations
	d = COMdim; //distance of 1 in z direction of frames
	R = eye(3); //no rotation

	H = homogeneous(R,d);
	AdH = Adjoint(H);

	p1.f = AdH * p2.f; 
	p2.e = transpose(AdH) * p1.e;
implementation_end;
            Gravity 776 416
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\Se.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:26</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Se
              ports
               power out p [6,1];
              restrictions
               causality fixed out p;
              parameters
               real m = 0.934;
             end;
             icon bg bottom
              figures
               text 'Se' 776 416 18 bold;
             end;
             implementation eq
variables
	real effort[6];
equations
	effort = [0;0;0;0;0;-9.8*m];
	p.e = effort;
implementation_end;
            Hij 816 496
             description '<Description>
   <Version>4.1</Version>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>H.emx</LibraryPath>
  <TimeStamp>2010-9-21 15:03:50</TimeStamp>
<AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Gain
              ports
               signal in input [4,4];
               signal out output [4,4];
               signal out Hab [4,4];
              parameters
               real dim[3,1] = [0.0; 0.0; 0.135];
             end;
             icon bg bottom
              figures
               rectangle 800.1 480 831.9 512 fill 15132390;
               text 'H' 816 496 color 16711680 16 bold;
             end;
             implementation eq
equations
	Hab = homogeneous(eye(3),dim);
	output = input * Hab;
    implementation_end;
            plug Hin 592 496;
            plug p1 904 304;
            plug Hout 896 496;
            plug p 592 304;
            Splitter1 664 496
             description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
             knot Splitter
              ports
               signal knot duplicatable out output [4,4];
               signal knot in input [4,4];
             end;
             icon bg ellipse
              figures
               ellipse 660.8 492.8 667.2 499.2 color -1 fill 0;
               ellipse 659.7 491.7 668.3 500.3 color -1;
              terminals
               input 664 496 fixed;
             end;
             implementation eq
equations
    collect (output) = input;
implementation_end;
            Ta00 720 416
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             knot OneJunction
              ports
               power knot duplicatable none p [6,1];
               signal knot out flow [6,1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg bottom
              figures
               text '1' 720 416 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
            Ta0i 664 304
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <Description></Description>
</Description>';
             knot OneJunction
              ports
               power knot duplicatable none p [6,1];
               signal knot out flow [6,1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg bottom
              figures
               text '1' 664 304 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
           end;
           connections
            Ta0i\p <= AdHik1\p1;
            AdHi0\p2 => AdHik1\p2;
            Gravity\p => Ta00\p;
            p <= Ta0i\p;
            Ta0i\p <= AdHij\p1;
            p1 => AdHij\p2;
            Ta00\p => AdHi0\p1;
            Hin -> Splitter1\input;
            Hij\output -> Hout;
            Splitter1\output -> Hij\input;
            Splitter1\output -> AdHi0\H;
            Hij\Hab -> AdHij\H;
           end;
           parameterrelations
AdHik1\COMdim = COMdim;
Hij\dim = dim;
Gravity\m=m;parameterrelations_end;
           figures
            text 'b = current link (body)
a = previous link (body)
i = Body fixed frame, fixed in joint with previous link
j = Body fixed frame, fixed in joint with next link
k = Body fixed frame, principal inertial frame
0 = inertial system
 ' 416 376;
          implementation_end;
         Link4 848 472
          description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
 <LibraryPath>Link_GravityCompensation.emx</LibraryPath>
 <TimeStamp>2011-1-19 11:37:47</TimeStamp>
   <Description>Base</Description>
</Description>';
          type Submodel
           ports
            power out p [6,1];
            signal in Hin [4,4];
            power in p1 [6,1];
            signal out Hout [4,4];
           parameters
            real m = 0.877;
            real COMdim[3,1] = [0.0; 0.00115; -0.01683];
            real dim[3,1] = [0.0; 0.0; 0.096];
          end;
          icon bg bottom
           figures
            rectangle 816 400 880 544 fill 10025880;
            text 'Link
GC' 848 472;
           terminals
            p 816 432 fixed;
            Hin 816 512 fixed;
            p1 880 432 fixed;
            Hout 880 512 fixed;
          end;
          implementation bg
           submodels
            AdHi0 664 416
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type MTF
              ports
               power in p1 [6,1];
               power out p2 [6,1];
               signal in H [4,4];
              restrictions
               causality constraint not_equal p1 p2;
             end;
             icon bg left
              figures
               text 'MTF' 664 416 18 bold;
             end;
             implementation eq
variables
 	real onlyRotH[4,4];
code
	//Only rotations with respect to the inertial system matter!
	onlyRotH = H;
	onlyRotH[1,4] = 0;
	onlyRotH[2,4] = 0;
	onlyRotH[3,4] = 0;
						
	p2.e = transpose(Adjoint(onlyRotH)) * p1.e;
	p1.f = Adjoint(onlyRotH) * p2.f;
implementation_end;
            AdHij 816 304
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type MTF
              ports
               power out p1 [6,1];
               power in p2 [6,1];
               signal in H [4,4];
              restrictions
               causality constraint not_equal p1 p2;
             end;
             icon bg top
              figures
               text 'MTF' 816 304 18 bold;
             end;
             implementation eq
equations
	//Only rotations with respect to the inertial system matter!
						
	p1.e = transpose(Adjoint(H)) * p2.e;
	p2.f = Adjoint(H) * p1.f;
implementation_end;
            AdHik1 664 368
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type TF
              ports
               power out p1 [6,1];
               power in p2 [6,1];
              restrictions
               causality constraint not_equal p1 p2;
              parameters
               real COMdim[3,1] = [0.0; 0.00115; -0.01683];
             end;
             icon bg left
              figures
               text 'TF' 664 368 18 bold;
             end;
             implementation eq
//Principal inertial frame connected in port 2
variables
	real d[3]; //distance between frames
	real R[3,3]; //rotation between frames

	real H[4,4]; //homogeneous matrix
	real AdH[6,6]; //Adjoint of homogeneous matrix
equations
	d = COMdim; //distance of 1 in z direction of frames
	R = eye(3); //no rotation

	H = homogeneous(R,d);
	AdH = Adjoint(H);

	p1.f = AdH * p2.f; 
	p2.e = transpose(AdH) * p1.e;
implementation_end;
            Gravity 776 416
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\Se.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:26</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Se
              ports
               power out p [6,1];
              restrictions
               causality fixed out p;
              parameters
               real m = 0.877;
             end;
             icon bg bottom
              figures
               text 'Se' 776 416 18 bold;
             end;
             implementation eq
variables
	real effort[6];
equations
	effort = [0;0;0;0;0;-9.8*m];
	p.e = effort;
implementation_end;
            Hij 816 496
             description '<Description>
   <Version>4.1</Version>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>H.emx</LibraryPath>
  <TimeStamp>2010-9-21 15:03:50</TimeStamp>
<AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Gain
              ports
               signal in input [4,4];
               signal out output [4,4];
               signal out Hab [4,4];
              parameters
               real dim[3,1] = [0.0; 0.0; 0.096];
             end;
             icon bg bottom
              figures
               rectangle 800.1 480 831.9 512 fill 15132390;
               text 'H' 816 496 color 16711680 16 bold;
             end;
             implementation eq
equations
	Hab = homogeneous(eye(3),dim);
	output = input * Hab;
    implementation_end;
            plug Hin 592 496;
            plug p1 904 304;
            plug Hout 896 496;
            plug p 592 304;
            Splitter1 664 496
             description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
             knot Splitter
              ports
               signal knot duplicatable out output [4,4];
               signal knot in input [4,4];
             end;
             icon bg ellipse
              figures
               ellipse 660.8 492.8 667.2 499.2 color -1 fill 0;
               ellipse 659.7 491.7 668.3 500.3 color -1;
              terminals
               input 664 496 fixed;
             end;
             implementation eq
equations
    collect (output) = input;
implementation_end;
            Ta00 720 416
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             knot OneJunction
              ports
               power knot duplicatable none p [6,1];
               signal knot out flow [6,1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg bottom
              figures
               text '1' 720 416 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
            Ta0i 664 304
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <Description></Description>
</Description>';
             knot OneJunction
              ports
               power knot duplicatable none p [6,1];
               signal knot out flow [6,1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg bottom
              figures
               text '1' 664 304 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
           end;
           connections
            Ta0i\p <= AdHik1\p1;
            AdHi0\p2 => AdHik1\p2;
            Gravity\p => Ta00\p;
            p <= Ta0i\p;
            Ta0i\p <= AdHij\p1;
            p1 => AdHij\p2;
            Ta00\p => AdHi0\p1;
            Hin -> Splitter1\input;
            Hij\output -> Hout;
            Splitter1\output -> Hij\input;
            Splitter1\output -> AdHi0\H;
            Hij\Hab -> AdHij\H;
           end;
           parameterrelations
AdHik1\COMdim = COMdim;
Hij\dim = dim;
Gravity\m=m;parameterrelations_end;
           figures
            text 'b = current link (body)
a = previous link (body)
i = Body fixed frame, fixed in joint with previous link
j = Body fixed frame, fixed in joint with next link
k = Body fixed frame, principal inertial frame
0 = inertial system
 ' 416 376;
          implementation_end;
         Link5 1008 472
          description '<Description>
 <Version>4.1</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
 <LibraryPath>Link_GravityCompensation.emx</LibraryPath>
 <TimeStamp>2011-1-19 11:37:47</TimeStamp>
   <Description>Base</Description>
</Description>';
          type Submodel
           ports
            power out p [6,1];
            signal in Hin [4,4];
            power in p1 [6,1];
            signal out Hout [4,4];
           parameters
            real m = 1.121;
            real COMdim[3,1] = [0.0; 0.0; 0.001];
            real dim[3,1] = [0.0; 0.0; 0.034];
          end;
          icon bg bottom
           figures
            rectangle 976 400 1040 544 fill 10025880;
            text 'Link
GC' 1008 472;
           terminals
            p 976 432 fixed;
            Hin 976 512 fixed;
            p1 1040 432 fixed;
            Hout 1040 512 fixed;
          end;
          implementation bg
           submodels
            AdHi0 664 416
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type MTF
              ports
               power in p1 [6,1];
               power out p2 [6,1];
               signal in H [4,4];
              restrictions
               causality constraint not_equal p1 p2;
             end;
             icon bg left
              figures
               text 'MTF' 664 416 18 bold;
             end;
             implementation eq
variables
 	real onlyRotH[4,4];
code
	//Only rotations with respect to the inertial system matter!
	onlyRotH = H;
	onlyRotH[1,4] = 0;
	onlyRotH[2,4] = 0;
	onlyRotH[3,4] = 0;
						
	p2.e = transpose(Adjoint(onlyRotH)) * p1.e;
	p1.f = Adjoint(onlyRotH) * p2.f;
implementation_end;
            AdHij 816 304
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\MTF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:3</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type MTF
              ports
               power out p1 [6,1];
               power in p2 [6,1];
               signal in H [4,4];
              restrictions
               causality constraint not_equal p1 p2;
             end;
             icon bg top
              figures
               text 'MTF' 816 304 18 bold;
             end;
             implementation eq
equations
	//Only rotations with respect to the inertial system matter!
						
	p1.e = transpose(Adjoint(H)) * p2.e;
	p2.f = Adjoint(H) * p1.f;
implementation_end;
            AdHik1 664 368
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\TF.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:4:2</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type TF
              ports
               power out p1 [6,1];
               power in p2 [6,1];
              restrictions
               causality constraint not_equal p1 p2;
              parameters
               real COMdim[3,1] = [0.0; 0.0; 0.001];
             end;
             icon bg left
              figures
               text 'TF' 664 368 18 bold;
             end;
             implementation eq
//Principal inertial frame connected in port 2
variables
	real d[3]; //distance between frames
	real R[3,3]; //rotation between frames

	real H[4,4]; //homogeneous matrix
	real AdH[6,6]; //Adjoint of homogeneous matrix
equations
	d = COMdim; //distance of 1 in z direction of frames
	R = eye(3); //no rotation

	H = homogeneous(R,d);
	AdH = Adjoint(H);

	p1.f = AdH * p2.f; 
	p2.e = transpose(AdH) * p1.e;
implementation_end;
            Gravity 776 416
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\Se.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:26</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Se
              ports
               power out p [6,1];
              restrictions
               causality fixed out p;
              parameters
               real m = 1.121;
             end;
             icon bg bottom
              figures
               text 'Se' 776 416 18 bold;
             end;
             implementation eq
variables
	real effort[6];
equations
	effort = [0;0;0;0;0;-9.8*m];
	p.e = effort;
implementation_end;
            Hij 816 496
             description '<Description>
   <Version>4.1</Version>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>H.emx</LibraryPath>
  <TimeStamp>2010-9-21 15:03:50</TimeStamp>
<AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             type Gain
              ports
               signal in input [4,4];
               signal out output [4,4];
               signal out Hab [4,4];
              parameters
               real dim[3,1] = [0.0; 0.0; 0.034];
             end;
             icon bg bottom
              figures
               rectangle 800.1 480 831.9 512 fill 15132390;
               text 'H' 816 496 color 16711680 16 bold;
             end;
             implementation eq
equations
	Hab = homogeneous(eye(3),dim);
	output = input * Hab;
    implementation_end;
            plug Hin 592 496;
            plug p1 904 304;
            plug Hout 896 496;
            plug p 592 304;
            Splitter1 664 496
             description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
             knot Splitter
              ports
               signal knot duplicatable out output [4,4];
               signal knot in input [4,4];
             end;
             icon bg ellipse
              figures
               ellipse 660.8 492.8 667.2 499.2 color -1 fill 0;
               ellipse 659.7 491.7 668.3 500.3 color -1;
              terminals
               input 664 496 fixed;
             end;
             implementation eq
equations
    collect (output) = input;
implementation_end;
            Ta00 720 416
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
             knot OneJunction
              ports
               power knot duplicatable none p [6,1];
               signal knot out flow [6,1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg bottom
              figures
               text '1' 720 416 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
            Ta0i 664 304
             description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
 <TimeStamp>2007-9-27 9:51:18</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
   <Description></Description>
</Description>';
             knot OneJunction
              ports
               power knot duplicatable none p [6,1];
               signal knot out flow [6,1];
              restrictions
               causality constraint one_out p;
             end;
             icon bg bottom
              figures
               text '1' 664 304 18 bold;
             end;
             implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
implementation_end;
           end;
           connections
            Ta0i\p <= AdHik1\p1;
            AdHi0\p2 => AdHik1\p2;
            Gravity\p => Ta00\p;
            p <= Ta0i\p;
            Ta0i\p <= AdHij\p1;
            p1 => AdHij\p2;
            Ta00\p => AdHi0\p1;
            Hin -> Splitter1\input;
            Hij\output -> Hout;
            Splitter1\output -> Hij\input;
            Splitter1\output -> AdHi0\H;
            Hij\Hab -> AdHij\H;
           end;
           parameterrelations
AdHik1\COMdim = COMdim;
Hij\dim = dim;
Gravity\m=m;parameterrelations_end;
           figures
            text 'b = current link (body)
a = previous link (body)
i = Body fixed frame, fixed in joint with previous link
j = Body fixed frame, fixed in joint with next link
k = Body fixed frame, principal inertial frame
0 = inertial system
 ' 416 376;
          implementation_end;
         Mux 536 161
          description '<Description>
 <Version>4.0</Version>
 <LibraryPath>C:\Program Files\20-sim 4.0\System\Submodel.emx</LibraryPath>
 <TimeStamp>2007-10-31 11:32:54</TimeStamp>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Submodel
           ports
            power out port [8,1];
            power out port5;
            power out port6;
            power out port7;
            power out port8;
            power out port9;
           restrictions
            causality fixed in port8;
            causality fixed in port9;
            causality fixed in port5;
            causality fixed in port6;
            causality fixed in port7;
            causality fixed out port;
          end;
          icon bg
           figures
            rectangle 456 146 616 176 fill 14013909;
            text 'Mux' 536 160 16;
           terminals
            port 536 144 fixed;
            port5 536 176 fixed;
            port6 552 176 fixed;
            port7 568 176 fixed;
            port8 584 176 fixed;
            port9 600 176 fixed;
          end;
          implementation eq
parameters
	real calibartion=1;
equations
	port.e[1] = 0;
	port.e[2] = 0;
	port.e[3] = 0;
	port.e[4] = port5.e*calibartion;
	port.e[5] = port6.e*calibartion;
	port.e[6] = port7.e*calibartion;
	port.e[7] = port8.e*calibartion;
	port.e[8] = port9.e*calibartion;
	
	port5.f = port.f[4];
	port6.f = port.f[5];
	port7.f = port.f[6];
	port8.f = port.f[7];
	port9.f = port.f[8];implementation_end;
         plug jointPos 80 648;
         plug joints 760 64;
         Submodel13 608 648
          description '<Description>
 <Version>4.0</Version>
   <LibraryPath>C:\Program Files\20-sim 4.0\System\Submodel.emx</LibraryPath>
  <TimeStamp>2007-10-31 11:32:54</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
          type Submodel
           ports
            signal in jointPos [8,1];
            signal out port1;
            signal out port2;
            signal out port3;
            signal out port4;
            signal out port5;
          end;
          implementation eq

equations
port1=jointPos[4];
port2=jointPos[5];
port3=jointPos[6];
port4=jointPos[7];
port5=jointPos[8];implementation_end;
         Wtip0 1080 432
          description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\Se.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:3:26</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
          type Se
           ports
            power out p [6,1];
           restrictions
            causality fixed out p;
          end;
          icon bg bottom
           figures
            text 'Se' 1080 432 18 bold;
          end;
          implementation eq
parameters
	real effort = 0;
variables
	real flow[6];
equations
	p.e = effort;
	flow = p.f;
implementation_end;
         ZeroJunction 112 432
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:43</TimeStamp>
</Description>';
          knot ZeroJunction
           ports
            power knot duplicatable none p [6,1];
            signal knot out effort [6,1];
           restrictions
            causality constraint one_in p;
          end;
          icon bg
           figures
            text '0' 112 432 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
         ZeroJunction1 488 64
          description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\ZeroJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:43</TimeStamp>
</Description>';
          knot ZeroJunction
           ports
            power knot duplicatable none p [8,1];
            signal knot out effort [8,1];
           restrictions
            causality constraint one_in p;
          end;
          icon bg
           figures
            text '0' 488 64 18 bold;
          end;
          implementation eq
equations
	sum (direct (p.f)) = 0;
	equal (collect (p.e));
	effort = first (p.e);
implementation_end;
        end;
        connections
         Base\p => ZeroJunction\p;
         JointBase1\p2 <= Link1\p;
         Joint12\p => Link1\p1;
         Joint12\p2 <= Link2\p;
         Joint23\p => Link2\p1;
         Joint23\p2 <= Link3\p;
         Joint34\p => Link3\p1;
         Link4\p => Joint34\p2;
         Joint45\p => Link4\p1;
         Mux\port => EffortSensor\p1;
         Link5\p => Joint45\p2;
         JointBase1\p1 <= Mux\port5 288 272 536 272;
         EffortSensor\p2 => ZeroJunction1\p;
         Joint12\p1 <= Mux\port6 448 288 552 288;
         JointBase1\p => Base\p1;
         Wtip0\p => Link5\p1;
         Mux\port7 => Joint23\p1 568 224 608 224;
         Mux\port8 => Joint34\p1 584 208 768 208;
         Mux\port9 => Joint45\p1 600 192 928 192;
         Hfloor0\output -> Base\Hin;
         Joint45\Hin <- Link4\Hout;
         jointPos -> Submodel13\jointPos;
         Submodel13\port1 -> JointBase1\angle 288 608;
         Submodel13\port2 -> Joint12\angle 448 592;
         Submodel13\port3 -> Joint23\angle;
         Submodel13\port4 -> Joint34\angle 768 600;
         Submodel13\port5 -> Joint45\angle 928 608;
         Joint34\Hout -> Link4\Hin;
         Joint34\Hin <- Link3\Hout;
         Link3\Hin <- Joint23\Hout;
         Link2\Hout -> Joint23\Hin;
         EffortSensor\effort -> joints;
         Link2\Hin <- Joint12\Hout;
         Joint12\Hin <- Link1\Hout;
         Base\Hout -> JointBase1\Hin;
         Htip0\input <- Link5\Hout;
         Link1\Hin <- JointBase1\Hout;
         Joint45\Hout -> Link5\Hin;
        end;
        parameterrelations
Base\m = Linkm[1];
Base\COMdim = LinkCOMdim[1:3,1];
Base\dim = Linkdim[1:3,1];

Link1\m = Linkm[2];
Link1\COMdim = LinkCOMdim[1:3,2];
Link1\dim = Linkdim[1:3,2];

Link2\m = Linkm[3];
Link2\COMdim = LinkCOMdim[1:3,3];
Link2\dim = Linkdim[1:3,3];

Link3\m = Linkm[4];
Link3\COMdim = LinkCOMdim[1:3,4];
Link3\dim = Linkdim[1:3,4];

Link4\m = Linkm[5];
Link4\COMdim = LinkCOMdim[1:3,5];
Link4\dim = Linkdim[1:3,5];

Link5\m = Linkm[6];
Link5\COMdim = LinkCOMdim[1:3,6];
Link5\dim = Linkdim[1:3,6];

JointBase1\InitialPos = InitialJointPos[1];

Joint12\InitialPos = InitialJointPos[2];

Joint23\InitialPos = InitialJointPos[3];

Joint34\InitialPos = InitialJointPos[4];

Joint45\InitialPos = InitialJointPos[5];

parameterrelations_end;
       implementation_end;
      Hfloor0 400 928
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Sources\Constant.emx</LibraryPath>
 <TimeStamp>2007-10-19 14:48:44</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type Constant
        ports
         signal out output [4,4];
       end;
       icon bg bottom
        figures
         rectangle 384.1 912 415.9 944 fill 15132390;
         line 388.9 923.6 410.9 923.6 color 16711680 width 2;
         line 386.2 934.7 411.9 934.7;
         line 388.5 918.7 388.5 937;
       end;
       implementation eq
equations
	output = eye(4);
     implementation_end;
      Htip1 760 880
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\SignalMonitor.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:14:4</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type SignalMonitor
        ports
         signal in input [4,4];
       end;
       icon bg bottom
        figures
         rectangle 744 864 776 896 fill 15132390;
         rectangle 749.7 869.8 770.3 890.6 color 16711680 fill 11776947 width 2;
         rectangle 751.8 872.4 767.9 888 color -1 fill 16777215;
         line 753.9 874.7 753.9 886 fill 16777215;
         line 752 884.4 764.5 884.4 fill 16777215;
         line 753.5 884.1 766.4 877.7 color 255 fill 16777215;
       end;
       implementation eq

   implementation_end;
      Integrate 520 840
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Integrate.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:3:23</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type Integrate
        ports
         signal in Twist [6,1];
         signal out H [4,4];
       end;
       icon bg
        figures
         rectangle 504 824 536 856 fill 15132390;
         text 'ò' 520 837.3 color 16711680 'SymbolProp BT' 21 symbol;
       end;
       implementation eq
variables
	real R[3,3];
	real init[4,4];
 	real dotT[4,4]; 
	real p[3];
	real omega[3];
	real theta;
initialequations
	omega = [0;0;1];
	theta = 0;
	p = [0.18;0;0.36];	

//Rodrigues formula
	R = eye(3) + skew(omega)*sin(theta) + skew(omega)*skew(omega)*(1-cos(theta));
   init=homogeneous(R,p);
equations

dotT=tilde(Twist)*H;

H = int(dotT,init);
	
     implementation_end;
      JointSoftLimits 1000 560
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Control\PID Control\Continuous\P.emx</LibraryPath>
 <TimeStamp>2008-1-17 10:48:8</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type P
        ports
         signal in error [8,1];
         signal out output [8,1];
       end;
       icon bg right
        figures
         text 'P' 1000.5 560.1 color 16711680 18 bold;
         group
          rectangle 984 544 1016 576 fill 15132390;
          line 988.5 559.9 1013 559.9 fill 15132390;
          line 1000.2 547 1000.2 572.7 fill 15132390;
          spline 1007.1 553.9 993.4 565.9 color 16711680 fill 15132390 width 2;
          spline 994.2 565.3 993.8 573.9 color 16711680 fill 15132390 width 2;
          spline 1007.6 547 1007.1 553.9 color 16711680 fill 15132390 width 2;
         end;
       end;
       implementation eq
parameters
 	real c[8]= [0.0;0.0;0.0;50.0;50.0;50.0;50.0;50.0];
	real limits_low[8]= [ -10;-10;-10;-2.9395 ; -1.1244 ; -2.4733;  -1.7668 ; -2.8127];
  	real limits_high[8]= [ 10;10;10;2.8847   ;1.4809  ; 2.5325  ; 1.6368 ;  2.7125];
	real working_range= 0.95;
variables
	real substate[8];
	real angle_limits_low[8];
	real angle_limits_high[8];
code
  angle_limits_low=working_range*limits_low;
  angle_limits_high=working_range*limits_high;
  substate[1]=(limit(error[1]-angle_limits_high[1],0,10))+(limit(error[1]-angle_limits_low[1],-10,0));
  substate[2]=(limit(error[2]-angle_limits_high[2],0,10))+(limit(error[2]-angle_limits_low[2],-10,0));
  substate[3]=(limit(error[3]-angle_limits_high[3],0,10))+(limit(error[3]-angle_limits_low[3],-10,0));
  substate[4]=(limit(error[4]-angle_limits_high[4],0,10))+(limit(error[4]-angle_limits_low[4],-10,0));
  substate[5]=(limit(error[5]-angle_limits_high[5],0,10))+(limit(error[5]-angle_limits_low[5],-10,0));
  substate[6]=(limit(error[6]-angle_limits_high[6],0,10))+(limit(error[6]-angle_limits_low[6],-10,0));
  substate[7]=(limit(error[7]-angle_limits_high[7],0,10))+(limit(error[7]-angle_limits_low[7],-10,0));
  substate[8]=(limit(error[8]-angle_limits_high[8],0,10))+(limit(error[8]-angle_limits_low[8],-10,0));

   output = -diag(c)*substate;implementation_end;
      JointSpaceDamping 736 552
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Control\PID Control\Continuous\P.emx</LibraryPath>
 <TimeStamp>2008-1-17 10:48:8</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type P
        ports
         signal in error [8,1];
         signal out output [8,1];
       end;
       icon bg right
        figures
         rectangle 720 536 752 568 fill 15132390;
         text 'P' 736.5 552.1 color 16711680 18 bold;
       end;
       implementation eq
parameters
	real r[8]= [0.0;0.0;0.0;0.0;0.0;0.0;0.0;0.0];
variables
	real R[8,8] ;
	real substate[8];//always positive or zero
equations
	R=diag(r);					
	output =-R*error;//(p_substate+n_substate);// R * p.f;
implementation_end;
      JointSpaceStiffness 864 520
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Control\PID Control\Continuous\P.emx</LibraryPath>
 <TimeStamp>2008-1-17 10:48:8</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type P
        ports
         signal in error [8,1];
         signal out output [8,1];
       end;
       icon bg right
        figures
         rectangle 848 504 880 536 fill 15132390;
         text 'P' 864.5 520.1 color 16711680 18 bold;
       end;
       implementation eq
parameters
	real c[8] = [0.0;0.0;0.0;0.0;0.0;0.0;0.0;0.0];
//real setpoints[8]=[0;0;0;0;0;0;0;0];
	real force_lim=10;
variables
	 real x[8];
	 real substate[8];
equations
 
	output=diag(c)*(error);
implementation_end;
      Limit1 864 560
       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram Non-Linear\SignalLimiter-Limit.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:47:40</TimeStamp>
</Description>';
       type 'SignalLimiter-Limit'
        ports
         signal in input [8,1];
         signal out output [8,1];
       end;
       icon bg right
        figures
         group
          rectangle 848 544 880 576 fill 15132390;
          line 863.9 548.5 863.9 573 fill 15132390;
          line 851 560.2 876.7 560.2 fill 15132390;
          spline 857.9 567.1 869.9 553.4 color 16711680 fill 15132390 width 2;
          spline 869.3 554.2 877.9 553.8 color 16711680 fill 15132390 width 2;
          spline 851 567.6 857.9 567.1 color 16711680 fill 15132390 width 2;
         end;
       end;
       implementation eq
parameters
	real force_lim = 10;
equations
	output[1]=(limit(input[1],-force_lim,force_lim));
	output[2]=(limit(input[2],-force_lim,force_lim));
	output[3]=(limit(input[3],-force_lim,force_lim));
	output[4]=(limit(input[4],-force_lim,force_lim));
	output[5]=(limit(input[5],-force_lim,force_lim));
	output[6]=(limit(input[6],-force_lim,force_lim));
	output[7]=(limit(input[7],-force_lim,force_lim));
	output[8]=(limit(input[8],-force_lim,force_lim));implementation_end;
      Limit3 632 608
       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram Non-Linear\SignalLimiter-Limit.emx</LibraryPath>
  <TimeStamp>2007-9-26 12:47:40</TimeStamp>
</Description>';
       type 'SignalLimiter-Limit'
        ports
         signal in input [8,1];
         signal out output [8,1];
       end;
       icon bg bottom
        figures
         group
          rectangle 616 592 648 624 fill 15132390;
          line 631.9 596.5 631.9 621 fill 15132390;
          line 619 608.2 644.7 608.2 fill 15132390;
          spline 625.9 615.1 637.9 601.4 color 16711680 fill 15132390 width 2;
          spline 637.3 602.2 645.9 601.8 color 16711680 fill 15132390 width 2;
          spline 619 615.6 625.9 615.1 color 16711680 fill 15132390 width 2;
         end;
       end;
       implementation eq
parameters
	real force_lim = 10;

equations
	output[1]=(limit(input[1],-force_lim,force_lim));
	output[2]=(limit(input[2],-force_lim,force_lim));
	output[3]=(limit(input[3],-force_lim,force_lim));
	output[4]=(limit(input[4],-force_lim,force_lim));
	output[5]=(limit(input[5],-force_lim,force_lim));
	output[6]=(limit(input[6],-force_lim,force_lim));
	output[7]=(limit(input[7],-force_lim,force_lim));
	output[8]=(limit(input[8],-force_lim,force_lim));implementation_end;
      MatrixMul 520 928
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:15:12</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type Gain
        ports
         signal in input1 [4,4];
         signal out output [4,4];
         signal in input2 [4,4];
       end;
       icon bg bottom
        figures
         rectangle 504.1 912 535.9 944 fill 15132390;
         text 'X' 520 928 color 16711680 16 bold;
       end;
       implementation eq
equations
	output = input2*input1;    implementation_end;
      Mux 1336 568
       description '<Description>
 <Version>4.0</Version>
 <LibraryPath>Template\Submodel-Equation.emx</LibraryPath>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <TimeStamp>2007-11-1 22:32:1</TimeStamp>
 <AllowLibraryUpdate>False</AllowLibraryUpdate>
</Description>';
       type 'Submodel-Equation'
        ports
         signal out joint_states [8,1];
         signal in Arm1_joint_states [5,1];
         signal in measured_odometry [3,1];
         signal in Arm1_joint_velocites [5,1];
         signal out joints_velocities [8,1];
         signal in base_joint_velocities [4,1];
         signal out Arm1_joint_cmd [5,1];
         signal out Base_twist_cmd [6,1];
         signal in cmd [8,1];
       end;
       icon bg
        figures
         rectangle 1303 500 1369 636 fill 14013909;
         text 'name' 1337 548 16;
        terminals
         joint_states 1304 544 fixed;
         Arm1_joint_states 1368 528 fixed;
         measured_odometry 1368 512 fixed;
         Arm1_joint_velocites 1368 560 fixed;
         joints_velocities 1304 528 fixed;
         base_joint_velocities 1368 544 fixed;
         Arm1_joint_cmd 1368 600 fixed;
         Base_twist_cmd 1368 616 fixed;
         cmd 1304 608 fixed;
       end;
       implementation eq
parameters
	real joints_initial_states[5]=[-2.9496; -1.13; 2.5482; -1.789; -2.9234];
equations
  // for decomposition see ROS msgs Twist
	Base_twist_cmd[1]=cmd[2]; //
	Base_twist_cmd[2]=cmd[3];
	Base_twist_cmd[3]=0;
	Base_twist_cmd[4]=0;
	Base_twist_cmd[5]=0;
	Base_twist_cmd[6]=cmd[1];


	Arm1_joint_cmd =cmd[4:8];

	joints_velocities[1:3]=0;
	joints_velocities[4:8]=Arm1_joint_velocites;

	joint_states[1:3]=measured_odometry;
	joint_states[4:8]=Arm1_joint_states+joints_initial_states;

 implementation_end;
      plug Base_twist_cmd 1472 616;
      plug Arm1_joint_cmd 1456 600;
      plug Htip0 512 96;
      plug xyzypr 24 608;
      plug Base_joint_velocities 1488 544;
      plug Arm1_joint_velocites 1488 560;
      plug Measured_odometry 1488 512;
      plug Arm1_joint_states 1488 528;
      plug JointPoistionSetpoint 792 232;
      OneJunction1 520 800
       description '<Description><Version>4.0</Version><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\OneJunction.emx</LibraryPath>
  <TimeStamp>2007-9-27 9:51:18</TimeStamp>
</Description>';
       knot OneJunction
        ports
         power knot duplicatable none p [6,1];
         signal knot out flow [6,1];
        restrictions
         causality constraint one_out p;
       end;
       icon bg
        figures
         text '1' 520 800 18 bold;
       end;
       implementation eq
equations
	sum (direct (p.e)) = 0;
	equal (collect (p.f));
	flow = first (p.f);
    implementation_end;
      PlusMinus1 1160 608
       description '<Description><Version>4.0</Version><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
       knot PlusMinus
        ports
         signal knot duplicatable in plus [8,1];
         signal knot duplicatable in minus [8,1];
         signal knot out output [8,1];
       end;
       icon bg ellipse
        figures
         ellipse 1152 600 1168 616 fill 16777215;
       end;
       implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
      PlusMinus2 864 480
       description '<Description><Version>4.0</Version><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
       knot PlusMinus
        ports
         signal knot duplicatable in plus [8,1];
         signal knot duplicatable in minus [8,1];
         signal knot out output [8,1];
       end;
       icon bg ellipse
        figures
         ellipse 856 472 872 488 fill 16777215;
       end;
       implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
      PlusMinus3 864 608
       description '<Description><Version>4.0</Version><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
       knot PlusMinus
        ports
         signal knot duplicatable in plus [8,1];
         signal knot duplicatable in minus [8,1];
         signal knot out output [8,1];
       end;
       icon bg ellipse
        figures
         ellipse 856 600 872 616 fill 16777215;
       end;
       implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
      PlusMinus4 1000 608
       description '<Description><Version>4.0</Version><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
       knot PlusMinus
        ports
         signal knot duplicatable in plus [8,1];
         signal knot duplicatable in minus [8,1];
         signal knot out output [8,1];
       end;
       icon bg ellipse
        figures
         ellipse 992 600 1008 616 fill 16777215;
       end;
       implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
      PlusMinus5 736 608
       description '<Description><Version>4.0</Version><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
       knot PlusMinus
        ports
         signal knot duplicatable in plus [8,1];
         signal knot duplicatable in minus [8,1];
         signal knot out output [8,1];
       end;
       icon bg ellipse
        figures
         ellipse 728 600 744 616 fill 16777215;
       end;
       implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
      PlusMinus6 408 608
       description '<Description><Version>4.0</Version><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Signal\Block Diagram\PlusMinus.emx</LibraryPath>
  <TimeStamp>2007-9-27 10:15:13</TimeStamp>
</Description>';
       knot PlusMinus
        ports
         signal knot duplicatable in plus [6,1];
         signal knot duplicatable in minus [6,1];
         signal knot out output [6,1];
       end;
       icon bg ellipse
        figures
         ellipse 400 600 416 616 fill 16777215;
       end;
       implementation eq
equations
    output = sum (collect (plus)) - sum (collect (minus));
    implementation_end;
      R 544 752
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Bond Graph\3D\R-3.emx</LibraryPath>
 <TimeStamp>2007-9-25 12:11:54</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type 'R-3'
        ports
         power in p [6,1];
       end;
       icon bg bottom
        figures
         text 'R' 544 752 18 bold;
       end;
       implementation eq
parameters
	real r[6] = [1.0;1.0;1.0;1.0;1.0;1.0];
	real k= 150;//43;
equations					
	p.e = diag(r) * p.f*k;
implementation_end;
      Se 760 800
       description '<Description><Version>4.0</Version><IsMainModel>1</IsMainModel><KeepParameterValues>False</KeepParameterValues>
   <LibraryPath>Bond Graph\3D\Se-3.emx</LibraryPath>
  <TimeStamp>2007-9-25 12:11:25</TimeStamp>
</Description>';
       type 'Se-3'
        ports
         power out p [6,1];
        restrictions
         causality fixed out p;
       end;
       icon bg bottom
        figures
         text 'Se' 760 800 18 bold;
       end;
       implementation eq
parameters
	real effort[6,1] = [0.0; 0.0; 0.0;0;0;0];
variables
	real flow [6];
equations
	p.e = effort; 
	flow = p.f;
implementation_end;
      Spatial_Error 456 728
       description '<Description>
 <Version>4.0</Version>
 <LibraryPath>C:\Program Files\20-sim 4.0\System\Submodel.emx</LibraryPath>
 <TimeStamp>2007-10-31 11:32:54</TimeStamp>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type Submodel
        ports
         signal in H20 [4,4];
         signal in H10 [4,4];
       end;
       implementation eq
parameters
	real Kt[3] = [1;1;1];
	real Ko[3] =[0;0;0];
variables
//note: last index is top; first index is bottom;
	real Rij[3,3];
	real Rji[3,3];
	real pij[3];
	real Gt[3,3],Go[3,3],Gc[3,3];
	real m[3,3], f[3,3];
	real deltaH[4,4];
	real Hvp0tf[4,4];
	real Htip0tf[4,4];
	real effort[6];
	real V;
real i_v;
	real d;
equations
	Gt=1/2*trace(diag(Kt))*eye(3)-diag(Kt);
	Go=1/2*trace(diag(Ko))*eye(3)-diag(Ko);
	deltaH= inverseH(H20)*H10;
   Rij=deltaH[1:3,1:3];
	pij=deltaH[1:3,4];
	Rji=transpose(Rij);
	V=-trace(Go*Rij)+trace(Go*eye(3))-1/4*trace(skew(pij)*Gt*skew(pij))-1/4*trace(skew(pij)*Rij*Gt*Rji*skew(pij));
i_v=int(V);
	d=norm(pij);
	// p.e = inverse(c) *state;
implementation_end;
      Splitter1 1160 440
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [8,1];
         signal knot in input [8,1];
       end;
       icon bg ellipse
        figures
         ellipse 1156.8 436.8 1163.2 443.2 color -1 fill 0;
         ellipse 1155.7 435.7 1164.3 444.3 color -1;
        terminals
         input 1160 440 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      Splitter10 512 440
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [4,4];
         signal knot in input [4,4];
       end;
       icon bg ellipse
        figures
         ellipse 508.8 436.8 515.2 443.2 color -1 fill 0;
         ellipse 507.7 435.7 516.3 444.3 color -1;
        terminals
         input 512 440 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      Splitter11 312 728
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [4,4];
         signal knot in input [4,4];
       end;
       icon bg ellipse
        figures
         ellipse 308.8 724.8 315.2 731.2 color -1 fill 0;
         ellipse 307.7 723.7 316.3 732.3 color -1;
        terminals
         input 312 728 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      Splitter12 312 536
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [4,4];
         signal knot in input [4,4];
       end;
       icon bg ellipse
        figures
         ellipse 308.8 532.8 315.2 539.2 color -1 fill 0;
         ellipse 307.7 531.7 316.3 540.3 color -1;
        terminals
         input 312 536 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      Splitter15 264 608
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [4,4];
         signal knot in input [4,4];
       end;
       icon bg ellipse
        figures
         ellipse 260.8 604.8 267.2 611.2 color -1 fill 0;
         ellipse 259.7 603.7 268.3 612.3 color -1;
        terminals
         input 264 608 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      Splitter17 400 840
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [4,4];
         signal knot in input [4,4];
       end;
       icon bg ellipse
        figures
         ellipse 396.8 836.8 403.2 843.2 color -1 fill 0;
         ellipse 395.7 835.7 404.3 844.3 color -1;
        terminals
         input 400 840 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      Splitter2 1000 440
       description '<Description>
 <Version>4.0</Version>
 <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
 <TimeStamp>2008-01-17 11:28:29</TimeStamp>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [8,1];
         signal knot in input [8,1];
       end;
       icon bg ellipse
        figures
         ellipse 996.8 436.8 1003.2 443.2 color -1 fill 0;
         ellipse 995.7 435.7 1004.3 444.3 color -1;
        terminals
         input 1000 440 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      Splitter3 736 416
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [8,1];
         signal knot in input [8,1];
       end;
       icon bg ellipse
        figures
         ellipse 732.8 412.8 739.2 419.2 color -1 fill 0;
         ellipse 731.7 411.7 740.3 420.3 color -1;
        terminals
         input 736 416 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      Splitter4 864 440
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [8,1];
         signal knot in input [8,1];
       end;
       icon bg ellipse
        figures
         ellipse 860.8 436.8 867.2 443.2 color -1 fill 0;
         ellipse 859.7 435.7 868.3 444.3 color -1;
        terminals
         input 864 440 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      Splitter5 520 880
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [4,4];
         signal knot in input [4,4];
       end;
       icon bg ellipse
        figures
         ellipse 516.8 876.8 523.2 883.2 color -1 fill 0;
         ellipse 515.7 875.7 524.3 884.3 color -1;
        terminals
         input 520 880 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      Splitter6 1264 440
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [8,1];
         signal knot in input [8,1];
       end;
       icon bg ellipse
        figures
         ellipse 1260.8 436.8 1267.2 443.2 color -1 fill 0;
         ellipse 1259.7 435.7 1268.3 444.3 color -1;
        terminals
         input 1264 440 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      Splitter7 568 496
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [6,8];
         signal knot in input [6,8];
       end;
       icon bg ellipse
        figures
         ellipse 564.8 492.8 571.2 499.2 color -1 fill 0;
         ellipse 563.7 491.7 572.3 500.3 color -1;
        terminals
         input 568 496 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      Splitter9 376 608
       description '<Description><Version>4.0</Version>
   <LibraryPath>Signal\Block Diagram\Splitter.emx</LibraryPath>
  <TimeStamp>2008-01-17 11:28:29</TimeStamp>
<IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
</Description>';
       knot Splitter
        ports
         signal knot duplicatable out output [6,1];
         signal knot in input [6,1];
       end;
       icon bg ellipse
        figures
         ellipse 372.8 604.8 379.2 611.2 color -1 fill 0;
         ellipse 371.7 603.7 380.3 612.3 color -1;
        terminals
         input 376 608 fixed;
       end;
       implementation eq
equations
    collect (output) = input;
implementation_end;
      TF 568 608
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:15:12</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type Gain
        ports
         signal in Jacobian [6,8];
         signal out joints_e [8,1];
         signal in tip_e [6,1];
       end;
       icon bg bottom
        figures
         rectangle 552.1 592 583.9 624 fill 15132390;
         text 'TF' 568 608 color 16711680 16 bold;
       end;
       implementation eq

equations
	joints_e= transpose(Jacobian)*tip_e;
	implementation_end;
      TF1 520 536
       description '<Description>
 <Version>4.0</Version>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <LibraryPath>Signal\Block Diagram\Gain.emx</LibraryPath>
 <TimeStamp>2007-9-26 12:15:12</TimeStamp>
 <AllowLibraryUpdate>True</AllowLibraryUpdate>
</Description>';
       type Gain
        ports
         signal in Jacobian [6,8];
         signal in joints_f [8,1];
         signal out tip_f [6,1];
       end;
       icon bg bottom
        figures
         rectangle 504.1 520 535.9 552 fill 15132390;
         text 'TF' 520 536 color 16711680 16 bold;
       end;
       implementation eq

equations
tip_f=Jacobian*joints_f;
	implementation_end;
      Twist_to_H 216 608
       description '<Description>
 <Version>4.0</Version>
 <LibraryPath>Template\Submodel-Equation.emx</LibraryPath>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <TimeStamp>2007-11-1 22:32:1</TimeStamp>
 <AllowLibraryUpdate>False</AllowLibraryUpdate>
</Description>';
       type 'Submodel-Equation'
        ports
         signal in T [6,1];
         signal out H [4,4];
       end;
       implementation eq
variables
	real R[3,3];
 	real omega[3];
	real v[3];
	real omega_norm;
	real omega_temp[3];
equations
	omega=T[1:3];	
	v=T[4:6];
  omega_norm=norm(omega);
if (omega_norm==0) then
	H=tilde(T)+eye(4);
else
	omega_temp=omega/omega_norm;
	R=eye(3)+skew(omega_temp)*sin(omega_norm)+skew(omega_temp)*skew(omega_temp)*(1-cos(omega_norm));
	H[1:3,1:3]=R;
	H[1:3,4]=((eye(3)-R)*(skew(omega)*v)+transpose(omega)*v*omega)/omega_norm^2;
	H[4,4]=1;
	H[4,1:3]=0;
end;
  
 implementation_end;
      Twist_to_H1 256 728
       description '<Description>
 <Version>4.0</Version>
 <LibraryPath>Template\Submodel-Equation.emx</LibraryPath>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <TimeStamp>2007-11-1 22:32:1</TimeStamp>
 <AllowLibraryUpdate>False</AllowLibraryUpdate>
</Description>';
       type 'Submodel-Equation'
        ports
         signal in T [6,1];
         signal out H [4,4];
       end;
       implementation eq
variables
	real R[3,3];
 	real omega[3];
	real v[3];
	real omega_norm;
	real omega_temp[3];
equations
	omega=T[1:3];	
	v=T[4:6];
  omega_norm=norm(omega);
if (omega_norm==0) then
	H=tilde(T)+eye(4);
else
	omega_temp=omega/omega_norm;
	R=eye(3)+skew(omega_temp)*sin(omega_norm)+skew(omega_temp)*skew(omega_temp)*(1-cos(omega_norm));
	H[1:3,1:3]=R;
	H[1:3,4]=((eye(3)-R)*(skew(omega)*v)+transpose(omega)*v*omega)/omega_norm^2;
	H[4,4]=1;
	H[4,1:3]=0;
end;
  
 implementation_end;
     end;
     connections
      Se\p => Base\p1;
      OneJunction1\p <= Base\p;
      R\p <= OneJunction1\p;
      OneJunction1\p => C\p;
      JointSpaceDamping\output -> PlusMinus5\plus;
      JointPoistionSetpoint -> PlusMinus2\plus 792 480;
      JointSoftLimits\output -> PlusMinus4\plus;
      Splitter17\output -> C\Htip0;
      PlusMinus1\output -> Mux\cmd;
      Splitter5\output -> MatrixMul\input2;
      Splitter5\output -> Splitter17\input 400 880;
      Deadzone\output -> JointSpaceDamping\error;
      PlusMinus4\output -> PlusMinus1\plus;
      Splitter10\output -> Htip0;
      Splitter3\output -> Deadzone\input;
      TF1\tip_f -> Gain\input;
      Splitter7\output -> TF\Jacobian;
      Splitter11\output -> C\Htf 312 800;
      Hfloor0\output -> MatrixMul\input1;
      PlusMinus3\output -> PlusMinus4\plus;
      PlusMinus5\output -> PlusMinus3\plus;
      Splitter2\output -> JointSoftLimits\error;
      Splitter4\output -> PlusMinus2\minus;
      Splitter1\output -> Splitter2\input;
      Splitter15\output -> CartesianSpaceStiffness\Hvp0;
      Splitter15\output -> C\Hvp0 264 688 400 688;
      CalculateJ\controllableJ -> Splitter7\input;
      CartesianSafetyFilter1\y -> Twist_to_H\T;
      Measured_odometry -> Mux\measured_odometry;
      Splitter7\output -> TF1\Jacobian 520 496;
      Gain\output -> PlusMinus6\minus;
      Splitter6\output -> Splitter1\input 1264 440;
      GravityCompensationModel\joints -> PlusMinus1\plus;
      Splitter6\output -> Differentiate\input 1264 320;
      CartesianSpaceStiffness\effort -> Splitter9\input;
      Constant\output -> Twist_to_H1\T;
      Integrate\H -> Splitter5\input;
      Mux\joints_velocities -> Splitter3\input 1272 528 1272 416;
      Twist_to_H1\H -> Splitter11\input;
      PlusMinus2\output -> JointSpaceStiffness\error;
      xyzypr -> CartesianSafetyFilter1\u;
      PlusMinus6\output -> TF\tip_e;
      Splitter11\output -> CartesianSpaceStiffness\Htip_cc 312 728;
      Splitter17\output -> Spatial_Error\H20 456 840 456 776;
      Differentiate\output -> TF1\joints_f 664 320 664 536;
      Splitter4\output -> CalculateJ\jointVelocities;
      Splitter10\output -> Splitter12\input 312 440;
      MatrixMul\output -> Base\Hin;
      CalculateJ\Htip0 -> Splitter10\input;
      Splitter2\output -> Splitter4\input;
      Base\Hout -> Htip1\input;
      Arm1_joint_states -> Mux\Arm1_joint_states;
      Mux\joint_states -> Splitter6\input 1264 544;
      Base_joint_velocities -> Mux\base_joint_velocities;
      Splitter9\output -> PlusMinus6\plus;
      Mux\Arm1_joint_cmd -> Arm1_joint_cmd;
      Twist_to_H\H -> Splitter15\input;
      Limit1\output -> PlusMinus3\plus;
      Splitter12\output -> CartesianSpaceStiffness\Htip0;
      Splitter1\output -> GravityCompensationModel\jointPos;
      Splitter12\output -> Spatial_Error\H10 352 536 352 664 456 664;
      TF\joints_e -> Limit3\input;
      JointSpaceStiffness\output -> Limit1\input;
      Arm1_joint_velocites -> Mux\Arm1_joint_velocites;
      OneJunction1\flow -> Integrate\Twist;
      Mux\Base_twist_cmd -> Base_twist_cmd;
      Limit3\output -> PlusMinus5\plus;
     end;
     figures
      rectangle 1093.5 448 1224 672 fill 15132390;
      rectangle 64 384 456 672 fill 16443110;
      rectangle 468 376 680 672 fill 9143144;
      rectangle 689 376 1088 674 fill 16443110;
      text 'Controllers / Code generation' 288 352 16;
      text 'Cartesian Space' 296 392 16;
      text 'Joint Space' 744 392 16;
      text 'Kinematic' 640 392 16;
    implementation_end;
   YouBot_OODL 763 592
    description '<Description>
 <Version>4.0</Version>
 <LibraryPath>Template\Submodel-Equation.emx</LibraryPath>
 <IsMainModel>1</IsMainModel>
 <KeepParameterValues>False</KeepParameterValues>
 <TimeStamp>2007-11-1 22:32:1</TimeStamp>
 <AllowLibraryUpdate>False</AllowLibraryUpdate>
</Description>';
    type 'Submodel-Equation'
     ports
      signal in Base_twist_cmd [6,1];
      power out HW_bond [9,1];
      signal in Arm1_joint_cmd [5,1];
      signal out Arm1_joint_states [5,1];
      signal out Base_odometry_state [3,1];
      signal out Arm1_joint_velocities [5,1];
      signal out Base_joint_velocities [4,1];
     restrictions
      causality fixed out HW_bond;
    end;
    icon bg
     figures
      rectangle 716 528 804 656 fill 14013909;
      text 'name' 764 592 16;
      text 'STUB' 760 544 'Bank Gothic' 20 bold;
     terminals
      Base_twist_cmd 712 640 fixed;
      HW_bond 812 592 fixed;
      Arm1_joint_cmd 712 624 fixed;
      Arm1_joint_states 712 552 fixed;
      Base_odometry_state 712 536 fixed;
      Arm1_joint_velocities 712 584 fixed;
      Base_joint_velocities 712 568 fixed;
    end;
    implementation eq
parameters
	real joint_initial_states[5]=[0;0;0;0;0];
	real 	Wheelpos[2]= [0.235;0.15];
	real  MecanumWheelRadius= 0.047;
	real Current_limits[5]=[2.44,2.44,2.40,0.73,0.42];
   real gear_ratio[5] =  [156;  156  ;  100 ;  71 ; 71];
	real torque_const[5]=[0.0335;0.0335;0.0335;0.051;0.49];
	real base_gear_ratio=0.03870;
	real base_torue_const=0.0335;
	real base_current_limit=2.44;
	real base_PI_P= 60.0;
	real base_PI_I= 53.0;
variables
	real A[3,4];
	real PseudoInverseA[4,3];
	real RotMechanumWheel;
 	real virtualJoints_f[3];
	real Base_Twist[6];
	real Base_dotT[4,4],Base_H[4,4];
	real Base_init[4,4];
	real pitch,yaw;
	real force_limits[5]; 
	real base_force_limit;
	real wheel_veloicties[4];
	real Base_joint_cmd[4];
	real base_twist_delta[3];
initialequations
	Base_init=eye(4);
	force_limits=diag(gear_ratio .* torque_const)*Current_limits;
	base_force_limit=base_torue_const*base_current_limit/base_gear_ratio;
equations
	Base_joint_velocities=HW_bond.f[1:4];
	Arm1_joint_velocities=HW_bond.f[5:9];
	Arm1_joint_states=int(HW_bond.f[5:9],joint_initial_states);
	
	RotMechanumWheel=Wheelpos[1]-Wheelpos[2];
	A = (1/(2*MecanumWheelRadius))*
	[ RotMechanumWheel,RotMechanumWheel,RotMechanumWheel	,RotMechanumWheel;
		1		, 1		,-1		, -1;
		-1		, 1		,-1		, 1];

 	PseudoInverseA= transpose(A)*inverse(A*transpose(A));
	virtualJoints_f = transpose(PseudoInverseA)*HW_bond.f[1:4];
	wheel_veloicties=PseudoInverseA*[Base_twist_cmd[6];Base_twist_cmd[2];Base_twist_cmd[1]];
	Base_Twist=[0;0;virtualJoints_f[1];virtualJoints_f[3];virtualJoints_f[2];0];	
   Base_dotT=Base_H*tilde(Base_Twist);
   Base_H = int(Base_dotT,Base_init);
//	H=H0*inverseH(homogeneous(eye(3),offset));
	pitch =  arcsin(limit(Base_H[3,1],-1,1)); //m_el[2].x());
	yaw = atan2(Base_H[2,1]/cos(pitch),Base_H[1,1]/cos(pitch));
	Base_odometry_state[1]=yaw;
	Base_odometry_state[2]=Base_H[1,4];
	Base_odometry_state[3]=Base_H[2,4];
	base_twist_delta=[Base_twist_cmd[6];Base_twist_cmd[2];Base_twist_cmd[1]]-virtualJoints_f;
	
	Base_joint_cmd=PseudoInverseA*(base_PI_P*base_twist_delta);//+base_PI_I*int(base_twist_delta));
   HW_bond.e[1]=limit(Base_joint_cmd[1],-base_force_limit,base_force_limit);
	HW_bond.e[2]=limit(Base_joint_cmd[2],-base_force_limit,base_force_limit);
	HW_bond.e[3]=limit(Base_joint_cmd[3],-base_force_limit,base_force_limit);
	HW_bond.e[4]=limit(Base_joint_cmd[4],-base_force_limit,base_force_limit);
	HW_bond.e[5]=limit(Arm1_joint_cmd[1],-force_limits[1],force_limits[1]);
	HW_bond.e[6]=limit(Arm1_joint_cmd[2],-force_limits[2],force_limits[2]);
	HW_bond.e[7]=limit(Arm1_joint_cmd[3],-force_limits[3],force_limits[3]);
	HW_bond.e[8]=limit(Arm1_joint_cmd[4],-force_limits[4],force_limits[4]);
	HW_bond.e[9]=limit(Arm1_joint_cmd[5],-force_limits[5],force_limits[5]);	implementation_end;
  end;
  connections
   YouBot_OODL\HW_bond => OneJunction1\p;
   OneJunction1\p => I\p;
   OneJunction1\p => R\p;
   GravityImitation\joints => OneJunction1\p;
   OneJunction1\p => stiction_M\port1;
   YouBot_OODL\Base_joint_velocities -> YouBot_control\Base_joint_velocities;
   Executive\setPoint -> YouBot_control\JointPoistionSetpoint 272 472;
   Splitter8\output -> Splitter9\input;
   YouBot_control\Htip0 -> rivz\input;
   YouBot_OODL\Arm1_joint_states -> Splitter6\input;
   Splitter6\output -> Splitter7\input;
   YouBot_OODL\Arm1_joint_velocities -> YouBot_control\Arm1_joint_velocites;
   YouBot_OODL\Base_odometry_state -> Splitter8\input;
   Splitter9\output -> rxplot_joints_states\input;
   Executive\setPoint1 -> YouBot_control\xyzypr;
   YouBot_control\Base_twist_cmd -> YouBot_OODL\Base_twist_cmd;
   YouBot_OODL\Arm1_joint_cmd <- YouBot_control\Arm1_joint_cmd;
   Splitter7\output -> Monitors\input1;
   Splitter7\output -> rxplot_odometry\input;
   Splitter6\output -> YouBot_control\Arm1_joint_states;
   Splitter8\output -> YouBot_control\Measured_odometry;
   Splitter9\output -> Monitors\input;
  end;
  figures
   rectangle 36 72 988 184 fill 15132390;
   rectangle 38 236 810 740 fill 10025880 width 2;
   rectangle 192 448 392 680 fill 15658671;
   text 'OROCOS RTT' 104 200 16;
   text 'ROS' 128 96 16;
   line 112 368 112 456 width 4 dotted end open;
 implementation_end;
]]>
</Sidops>
 </Model>
 <Experiments>
     <DefaultExperiment><![CDATA[Experiment 1]]>
</DefaultExperiment>
  <Experiment>
    <Name>Experiment 1</Name>
    <CreatedBy></CreatedBy>
    <Info></Info>
<ExpData>
  <VersionNumber>4.1</VersionNumber>
  <ModelProperties>
  </ModelProperties>
  <Variables>
   <Constants>
   </Constants>
   <Parameters>
   </Parameters>
   <Initials>
    <Variable>
     <Name>I\state_initial</Name>
     <Rows>9</Rows>
     <Columns>1</Columns>
     <Value>0 0 0 0 0 0 0 0 0</Value>
    </Variable>
    <Variable>
     <Name>YouBot_control\Base\InertialTensor\state_initial</Name>
     <Rows>6</Rows>
     <Columns>1</Columns>
     <Value>0 0 0 0 0 0</Value>
    </Variable>
    <Variable>
     <Name>YouBot_control\CartesianSafetyFilter1\s1y_initial</Name>
     <Rows>6</Rows>
     <Columns>1</Columns>
     <Value>0 0 0 0 0 0</Value>
    </Variable>
    <Variable>
     <Name>YouBot_control\Integrate\init</Name>
     <Rows>4</Rows>
     <Columns>4</Columns>
     <Value>1 0 0 0.18
0 1 0 0
0 0 1 0.36
0 0 0 1</Value>
    </Variable>
    <Variable>
     <Name>YouBot_control\Spatial_Error\i_v_initial</Name>
     <Value>0</Value>
    </Variable>
    <Variable>
     <Name>YouBot_OODL\Base_init</Name>
     <Rows>4</Rows>
     <Columns>4</Columns>
     <Value>0 0 0 0
0 0 0 0
0 0 0 0
0 0 0 0</Value>
    </Variable>
   </Initials>
  </Variables>
  <PlotSpecs>
   <VarNames>
    <VarName>time</VarName>
    <VarName>Monitors\SignalMonitor1\plot[1]</VarName>
    <VarName>Monitors\SignalMonitor1\plot[2]</VarName>
    <VarName>Monitors\SignalMonitor1\plot[3]</VarName>
    <VarName>Monitors\SignalMonitor1\plot[4]</VarName>
    <VarName>Monitors\SignalMonitor1\plot[5]</VarName>
    <VarName>Monitors\SignalMonitor\plot[1]</VarName>
    <VarName>Monitors\SignalMonitor\plot[2]</VarName>
    <VarName>Monitors\SignalMonitor\plot[3]</VarName>
    <VarName>rivz\plot[1,1]</VarName>
    <VarName>rivz\plot[1,2]</VarName>
    <VarName>rivz\plot[1,3]</VarName>
    <VarName>rivz\plot[1,4]</VarName>
    <VarName>rivz\plot[2,1]</VarName>
    <VarName>rivz\plot[2,2]</VarName>
    <VarName>rivz\plot[2,3]</VarName>
    <VarName>rivz\plot[2,4]</VarName>
    <VarName>rivz\plot[3,1]</VarName>
    <VarName>rivz\plot[3,2]</VarName>
    <VarName>rivz\plot[3,3]</VarName>
    <VarName>rivz\plot[3,4]</VarName>
    <VarName>rivz\plot[4,1]</VarName>
    <VarName>rivz\plot[4,2]</VarName>
    <VarName>rivz\plot[4,3]</VarName>
    <VarName>rivz\plot[4,4]</VarName>
    <VarName>rxplot_joints_states\plot[1]</VarName>
    <VarName>rxplot_joints_states\plot[2]</VarName>
    <VarName>rxplot_joints_states\plot[3]</VarName>
    <VarName>rxplot_odometry\plot[1]</VarName>
    <VarName>rxplot_odometry\plot[2]</VarName>
    <VarName>rxplot_odometry\plot[3]</VarName>
    <VarName>rxplot_odometry\plot[4]</VarName>
    <VarName>rxplot_odometry\plot[5]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link1\Hin[1,4]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link1\Hin[2,4]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link1\Hin[3,4]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link1\Hin[1,3]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link1\Hin[2,3]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link1\Hin[3,3]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link1\Hin[1,2]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link1\Hin[2,2]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link1\Hin[3,2]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link3\Hin[1,3]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link3\Hin[2,3]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link3\Hin[3,3]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link3\Hin[1,2]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link3\Hin[2,2]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link3\Hin[3,2]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link3\Hin[1,4]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link3\Hin[2,4]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link3\Hin[3,4]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link2\Hin[1,3]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link2\Hin[2,3]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link2\Hin[3,3]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link2\Hin[1,2]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link2\Hin[2,2]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link2\Hin[3,2]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link4\Hin[1,3]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link4\Hin[2,3]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link4\Hin[3,3]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link4\Hin[1,2]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link4\Hin[2,2]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link4\Hin[3,2]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link5\Hin[1,3]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link5\Hin[2,3]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link5\Hin[3,3]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link5\Hin[1,2]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link5\Hin[2,2]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link5\Hin[3,2]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link2\Hin[1,4]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link2\Hin[2,4]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link2\Hin[3,4]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link4\Hin[1,4]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link4\Hin[2,4]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link4\Hin[3,4]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link5\Hin[1,4]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link5\Hin[2,4]</VarName>
    <VarName>YouBot_control\GravityCompensationModel\Link5\Hin[3,4]</VarName>
    <VarName>YouBot_control\CalculateJ\Htip0[1,3]</VarName>
    <VarName>YouBot_control\CalculateJ\Htip0[2,3]</VarName>
    <VarName>YouBot_control\CalculateJ\Htip0[3,3]</VarName>
    <VarName>YouBot_control\CalculateJ\Htip0[1,2]</VarName>
    <VarName>YouBot_control\CalculateJ\Htip0[2,2]</VarName>
    <VarName>YouBot_control\CalculateJ\Htip0[3,2]</VarName>
    <VarName>YouBot_control\CartesianSpaceStiffness\Hvp0[1,4]</VarName>
    <VarName>YouBot_control\CartesianSpaceStiffness\Hvp0[2,4]</VarName>
    <VarName>YouBot_control\CartesianSpaceStiffness\Hvp0[3,4]</VarName>
    <VarName>YouBot_control\CartesianSpaceStiffness\Hvp0[1,3]</VarName>
    <VarName>YouBot_control\CartesianSpaceStiffness\Hvp0[2,3]</VarName>
    <VarName>YouBot_control\CartesianSpaceStiffness\Hvp0[3,3]</VarName>
    <VarName>YouBot_control\CartesianSpaceStiffness\Hvp0[1,2]</VarName>
    <VarName>YouBot_control\CartesianSpaceStiffness\Hvp0[2,2]</VarName>
    <VarName>YouBot_control\CartesianSpaceStiffness\Hvp0[3,2]</VarName>
    <VarName>YouBot_control\CalculateJ\Htip0[1,4]</VarName>
    <VarName>YouBot_control\CalculateJ\Htip0[2,4]</VarName>
    <VarName>YouBot_control\CalculateJ\Htip0[3,4]</VarName>
    <VarName>YouBot_control\CalculateJ\H50[1,4]</VarName>
    <VarName>YouBot_control\CalculateJ\H50[2,4]</VarName>
    <VarName>YouBot_control\CalculateJ\H50[3,4]</VarName>
    <VarName>YouBot_control\CalculateJ\H40[3,4]</VarName>
    <VarName>YouBot_control\CalculateJ\H40[2,4]</VarName>
    <VarName>YouBot_control\CalculateJ\H40[1,4]</VarName>
    <VarName>YouBot_control\CalculateJ\H30[3,4]</VarName>
    <VarName>YouBot_control\CalculateJ\H30[2,4]</VarName>
    <VarName>YouBot_control\CalculateJ\H30[1,4]</VarName>
    <VarName>YouBot_control\CalculateJ\H20[3,4]</VarName>
    <VarName>YouBot_control\CalculateJ\H20[2,4]</VarName>
    <VarName>YouBot_control\CalculateJ\H20[1,4]</VarName>
    <VarName>YouBot_control\CalculateJ\H10[1,4]</VarName>
    <VarName>YouBot_control\CalculateJ\H10[2,4]</VarName>
    <VarName>YouBot_control\CalculateJ\H10[3,4]</VarName>
    <VarName>YouBot_control\Integrate\H[1,4]</VarName>
    <VarName>YouBot_control\Integrate\H[2,4]</VarName>
    <VarName>YouBot_control\Integrate\H[3,4]</VarName>
    <VarName>YouBot_control\Integrate\H[1,3]</VarName>
    <VarName>YouBot_control\Integrate\H[2,3]</VarName>
    <VarName>YouBot_control\Integrate\H[3,3]</VarName>
    <VarName>YouBot_control\Integrate\H[1,2]</VarName>
    <VarName>YouBot_control\Integrate\H[2,2]</VarName>
    <VarName>YouBot_control\Integrate\H[3,2]</VarName>
    <VarName>YouBot_control\Spatial_Error\V</VarName>
    <VarName>YouBot_control\C\V</VarName>
    <VarName>YouBot_control\CartesianSpaceStiffness\V</VarName>
    <VarName>Plant\Link2\Hin[1,4]</VarName>
    <VarName>Plant\Link2\Hin[2,4]</VarName>
    <VarName>Plant\Link2\Hin[3,4]</VarName>
    <VarName>Plant\Link2\Hin[1,3]</VarName>
    <VarName>Plant\Link2\Hin[2,3]</VarName>
    <VarName>Plant\Link2\Hin[3,3]</VarName>
    <VarName>Plant\Link2\Hin[1,2]</VarName>
    <VarName>Plant\Link2\Hin[2,2]</VarName>
    <VarName>Plant\Link2\Hin[3,2]</VarName>
    <VarName>Plant\Link3\Hin[1,4]</VarName>
    <VarName>Plant\Link3\Hin[2,4]</VarName>
    <VarName>Plant\Link3\Hin[3,4]</VarName>
    <VarName>Plant\Link3\Hin[1,3]</VarName>
    <VarName>Plant\Link3\Hin[2,3]</VarName>
    <VarName>Plant\Link3\Hin[3,3]</VarName>
    <VarName>Plant\Link3\Hin[1,2]</VarName>
    <VarName>Plant\Link3\Hin[2,2]</VarName>
    <VarName>Plant\Link3\Hin[3,2]</VarName>
    <VarName>Plant\Link1\Hin[1,4]</VarName>
    <VarName>Plant\Link1\Hin[2,4]</VarName>
    <VarName>Plant\Link1\Hin[3,4]</VarName>
    <VarName>Plant\Link1\Hin[1,3]</VarName>
    <VarName>Plant\Link1\Hin[2,3]</VarName>
    <VarName>Plant\Link1\Hin[3,3]</VarName>
    <VarName>Plant\Link1\Hin[1,2]</VarName>
    <VarName>Plant\Link1\Hin[2,2]</VarName>
    <VarName>Plant\Link1\Hin[3,2]</VarName>
    <VarName>Plant\Link4\Hin[1,4]</VarName>
    <VarName>Plant\Link4\Hin[2,4]</VarName>
    <VarName>Plant\Link4\Hin[3,4]</VarName>
    <VarName>Plant\Link4\Hin[1,3]</VarName>
    <VarName>Plant\Link4\Hin[2,3]</VarName>
    <VarName>Plant\Link4\Hin[3,3]</VarName>
    <VarName>Plant\Link4\Hin[1,2]</VarName>
    <VarName>Plant\Link4\Hin[2,2]</VarName>
    <VarName>Plant\Link4\Hin[3,2]</VarName>
    <VarName>Plant\Link5\Hin[1,4]</VarName>
    <VarName>Plant\Link5\Hin[2,4]</VarName>
    <VarName>Plant\Link5\Hin[3,4]</VarName>
    <VarName>Plant\Link5\Hin[1,3]</VarName>
    <VarName>Plant\Link5\Hin[2,3]</VarName>
    <VarName>Plant\Link5\Hin[3,3]</VarName>
    <VarName>Plant\Link5\Hin[1,2]</VarName>
    <VarName>Plant\Link5\Hin[2,2]</VarName>
    <VarName>Plant\Link5\Hin[3,2]</VarName>
    <VarName>Plant\Base\Hin[1,4]</VarName>
    <VarName>Plant\Base\Hin[2,4]</VarName>
    <VarName>Plant\Base\Hin[3,4]</VarName>
    <VarName>Plant\Base\Hin[1,3]</VarName>
    <VarName>Plant\Base\Hin[2,3]</VarName>
    <VarName>Plant\Base\Hin[3,3]</VarName>
    <VarName>Plant\Base\Hin[1,2]</VarName>
    <VarName>Plant\Base\Hin[2,2]</VarName>
    <VarName>Plant\Base\Hin[3,2]</VarName>
    <VarName>interaction_control\CalculateJ\Htip0[1,4]</VarName>
    <VarName>interaction_control\CalculateJ\Htip0[2,4]</VarName>
    <VarName>interaction_control\CalculateJ\Htip0[3,4]</VarName>
    <VarName>interaction_control\CalculateJ\Htip0[1,3]</VarName>
    <VarName>interaction_control\CalculateJ\Htip0[2,3]</VarName>
    <VarName>interaction_control\CalculateJ\Htip0[3,3]</VarName>
    <VarName>interaction_control\CalculateJ\Htip0[1,2]</VarName>
    <VarName>interaction_control\CalculateJ\Htip0[2,2]</VarName>
    <VarName>interaction_control\CalculateJ\Htip0[3,2]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HLF0[1,4]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HLF0[2,4]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HLF0[3,4]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HLF0[1,3]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HLF0[2,3]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HLF0[3,3]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HLF0[1,2]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HLF0[2,2]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HLF0[3,2]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HRF0[1,4]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HRF0[2,4]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HRF0[3,4]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HRF0[1,3]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HRF0[2,3]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HRF0[3,3]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HRF0[1,2]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HRF0[2,2]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HRF0[3,2]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HLR0[1,4]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HLR0[2,4]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HLR0[3,4]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HLR0[1,3]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HLR0[2,3]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HLR0[3,3]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HLR0[1,2]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HLR0[2,2]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HLR0[3,2]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HRR0[1,4]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HRR0[2,4]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HRR0[3,4]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HRR0[1,3]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HRR0[2,3]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HRR0[3,3]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HRR0[1,2]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HRR0[2,2]</VarName>
    <VarName>Plant\MecanumWheels\MecanumWheelAnimation\HRR0[3,2]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H10[1,3]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H10[2,3]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H10[3,3]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H10[1,2]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H10[2,2]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H10[3,2]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H20[1,3]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H20[2,3]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H20[3,3]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H20[1,2]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H20[2,2]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H20[3,2]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H30[1,3]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H30[2,3]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H30[3,3]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H30[1,2]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H30[2,2]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H30[3,2]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H40[1,3]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H40[2,3]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H40[3,3]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H40[1,2]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H40[2,2]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H40[3,2]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H50[1,3]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H50[2,3]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H50[3,3]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H50[1,2]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H50[2,2]</VarName>
    <VarName>YouBot_control\KinematicMap\CalculateJ\H50[3,2]</VarName>
    <VarName>Submodel7\GravityImitation\Link1\Hin[1,4]</VarName>
    <VarName>Submodel7\GravityImitation\Link1\Hin[2,4]</VarName>
    <VarName>Submodel7\GravityImitation\Link1\Hin[3,4]</VarName>
    <VarName>Submodel7\GravityImitation\Link1\Hin[1,3]</VarName>
    <VarName>Submodel7\GravityImitation\Link1\Hin[2,3]</VarName>
    <VarName>Submodel7\GravityImitation\Link1\Hin[3,3]</VarName>
    <VarName>Submodel7\GravityImitation\Link1\Hin[1,2]</VarName>
    <VarName>Submodel7\GravityImitation\Link1\Hin[2,2]</VarName>
    <VarName>Submodel7\GravityImitation\Link1\Hin[3,2]</VarName>
    <VarName>Submodel7\GravityImitation\Link3\Hin[1,4]</VarName>
    <VarName>Submodel7\GravityImitation\Link3\Hin[2,4]</VarName>
    <VarName>Submodel7\GravityImitation\Link3\Hin[3,4]</VarName>
    <VarName>Submodel7\GravityImitation\Link3\Hin[1,3]</VarName>
    <VarName>Submodel7\GravityImitation\Link3\Hin[2,3]</VarName>
    <VarName>Submodel7\GravityImitation\Link3\Hin[3,3]</VarName>
    <VarName>Submodel7\GravityImitation\Link3\Hin[1,2]</VarName>
    <VarName>Submodel7\GravityImitation\Link3\Hin[2,2]</VarName>
    <VarName>Submodel7\GravityImitation\Link3\Hin[3,2]</VarName>
    <VarName>Submodel7\GravityImitation\Link2\Hin[1,4]</VarName>
    <VarName>Submodel7\GravityImitation\Link2\Hin[2,4]</VarName>
    <VarName>Submodel7\GravityImitation\Link2\Hin[3,4]</VarName>
    <VarName>Submodel7\GravityImitation\Link2\Hin[1,3]</VarName>
    <VarName>Submodel7\GravityImitation\Link2\Hin[2,3]</VarName>
    <VarName>Submodel7\GravityImitation\Link2\Hin[3,3]</VarName>
    <VarName>Submodel7\GravityImitation\Link2\Hin[1,2]</VarName>
    <VarName>Submodel7\GravityImitation\Link2\Hin[2,2]</VarName>
    <VarName>Submodel7\GravityImitation\Link2\Hin[3,2]</VarName>
    <VarName>Submodel7\GravityImitation\Link4\Hin[1,4]</VarName>
    <VarName>Submodel7\GravityImitation\Link4\Hin[2,4]</VarName>
    <VarName>Submodel7\GravityImitation\Link4\Hin[3,4]</VarName>
    <VarName>Submodel7\GravityImitation\Link4\Hin[1,3]</VarName>
    <VarName>Submodel7\GravityImitation\Link4\Hin[2,3]</VarName>
    <VarName>Submodel7\GravityImitation\Link4\Hin[3,3]</VarName>
    <VarName>Submodel7\GravityImitation\Link4\Hin[1,2]</VarName>
    <VarName>Submodel7\GravityImitation\Link4\Hin[2,2]</VarName>
    <VarName>Submodel7\GravityImitation\Link4\Hin[3,2]</VarName>
    <VarName>Submodel7\GravityImitation\Link5\Hin[1,4]</VarName>
    <VarName>Submodel7\GravityImitation\Link5\Hin[2,4]</VarName>
    <VarName>Submodel7\GravityImitation\Link5\Hin[3,4]</VarName>
    <VarName>Submodel7\GravityImitation\Link5\Hin[1,3]</VarName>
    <VarName>Submodel7\GravityImitation\Link5\Hin[2,3]</VarName>
    <VarName>Submodel7\GravityImitation\Link5\Hin[3,3]</VarName>
    <VarName>Submodel7\GravityImitation\Link5\Hin[1,2]</VarName>
    <VarName>Submodel7\GravityImitation\Link5\Hin[2,2]</VarName>
    <VarName>Submodel7\GravityImitation\Link5\Hin[3,2]</VarName>
   </VarNames>
   <Plots>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>13160660</BGColor>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>model</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>68.8319999999646</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-2.5</Minimum>
       <Maximum>2.5</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>Monitors\SignalMonitor1\plot[1]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>Monitors\SignalMonitor1\plot[2]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>Monitors\SignalMonitor1\plot[3]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>Monitors\SignalMonitor1\plot[4]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>Monitors\SignalMonitor1\plot[5]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>Monitors\SignalMonitor\plot[1]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>Monitors\SignalMonitor\plot[2]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>Monitors\SignalMonitor\plot[3]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rivz\plot[1,1]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rivz\plot[1,2]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rivz\plot[1,3]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rivz\plot[1,4]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rivz\plot[2,1]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rivz\plot[2,2]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rivz\plot[2,3]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rivz\plot[2,4]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rivz\plot[3,1]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rivz\plot[3,2]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rivz\plot[3,3]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rivz\plot[3,4]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rivz\plot[4,1]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rivz\plot[4,2]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rivz\plot[4,3]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rivz\plot[4,4]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rxplot_joints_states\plot[1]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rxplot_joints_states\plot[2]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rxplot_joints_states\plot[3]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rxplot_odometry\plot[1]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rxplot_odometry\plot[2]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rxplot_odometry\plot[3]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rxplot_odometry\plot[4]</Label>
      </Axis>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>10</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>rxplot_odometry\plot[5]</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711680</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711680</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>Monitors\SignalMonitor1\plot[1]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16711935</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711935</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>Monitors\SignalMonitor1\plot[2]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>255</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>255</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>Monitors\SignalMonitor1\plot[3]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>65280</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>65280</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>Monitors\SignalMonitor1\plot[4]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>0</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>0</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>Monitors\SignalMonitor1\plot[5]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>10040319</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>10040319</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>Monitors\SignalMonitor\plot[1]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16763904</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16763904</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>Monitors\SignalMonitor\plot[2]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>26367</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>26367</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>Monitors\SignalMonitor\plot[3]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>3368448</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>3368448</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rivz\plot[1,1]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16764108</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16764108</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rivz\plot[1,2]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>13408767</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>13408767</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rivz\plot[1,3]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>6684927</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>6684927</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rivz\plot[1,4]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16777113</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16777113</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rivz\plot[2,1]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>13369497</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>13369497</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rivz\plot[2,2]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>3368601</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>3368601</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rivz\plot[2,3]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>6736947</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>6736947</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rivz\plot[2,4]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>6697881</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>6697881</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rivz\plot[3,1]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>6724095</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>6724095</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rivz\plot[3,2]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16711680</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711680</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rivz\plot[3,3]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16711935</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711935</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rivz\plot[3,4]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>255</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>255</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rivz\plot[4,1]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>65280</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>65280</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rivz\plot[4,2]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>0</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>0</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rivz\plot[4,3]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>10040319</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>10040319</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rivz\plot[4,4]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16763904</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16763904</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rxplot_joints_states\plot[1]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>26367</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>26367</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rxplot_joints_states\plot[2]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>3368448</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>3368448</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rxplot_joints_states\plot[3]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16764108</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16764108</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rxplot_odometry\plot[1]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>13408767</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>13408767</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rxplot_odometry\plot[2]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>6684927</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>6684927</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rxplot_odometry\plot[3]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>16777113</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16777113</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rxplot_odometry\plot[4]</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>13369497</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>13369497</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>rxplot_odometry\plot[5]</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
     <StripChartPlots>
      <DistributState>0</DistributState>
     </StripChartPlots>
    </Plot>
    <Plot>
     <PlotType>D3DPlot</PlotType>
     <BasePlot>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>13160660</BGColor>
     </BasePlot>
     <RenderQuality>137</RenderQuality>
     <ShowGrid>true</ShowGrid>
     <BackgroundColor>4294967295</BackgroundColor>
     <FrameScale>1</FrameScale>
     <FrameThickness>1</FrameThickness>
     <MainFrame>
      <Frame>
       <ScaleValue>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </ScaleValue>
       <ShowReferenceFrame>true</ShowReferenceFrame>
       <Name>Reference Frame</Name>
       <Position>
       </Position>
       <Orientation>
        <Angles>
        </Angles>
        <OrientationType>Bryant</OrientationType>
       </Orientation>
       <LockX>false</LockX>
       <LockY>false</LockY>
       <LockZ>false</LockZ>
       <LockXPitch>false</LockXPitch>
       <LockYYaw>false</LockYYaw>
       <LockZRoll>false</LockZRoll>
       <Childs>
        <Frame>
         <ScaleValue>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </ScaleValue>
         <ShowReferenceFrame>false</ShowReferenceFrame>
         <Name>Default Lights and Cameras</Name>
         <Position>
         </Position>
         <Orientation>
     <Angles>
     </Angles>
     <OrientationType>Bryant</OrientationType>
         </Orientation>
         <LockX>false</LockX>
         <LockY>false</LockY>
         <LockZ>false</LockZ>
         <LockXPitch>false</LockXPitch>
         <LockYYaw>false</LockYYaw>
         <LockZRoll>false</LockZRoll>
         <Childs>
     <Light>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Ambient</Name>
      <Position>
      </Position>
      <Orientation>
       <ZAxis>
        <Z>
         <Value>1</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <Y>
         <Value>1</Value>
        </Y>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <LightType>0</LightType>
      <LightColor>
       <Color>
        <X>
         <Value>0.3</Value>
        </X>
        <Y>
         <Value>0.3</Value>
        </Y>
        <Z>
         <Value>0.3</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </LightColor>
      <AmbientLight>
       <Color>
        <X>
         <Value>0.3</Value>
        </X>
        <Y>
         <Value>0.3</Value>
        </Y>
        <Z>
         <Value>0.3</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </AmbientLight>
      <AmbientOn>true</AmbientOn>
      <DiffuseOn>false</DiffuseOn>
      <SpecularOn>false</SpecularOn>
     </Light>
     <Light>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Parallel</Name>
      <Position>
       <X>
        <Value>-3</Value>
       </X>
       <Y>
        <Value>5</Value>
       </Y>
       <Z>
        <Value>3</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <Value>0.457495710997814</Value>
        </X>
        <Y>
         <Value>-0.762492851663023</Value>
        </Y>
        <Z>
         <Value>-0.457495710997814</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <Value>0.235379601434674</Value>
        </X>
        <Y>
         <Value>-0.392299335724456</Value>
        </Y>
        <Z>
         <Value>0.889211827642101</Value>
        </Z>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <LightType>3</LightType>
      <LightColor>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </LightColor>
      <Attenuation>
       <Constant>
        <Value>1</Value>
       </Constant>
       <Linear>
        <Value>0</Value>
       </Linear>
       <Quadratic>
        <Value>0</Value>
       </Quadratic>
      </Attenuation>
      <DiffuseLight>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </DiffuseLight>
      <SpecularLight>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </SpecularLight>
      <AmbientOn>false</AmbientOn>
      <DiffuseOn>true</DiffuseOn>
      <SpecularOn>true</SpecularOn>
     </Light>
     <Light>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Spot Light 1</Name>
      <Position>
       <X>
        <Value>-3</Value>
       </X>
       <Y>
        <Value>-5</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <Value>0.50709255283711</Value>
        </X>
        <Y>
         <Value>0.845154254728517</Value>
        </Y>
        <Z>
         <Value>-0.169030850945703</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <Value>0.0869656553478673</Value>
        </X>
        <Y>
         <Value>0.144942758913112</Value>
        </Y>
        <Z>
         <Value>0.985610760609162</Value>
        </Z>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <LightType>2</LightType>
      <LightColor>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </LightColor>
      <Attenuation>
       <Constant>
        <Value>1</Value>
       </Constant>
       <Linear>
        <Value>0.05</Value>
       </Linear>
       <Quadratic>
        <Value>0.05</Value>
       </Quadratic>
      </Attenuation>
      <Umbra>
       <Value>1.0471975511966</Value>
      </Umbra>
      <Penumbra>
       <Value>1.0471975511966</Value>
      </Penumbra>
      <DiffuseLight>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </DiffuseLight>
      <SpecularLight>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </SpecularLight>
      <AmbientOn>false</AmbientOn>
      <DiffuseOn>true</DiffuseOn>
      <SpecularOn>true</SpecularOn>
     </Light>
     <Light>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Spot Light 2</Name>
      <Position>
       <X>
        <Value>2</Value>
       </X>
       <Y>
        <Value>-3</Value>
       </Y>
       <Z>
        <Value>-1</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <Value>-0.534522483824849</Value>
        </X>
        <Y>
         <Value>0.801783725737273</Value>
        </Y>
        <Z>
         <Value>0.267261241912424</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <Value>0.14824986333222</Value>
        </X>
        <Y>
         <Value>-0.22237479499833</Value>
        </Y>
        <Z>
         <Value>0.963624111659432</Value>
        </Z>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <LightType>2</LightType>
      <LightColor>
       <Color>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </LightColor>
      <Attenuation>
       <Constant>
        <Value>1</Value>
       </Constant>
       <Linear>
        <Value>0.05</Value>
       </Linear>
       <Quadratic>
        <Value>0.05</Value>
       </Quadratic>
      </Attenuation>
      <Umbra>
       <Value>1.5707963267949</Value>
      </Umbra>
      <Penumbra>
       <Value>1.5707963267949</Value>
      </Penumbra>
      <DiffuseLight>
       <Color>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </DiffuseLight>
      <SpecularLight>
       <Color>
        <X>
         <Value>0.5</Value>
        </X>
        <Y>
         <Value>0.5</Value>
        </Y>
        <Z>
         <Value>0.5</Value>
        </Z>
       </Color>
       <Offset>
       </Offset>
       <Multipliers>
        <X>
         <Value>1</Value>
        </X>
        <Y>
         <Value>1</Value>
        </Y>
        <Z>
         <Value>1</Value>
        </Z>
       </Multipliers>
       <Direct3DColorRange>true</Direct3DColorRange>
      </SpecularLight>
      <AmbientOn>false</AmbientOn>
      <DiffuseOn>true</DiffuseOn>
      <SpecularOn>true</SpecularOn>
     </Light>
     <Camera>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Camera Looking at Origin</Name>
      <Position>
       <X>
        <Value>7.44756566098401</Value>
       </X>
       <Y>
        <Value>1.12298554276966</Value>
       </Y>
       <Z>
        <Value>6.26679098072226</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <Value>-0.760113987303524</Value>
        </X>
        <Y>
         <Value>-0.114614232012837</Value>
        </Y>
        <Z>
         <Value>-0.639601676143556</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <X>
         <Value>-0.632452275480738</Value>
        </X>
        <Y>
         <Value>-0.0953646861520659</Value>
        </Y>
        <Z>
         <Value>0.768706508281512</Value>
        </Z>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <FrontPlane>0.01</FrontPlane>
      <BackPlane>100</BackPlane>
      <AutoFrontBack>true</AutoFrontBack>
      <Field>0.00392699081698724</Field>
      <Fieldy>45</Fieldy>
      <PlaneLeft>-10</PlaneLeft>
      <PlaneRight>10</PlaneRight>
      <PlaneTop>10</PlaneTop>
      <PlaneBottom>-10</PlaneBottom>
      <UseLookatPosition>true</UseLookatPosition>
      <LookatPosition>
      </LookatPosition>
      <UseAlwaysLookUp>true</UseAlwaysLookUp>
      <LookUpVector>
       <Z>
        <Value>1</Value>
       </Z>
      </LookUpVector>
      <RightHand>true</RightHand>
      <Perspective>true</Perspective>
      <IsSelectedCamera>true</IsSelectedCamera>
     </Camera>
     <Camera>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Front(XY)-Camera</Name>
      <Position>
       <Z>
        <Value>10</Value>
       </Z>
      </Position>
      <Orientation>
       <ZAxis>
        <Z>
         <Value>-1</Value>
        </Z>
       </ZAxis>
       <YAxis>
        <Y>
         <Value>1</Value>
        </Y>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <FrontPlane>0.01</FrontPlane>
      <BackPlane>100</BackPlane>
      <AutoFrontBack>true</AutoFrontBack>
      <Field>10</Field>
      <Fieldy>45</Fieldy>
      <PlaneLeft>-10</PlaneLeft>
      <PlaneRight>10</PlaneRight>
      <PlaneTop>10</PlaneTop>
      <PlaneBottom>-10</PlaneBottom>
      <UseLookatPosition>true</UseLookatPosition>
      <LookatPosition>
      </LookatPosition>
      <UseAlwaysLookUp>true</UseAlwaysLookUp>
      <LookUpVector>
       <Y>
        <Value>1</Value>
       </Y>
      </LookUpVector>
      <RightHand>true</RightHand>
      <Perspective>false</Perspective>
      <IsSelectedCamera>false</IsSelectedCamera>
     </Camera>
     <Camera>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Side(YZ)-Camera</Name>
      <Position>
       <X>
        <Value>10</Value>
       </X>
      </Position>
      <Orientation>
       <ZAxis>
        <X>
         <Value>-1</Value>
        </X>
       </ZAxis>
       <YAxis>
        <Z>
         <Value>1</Value>
        </Z>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <FrontPlane>0.01</FrontPlane>
      <BackPlane>100</BackPlane>
      <AutoFrontBack>true</AutoFrontBack>
      <Field>10</Field>
      <Fieldy>45</Fieldy>
      <PlaneLeft>-10</PlaneLeft>
      <PlaneRight>10</PlaneRight>
      <PlaneTop>10</PlaneTop>
      <PlaneBottom>-10</PlaneBottom>
      <UseLookatPosition>true</UseLookatPosition>
      <LookatPosition>
      </LookatPosition>
      <UseAlwaysLookUp>true</UseAlwaysLookUp>
      <LookUpVector>
       <Z>
        <Value>1</Value>
       </Z>
      </LookUpVector>
      <RightHand>true</RightHand>
      <Perspective>false</Perspective>
      <IsSelectedCamera>false</IsSelectedCamera>
     </Camera>
     <Camera>
      <ShowReferenceFrame>false</ShowReferenceFrame>
      <Name>Top(XZ)-Camera</Name>
      <Position>
       <Y>
        <Value>10</Value>
       </Y>
      </Position>
      <Orientation>
       <ZAxis>
        <Y>
         <Value>-1</Value>
        </Y>
       </ZAxis>
       <YAxis>
        <X>
         <Value>1</Value>
        </X>
       </YAxis>
       <OrientationType>Direct3D</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
      </Childs>
      <FrontPlane>0.01</FrontPlane>
      <BackPlane>100</BackPlane>
      <AutoFrontBack>true</AutoFrontBack>
      <Field>10</Field>
      <Fieldy>45</Fieldy>
      <PlaneLeft>-10</PlaneLeft>
      <PlaneRight>10</PlaneRight>
      <PlaneTop>10</PlaneTop>
      <PlaneBottom>-10</PlaneBottom>
      <UseLookatPosition>true</UseLookatPosition>
      <LookatPosition>
      </LookatPosition>
      <UseAlwaysLookUp>true</UseAlwaysLookUp>
      <LookUpVector>
       <X>
        <Value>1</Value>
       </X>
      </LookUpVector>
      <RightHand>true</RightHand>
      <Perspective>false</Perspective>
      <IsSelectedCamera>false</IsSelectedCamera>
     </Camera>
         </Childs>
        </Frame>
        <Frame>
         <ScaleValue>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </ScaleValue>
         <ShowReferenceFrame>false</ShowReferenceFrame>
         <Name>Scenery</Name>
         <Position>
         </Position>
         <Orientation>
     <Angles>
     </Angles>
     <OrientationType>Bryant</OrientationType>
         </Orientation>
         <LockX>false</LockX>
         <LockY>false</LockY>
         <LockZ>false</LockZ>
         <LockXPitch>false</LockXPitch>
         <LockYYaw>false</LockYYaw>
         <LockZRoll>false</LockZRoll>
         <Childs>
         </Childs>
        </Frame>
        <Frame>
         <ScaleValue>
     <X>
      <Value>1</Value>
     </X>
     <Y>
      <Value>1</Value>
     </Y>
     <Z>
      <Value>1</Value>
     </Z>
         </ScaleValue>
         <ShowReferenceFrame>false</ShowReferenceFrame>
         <Name>MotionStack</Name>
         <SceneryFileName>Z:\Users\yury\workspaces\Ubuntu_shared\ut_git\20SimModels\Animations\MotionStack.scn</SceneryFileName>
         <Position>
         </Position>
         <Orientation>
     <Angles>
     </Angles>
     <OrientationType>Bryant</OrientationType>
         </Orientation>
         <LockX>false</LockX>
         <LockY>false</LockY>
         <LockZ>false</LockZ>
         <LockXPitch>false</LockXPitch>
         <LockYYaw>false</LockYYaw>
         <LockZRoll>false</LockZRoll>
         <Childs>
     <Frame>
      <ScaleValue>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </ScaleValue>
      <ShowReferenceFrame>true</ShowReferenceFrame>
      <Name>Reference Frame</Name>
      <Position>
      </Position>
      <Orientation>
       <Angles>
       </Angles>
       <OrientationType>Bryant</OrientationType>
      </Orientation>
      <LockX>false</LockX>
      <LockY>false</LockY>
      <LockZ>false</LockZ>
      <LockXPitch>false</LockXPitch>
      <LockYYaw>false</LockYYaw>
      <LockZRoll>false</LockZRoll>
      <Childs>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>Default Lights and Cameras</Name>
        <Position>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
         <Light>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Ambient</Name>
     <Position>
     </Position>
     <Orientation>
      <ZAxis>
       <Z>
        <Value>1</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <Y>
        <Value>1</Value>
       </Y>
      </YAxis>
      <OrientationType>Direct3D</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
     <LightType>0</LightType>
     <LightColor>
      <Color>
       <X>
        <Value>0.3</Value>
       </X>
       <Y>
        <Value>0.3</Value>
       </Y>
       <Z>
        <Value>0.3</Value>
       </Z>
      </Color>
      <Offset>
      </Offset>
      <Multipliers>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </Multipliers>
      <Direct3DColorRange>true</Direct3DColorRange>
     </LightColor>
     <AmbientLight>
      <Color>
       <X>
        <Value>0.3</Value>
       </X>
       <Y>
        <Value>0.3</Value>
       </Y>
       <Z>
        <Value>0.3</Value>
       </Z>
      </Color>
      <Offset>
      </Offset>
      <Multipliers>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </Multipliers>
      <Direct3DColorRange>true</Direct3DColorRange>
     </AmbientLight>
     <AmbientOn>true</AmbientOn>
     <DiffuseOn>false</DiffuseOn>
     <SpecularOn>false</SpecularOn>
         </Light>
         <Light>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Parallel</Name>
     <Position>
      <X>
       <Value>-3</Value>
      </X>
      <Y>
       <Value>5</Value>
      </Y>
      <Z>
       <Value>3</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <Value>0.457495710997814</Value>
       </X>
       <Y>
        <Value>-0.762492851663023</Value>
       </Y>
       <Z>
        <Value>-0.457495710997814</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <Value>0.235379601434674</Value>
       </X>
       <Y>
        <Value>-0.392299335724456</Value>
       </Y>
       <Z>
        <Value>0.889211827642101</Value>
       </Z>
      </YAxis>
      <OrientationType>Direct3D</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
     <LightType>3</LightType>
     <LightColor>
      <Color>
       <X>
        <Value>0.5</Value>
       </X>
       <Y>
        <Value>0.5</Value>
       </Y>
       <Z>
        <Value>0.5</Value>
       </Z>
      </Color>
      <Offset>
      </Offset>
      <Multipliers>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </Multipliers>
      <Direct3DColorRange>true</Direct3DColorRange>
     </LightColor>
     <Attenuation>
      <Constant>
       <Value>1</Value>
      </Constant>
      <Linear>
       <Value>0</Value>
      </Linear>
      <Quadratic>
       <Value>0</Value>
      </Quadratic>
     </Attenuation>
     <DiffuseLight>
      <Color>
       <X>
        <Value>0.5</Value>
       </X>
       <Y>
        <Value>0.5</Value>
       </Y>
       <Z>
        <Value>0.5</Value>
       </Z>
      </Color>
      <Offset>
      </Offset>
      <Multipliers>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </Multipliers>
      <Direct3DColorRange>true</Direct3DColorRange>
     </DiffuseLight>
     <SpecularLight>
      <Color>
       <X>
        <Value>0.5</Value>
       </X>
       <Y>
        <Value>0.5</Value>
       </Y>
       <Z>
        <Value>0.5</Value>
       </Z>
      </Color>
      <Offset>
      </Offset>
      <Multipliers>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </Multipliers>
      <Direct3DColorRange>true</Direct3DColorRange>
     </SpecularLight>
     <AmbientOn>false</AmbientOn>
     <DiffuseOn>true</DiffuseOn>
     <SpecularOn>true</SpecularOn>
         </Light>
         <Light>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Spot Light 1</Name>
     <Position>
      <X>
       <Value>-3</Value>
      </X>
      <Y>
       <Value>-5</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <Value>0.50709255283711</Value>
       </X>
       <Y>
        <Value>0.845154254728517</Value>
       </Y>
       <Z>
        <Value>-0.169030850945703</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <Value>0.0869656553478673</Value>
       </X>
       <Y>
        <Value>0.144942758913112</Value>
       </Y>
       <Z>
        <Value>0.985610760609162</Value>
       </Z>
      </YAxis>
      <OrientationType>Direct3D</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
     <LightType>2</LightType>
     <LightColor>
      <Color>
       <X>
        <Value>0.5</Value>
       </X>
       <Y>
        <Value>0.5</Value>
       </Y>
       <Z>
        <Value>0.5</Value>
       </Z>
      </Color>
      <Offset>
      </Offset>
      <Multipliers>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </Multipliers>
      <Direct3DColorRange>true</Direct3DColorRange>
     </LightColor>
     <Attenuation>
      <Constant>
       <Value>1</Value>
      </Constant>
      <Linear>
       <Value>0.05</Value>
      </Linear>
      <Quadratic>
       <Value>0.05</Value>
      </Quadratic>
     </Attenuation>
     <Umbra>
      <Value>1.0471975511966</Value>
     </Umbra>
     <Penumbra>
      <Value>1.0471975511966</Value>
     </Penumbra>
     <DiffuseLight>
      <Color>
       <X>
        <Value>0.5</Value>
       </X>
       <Y>
        <Value>0.5</Value>
       </Y>
       <Z>
        <Value>0.5</Value>
       </Z>
      </Color>
      <Offset>
      </Offset>
      <Multipliers>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </Multipliers>
      <Direct3DColorRange>true</Direct3DColorRange>
     </DiffuseLight>
     <SpecularLight>
      <Color>
       <X>
        <Value>0.5</Value>
       </X>
       <Y>
        <Value>0.5</Value>
       </Y>
       <Z>
        <Value>0.5</Value>
       </Z>
      </Color>
      <Offset>
      </Offset>
      <Multipliers>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </Multipliers>
      <Direct3DColorRange>true</Direct3DColorRange>
     </SpecularLight>
     <AmbientOn>false</AmbientOn>
     <DiffuseOn>true</DiffuseOn>
     <SpecularOn>true</SpecularOn>
         </Light>
         <Light>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Spot Light 2</Name>
     <Position>
      <X>
       <Value>2</Value>
      </X>
      <Y>
       <Value>-3</Value>
      </Y>
      <Z>
       <Value>-1</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <Value>-0.534522483824849</Value>
       </X>
       <Y>
        <Value>0.801783725737273</Value>
       </Y>
       <Z>
        <Value>0.267261241912424</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <Value>0.14824986333222</Value>
       </X>
       <Y>
        <Value>-0.22237479499833</Value>
       </Y>
       <Z>
        <Value>0.963624111659432</Value>
       </Z>
      </YAxis>
      <OrientationType>Direct3D</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
     <LightType>2</LightType>
     <LightColor>
      <Color>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </Color>
      <Offset>
      </Offset>
      <Multipliers>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </Multipliers>
      <Direct3DColorRange>true</Direct3DColorRange>
     </LightColor>
     <Attenuation>
      <Constant>
       <Value>1</Value>
      </Constant>
      <Linear>
       <Value>0.05</Value>
      </Linear>
      <Quadratic>
       <Value>0.05</Value>
      </Quadratic>
     </Attenuation>
     <Umbra>
      <Value>1.5707963267949</Value>
     </Umbra>
     <Penumbra>
      <Value>1.5707963267949</Value>
     </Penumbra>
     <DiffuseLight>
      <Color>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </Color>
      <Offset>
      </Offset>
      <Multipliers>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </Multipliers>
      <Direct3DColorRange>true</Direct3DColorRange>
     </DiffuseLight>
     <SpecularLight>
      <Color>
       <X>
        <Value>0.5</Value>
       </X>
       <Y>
        <Value>0.5</Value>
       </Y>
       <Z>
        <Value>0.5</Value>
       </Z>
      </Color>
      <Offset>
      </Offset>
      <Multipliers>
       <X>
        <Value>1</Value>
       </X>
       <Y>
        <Value>1</Value>
       </Y>
       <Z>
        <Value>1</Value>
       </Z>
      </Multipliers>
      <Direct3DColorRange>true</Direct3DColorRange>
     </SpecularLight>
     <AmbientOn>false</AmbientOn>
     <DiffuseOn>true</DiffuseOn>
     <SpecularOn>true</SpecularOn>
         </Light>
         <Camera>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Camera Looking at Origin</Name>
     <Position>
      <X>
       <Value>-3.80715801950682</Value>
      </X>
      <Y>
       <Value>-1.19652554181142</Value>
      </Y>
      <Z>
       <Value>3.66258805844575</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <Value>0.790655779703867</Value>
       </X>
       <Y>
        <Value>0.110886214473653</Value>
       </Y>
       <Z>
        <Value>-0.602135936031535</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <Value>0.596300205429013</Value>
       </X>
       <Y>
        <Value>0.0836286462038509</Value>
       </Y>
       <Z>
        <Value>0.79839358372887</Value>
       </Z>
      </YAxis>
      <OrientationType>Direct3D</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
     <FrontPlane>0.01</FrontPlane>
     <BackPlane>100</BackPlane>
     <AutoFrontBack>true</AutoFrontBack>
     <Field>0.00392699081698724</Field>
     <Fieldy>45</Fieldy>
     <PlaneLeft>-10</PlaneLeft>
     <PlaneRight>10</PlaneRight>
     <PlaneTop>10</PlaneTop>
     <PlaneBottom>-10</PlaneBottom>
     <UseLookatPosition>true</UseLookatPosition>
     <LookatPosition>
      <X>
       <Value>1.58552986089574</Value>
      </X>
      <Y>
       <Value>-0.440223292152598</Value>
      </Y>
      <Z>
       <Value>-0.444295427321329</Value>
      </Z>
     </LookatPosition>
     <UseAlwaysLookUp>true</UseAlwaysLookUp>
     <LookUpVector>
      <Z>
       <Value>1</Value>
      </Z>
     </LookUpVector>
     <RightHand>true</RightHand>
     <Perspective>true</Perspective>
     <IsSelectedCamera>false</IsSelectedCamera>
         </Camera>
         <Camera>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Front(XY)-Camera</Name>
     <Position>
      <Z>
       <Value>3</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <Z>
        <Value>-1</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <Y>
        <Value>1</Value>
       </Y>
      </YAxis>
      <OrientationType>Direct3D</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
     <FrontPlane>0.01</FrontPlane>
     <BackPlane>100</BackPlane>
     <AutoFrontBack>true</AutoFrontBack>
     <Field>10</Field>
     <Fieldy>45</Fieldy>
     <PlaneLeft>-10</PlaneLeft>
     <PlaneRight>10</PlaneRight>
     <PlaneTop>10</PlaneTop>
     <PlaneBottom>-10</PlaneBottom>
     <UseLookatPosition>true</UseLookatPosition>
     <LookatPosition>
     </LookatPosition>
     <UseAlwaysLookUp>true</UseAlwaysLookUp>
     <LookUpVector>
      <Y>
       <Value>1</Value>
      </Y>
     </LookUpVector>
     <RightHand>true</RightHand>
     <Perspective>false</Perspective>
     <IsSelectedCamera>false</IsSelectedCamera>
         </Camera>
         <Camera>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Side(YZ)-Camera</Name>
     <Position>
      <X>
       <Value>10</Value>
      </X>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <Value>-1</Value>
       </X>
      </ZAxis>
      <YAxis>
       <Z>
        <Value>1</Value>
       </Z>
      </YAxis>
      <OrientationType>Direct3D</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
     <FrontPlane>0.01</FrontPlane>
     <BackPlane>100</BackPlane>
     <AutoFrontBack>true</AutoFrontBack>
     <Field>10</Field>
     <Fieldy>45</Fieldy>
     <PlaneLeft>-10</PlaneLeft>
     <PlaneRight>10</PlaneRight>
     <PlaneTop>10</PlaneTop>
     <PlaneBottom>-10</PlaneBottom>
     <UseLookatPosition>true</UseLookatPosition>
     <LookatPosition>
     </LookatPosition>
     <UseAlwaysLookUp>true</UseAlwaysLookUp>
     <LookUpVector>
      <Z>
       <Value>1</Value>
      </Z>
     </LookUpVector>
     <RightHand>true</RightHand>
     <Perspective>false</Perspective>
     <IsSelectedCamera>false</IsSelectedCamera>
         </Camera>
        </Childs>
       </Frame>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>Scenery</Name>
        <Position>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
        </Childs>
       </Frame>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>false</ShowReferenceFrame>
        <Name>Robot</Name>
        <Position>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>true</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.055</Value>
      </X>
      <Y>
       <Value>0.09</Value>
      </Y>
      <Z>
       <Value>0.155</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>0.552941176470588</Value>
      </Y>
      <Z>
       <Value>0.109803921568627</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.498039215686275</Value>
      </X>
      <Y>
       <Value>0.498039215686275</Value>
      </Y>
      <Z>
       <Value>0.498039215686275</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>14.298713684082</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Link2</Name>
     <Position>
      <X>
       <VariableName>Plant\Link2\Hin[1,4]</VariableName>
       <Value>0.963276982768</Value>
      </X>
      <Y>
       <VariableName>Plant\Link2\Hin[2,4]</VariableName>
       <Value>0.143324093718803</Value>
      </Y>
      <Z>
       <VariableName>Plant\Link2\Hin[3,4]</VariableName>
       <Value>0.129614325076329</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>Plant\Link2\Hin[1,3]</VariableName>
        <Value>-0.0356902199938812</Value>
       </X>
       <Y>
        <VariableName>Plant\Link2\Hin[2,3]</VariableName>
        <Value>0.0785126772520685</Value>
       </Y>
       <Z>
        <VariableName>Plant\Link2\Hin[3,3]</VariableName>
        <Value>0.996274042474008</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>Plant\Link2\Hin[1,2]</VariableName>
        <Value>0.913072476909004</Value>
       </X>
       <Y>
        <VariableName>Plant\Link2\Hin[2,2]</VariableName>
        <Value>0.407796915103007</Value>
       </Y>
       <Z>
        <VariableName>Plant\Link2\Hin[3,2]</VariableName>
        <Value>0.000572663712036521</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>true</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.055</Value>
      </X>
      <Y>
       <Value>0.09</Value>
      </Y>
      <Z>
       <Value>0.135</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>0.552941176470588</Value>
      </Y>
      <Z>
       <Value>0.109803921568627</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Link3</Name>
     <Position>
      <X>
       <VariableName>Plant\Link3\Hin[1,4]</VariableName>
       <Value>0.957744987331115</Value>
      </X>
      <Y>
       <VariableName>Plant\Link3\Hin[2,4]</VariableName>
       <Value>0.155493583634264</Value>
      </Y>
      <Z>
       <VariableName>Plant\Link3\Hin[3,4]</VariableName>
       <Value>0.284037118149577</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>Plant\Link3\Hin[1,3]</VariableName>
        <Value>0.391882851156895</Value>
       </X>
       <Y>
        <VariableName>Plant\Link3\Hin[2,3]</VariableName>
        <Value>-0.877050094379206</Value>
       </Y>
       <Z>
        <VariableName>Plant\Link3\Hin[3,3]</VariableName>
        <Value>-0.27786860729231</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>Plant\Link3\Hin[1,2]</VariableName>
        <Value>0.913072474622637</Value>
       </X>
       <Y>
        <VariableName>Plant\Link3\Hin[2,2]</VariableName>
        <Value>0.407796920262719</Value>
       </Y>
       <Z>
        <VariableName>Plant\Link3\Hin[3,2]</VariableName>
        <Value>0.000572634906777198</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
         <Cylinder>
     <CircleElements>16</CircleElements>
     <LowerRadius>0.09</LowerRadius>
     <UpperRadius>0.09</UpperRadius>
     <Height>1</Height>
     <Closed>true</Closed>
     <LowerClosed>true</LowerClosed>
     <UpperClosed>true</UpperClosed>
     <CenterInOrigin>false</CenterInOrigin>
     <ShowInnerSide>false</ShowInnerSide>
     <ShowOuterSide>true</ShowOuterSide>
     <ScaleValue>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>0.075</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>0.552941176470588</Value>
      </Y>
      <Z>
       <Value>0.109803921568627</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Link1</Name>
     <Position>
      <X>
       <VariableName>Plant\Link1\Hin[1,4]</VariableName>
       <Value>0.963324076613248</Value>
      </X>
      <Y>
       <VariableName>Plant\Link1\Hin[2,4]</VariableName>
       <Value>0.143323970358036</Value>
      </Y>
      <Z>
       <VariableName>Plant\Link1\Hin[3,4]</VariableName>
       <Value>0.0546143398603367</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>Plant\Link1\Hin[1,3]</VariableName>
        <Value>-0.000627917936622413</Value>
       </X>
       <Y>
        <VariableName>Plant\Link1\Hin[2,3]</VariableName>
        <Value>1.64481023082213e-006</Value>
       </Y>
       <Z>
        <VariableName>Plant\Link1\Hin[3,3]</VariableName>
        <Value>0.99999980285816</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>Plant\Link1\Hin[1,2]</VariableName>
        <Value>0.913072478007297</Value>
       </X>
       <Y>
        <VariableName>Plant\Link1\Hin[2,2]</VariableName>
        <Value>0.407796912643554</Value>
       </Y>
       <Z>
        <VariableName>Plant\Link1\Hin[3,2]</VariableName>
        <Value>0.000572663950739066</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cylinder>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>true</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.055</Value>
      </X>
      <Y>
       <Value>0.1</Value>
      </Y>
      <Z>
       <Value>0.081</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>0.552941176470588</Value>
      </Y>
      <Z>
       <Value>0.109803921568627</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Link4</Name>
     <Position>
      <X>
       <VariableName>Plant\Link4\Hin[1,4]</VariableName>
       <Value>1.01066269844241</Value>
      </X>
      <Y>
       <VariableName>Plant\Link4\Hin[2,4]</VariableName>
       <Value>0.037061548684328</Value>
      </Y>
      <Z>
       <VariableName>Plant\Link4\Hin[3,4]</VariableName>
       <Value>0.24651526526884</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>Plant\Link4\Hin[1,3]</VariableName>
        <Value>0.144022473206227</Value>
       </X>
       <Y>
        <VariableName>Plant\Link4\Hin[2,3]</VariableName>
        <Value>-0.32378483802206</Value>
       </Y>
       <Z>
        <VariableName>Plant\Link4\Hin[3,3]</VariableName>
        <Value>0.935104756633496</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>Plant\Link4\Hin[1,2]</VariableName>
        <Value>0.913072482266881</Value>
       </X>
       <Y>
        <VariableName>Plant\Link4\Hin[2,2]</VariableName>
        <Value>0.407796903111708</Value>
       </Y>
       <Z>
        <VariableName>Plant\Link4\Hin[3,2]</VariableName>
        <Value>0.000572660018568316</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>true</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.055</Value>
      </X>
      <Y>
       <Value>0.1</Value>
      </Y>
      <Z>
       <Value>0.137</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>0.501960784313725</Value>
      </X>
      <Y>
       <Value>0.501960784313725</Value>
      </Y>
      <Z>
       <Value>0.501960784313725</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Link5</Name>
     <Position>
      <X>
       <VariableName>Plant\Link5\Hin[1,4]</VariableName>
       <Value>1.02232892507123</Value>
      </X>
      <Y>
       <VariableName>Plant\Link5\Hin[2,4]</VariableName>
       <Value>0.0108340633811624</Value>
      </Y>
      <Z>
       <VariableName>Plant\Link5\Hin[3,4]</VariableName>
       <Value>0.322261388562773</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>Plant\Link5\Hin[1,3]</VariableName>
        <Value>0.144022473206227</Value>
       </X>
       <Y>
        <VariableName>Plant\Link5\Hin[2,3]</VariableName>
        <Value>-0.32378483802206</Value>
       </Y>
       <Z>
        <VariableName>Plant\Link5\Hin[3,3]</VariableName>
        <Value>0.935104756633496</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>Plant\Link5\Hin[1,2]</VariableName>
        <Value>-0.98631257087197</Value>
       </X>
       <Y>
        <VariableName>Plant\Link5\Hin[2,2]</VariableName>
        <Value>0.02969303968785</Value>
       </Y>
       <Z>
        <VariableName>Plant\Link5\Hin[3,2]</VariableName>
        <Value>0.162190739359622</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>true</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.53</Value>
      </X>
      <Y>
       <Value>0.36</Value>
      </Y>
      <Z>
       <Value>0.11</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>0.541176470588235</Value>
      </Y>
      <Z>
       <Value>0.0980392156862745</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.498039215686275</Value>
      </X>
      <Y>
       <Value>0.498039215686275</Value>
      </Y>
      <Z>
       <Value>0.498039215686275</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>14.298713684082</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Base</Name>
     <Position>
      <X>
       <VariableName>Plant\Base\Hin[1,4]</VariableName>
       <Value>1.07840614677646</Value>
      </X>
      <Y>
       <VariableName>Plant\Base\Hin[2,4]</VariableName>
       <Value>0.143367802860094</Value>
      </Y>
      <Z>
       <VariableName>Plant\Base\Hin[3,4]</VariableName>
       <Value>-0.0253134180018725</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>Plant\Base\Hin[1,3]</VariableName>
        <Value>-0.000627917936622413</Value>
       </X>
       <Y>
        <VariableName>Plant\Base\Hin[2,3]</VariableName>
        <Value>1.64481023082213e-006</Value>
       </Y>
       <Z>
        <VariableName>Plant\Base\Hin[3,3]</VariableName>
        <Value>0.99999980285816</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>Plant\Base\Hin[1,2]</VariableName>
        <Value>0.000382189303443783</Value>
       </X>
       <Y>
        <VariableName>Plant\Base\Hin[2,2]</VariableName>
        <Value>-0.999999926963889</Value>
       </Y>
       <Z>
        <VariableName>Plant\Base\Hin[3,2]</VariableName>
        <Value>1.88479400108092e-006</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
         <Cylinder>
     <CircleElements>16</CircleElements>
     <LowerRadius>0.05</LowerRadius>
     <UpperRadius>0</UpperRadius>
     <Height>1</Height>
     <Closed>true</Closed>
     <LowerClosed>true</LowerClosed>
     <UpperClosed>true</UpperClosed>
     <CenterInOrigin>true</CenterInOrigin>
     <ShowInnerSide>false</ShowInnerSide>
     <ShowOuterSide>true</ShowOuterSide>
     <ScaleValue>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>0</Value>
      </Y>
      <Z>
       <Value>0</Value>
      </Z>
     </MeshColor>
     <Alpha>0.21</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.498039215686275</Value>
      </X>
      <Y>
       <Value>0.498039215686275</Value>
      </Y>
      <Z>
       <Value>0.498039215686275</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>13.5413365364075</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Cylinder</Name>
     <Position>
      <X>
       <VariableName>interaction_control\CalculateJ\Htip0[1,4]</VariableName>
       <Value>-1.19989443964009</Value>
      </X>
      <Y>
       <VariableName>interaction_control\CalculateJ\Htip0[2,4]</VariableName>
       <Value>0.860193813059243</Value>
      </Y>
      <Z>
       <VariableName>interaction_control\CalculateJ\Htip0[3,4]</VariableName>
       <Value>0.361123953364584</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>interaction_control\CalculateJ\Htip0[1,3]</VariableName>
        <Value>-0.0259685845851603</Value>
       </X>
       <Y>
        <VariableName>interaction_control\CalculateJ\Htip0[2,3]</VariableName>
        <Value>-0.97105639132736</Value>
       </Y>
       <Z>
        <VariableName>interaction_control\CalculateJ\Htip0[3,3]</VariableName>
        <Value>0.237434448799933</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>interaction_control\CalculateJ\Htip0[1,2]</VariableName>
        <Value>0.976038859475185</Value>
       </X>
       <Y>
        <VariableName>interaction_control\CalculateJ\Htip0[2,2]</VariableName>
        <Value>-0.0759595683401471</Value>
       </Y>
       <Z>
        <VariableName>interaction_control\CalculateJ\Htip0[3,2]</VariableName>
        <Value>-0.203907549570777</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cylinder>
         <Cube>
     <Center>Center</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>true</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.12</Value>
      </X>
      <Y>
       <Value>0.12</Value>
      </Y>
      <Z>
       <Value>0.07</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>0.403921568627451</Value>
      </X>
      <Y>
       <Value>0.403921568627451</Value>
      </Y>
      <Z>
       <Value>0.403921568627451</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.498039215686275</Value>
      </X>
      <Y>
       <Value>0.498039215686275</Value>
      </Y>
      <Z>
       <Value>0.498039215686275</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>14.298713684082</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>WheelLF</Name>
     <Position>
      <X>
       <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HLF0[1,4]</VariableName>
       <Value>0.843252348935318</Value>
      </X>
      <Y>
       <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HLF0[2,4]</VariableName>
       <Value>0.293319601188847</Value>
      </Y>
      <Z>
       <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HLF0[3,4]</VariableName>
       <Value>0.0245386968131793</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HLF0[1,3]</VariableName>
        <Value>-0.0003826890736452</Value>
       </X>
       <Y>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HLF0[2,3]</VariableName>
        <Value>0.999999611378293</Value>
       </Y>
       <Z>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HLF0[3,3]</VariableName>
        <Value>0.000794224361237951</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HLF0[1,2]</VariableName>
        <Value>0.978204758756682</Value>
       </X>
       <Y>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HLF0[2,2]</VariableName>
        <Value>0.000209433625721057</Value>
       </Y>
       <Z>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HLF0[3,2]</VariableName>
        <Value>0.207642495851255</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
         <Cube>
     <Center>Center</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>true</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.12</Value>
      </X>
      <Y>
       <Value>0.12</Value>
      </Y>
      <Z>
       <Value>0.07</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>0.403921568627451</Value>
      </X>
      <Y>
       <Value>0.403921568627451</Value>
      </Y>
      <Z>
       <Value>0.403921568627451</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>WheelRF</Name>
     <Position>
      <X>
       <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HRF0[1,4]</VariableName>
       <Value>0.843367037499654</Value>
      </X>
      <Y>
       <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HRF0[2,4]</VariableName>
       <Value>-0.00676351029921807</Value>
      </Y>
      <Z>
       <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HRF0[3,4]</VariableName>
       <Value>0.0245392614445812</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HRF0[1,3]</VariableName>
        <Value>-0.0003826890736452</Value>
       </X>
       <Y>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HRF0[2,3]</VariableName>
        <Value>0.999999611378293</Value>
       </Y>
       <Z>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HRF0[3,3]</VariableName>
        <Value>0.000794224361237951</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HRF0[1,2]</VariableName>
        <Value>0.640722434232433</Value>
       </X>
       <Y>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HRF0[2,2]</VariableName>
        <Value>-0.000364586299353574</Value>
       </Y>
       <Z>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HRF0[3,2]</VariableName>
        <Value>0.767772511456418</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
         <Cube>
     <Center>Center</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>true</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.12</Value>
      </X>
      <Y>
       <Value>0.12</Value>
      </Y>
      <Z>
       <Value>0.07</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>0.403921568627451</Value>
      </X>
      <Y>
       <Value>0.403921568627451</Value>
      </Y>
      <Z>
       <Value>0.403921568627451</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>WheelLR</Name>
     <Position>
      <X>
       <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HLR0[1,4]</VariableName>
       <Value>1.31338246425961</Value>
      </X>
      <Y>
       <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HLR0[2,4]</VariableName>
       <Value>0.293499280500429</Value>
      </Y>
      <Z>
       <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HLR0[3,4]</VariableName>
       <Value>0.0248338828396629</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HLR0[1,3]</VariableName>
        <Value>-0.0003826890736452</Value>
       </X>
       <Y>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HLR0[2,3]</VariableName>
        <Value>0.999999611378293</Value>
       </Y>
       <Z>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HLR0[3,3]</VariableName>
        <Value>0.000794224361237951</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HLR0[1,2]</VariableName>
        <Value>-0.963194685233163</Value>
       </X>
       <Y>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HLR0[2,2]</VariableName>
        <Value>-0.000582095095310431</Value>
       </Y>
       <Z>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HLR0[3,2]</VariableName>
        <Value>0.268804128509753</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
         <Cube>
     <Center>Center</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>true</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.12</Value>
      </X>
      <Y>
       <Value>0.12</Value>
      </Y>
      <Z>
       <Value>0.07</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>0.403921568627451</Value>
      </X>
      <Y>
       <Value>0.403921568627451</Value>
      </Y>
      <Z>
       <Value>0.403921568627451</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>WheelRR</Name>
     <Position>
      <X>
       <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HRR0[1,4]</VariableName>
       <Value>1.31349715282395</Value>
      </X>
      <Y>
       <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HRR0[2,4]</VariableName>
       <Value>-0.00658383098763604</Value>
      </Y>
      <Z>
       <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HRR0[3,4]</VariableName>
       <Value>0.0248344474710648</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HRR0[1,3]</VariableName>
        <Value>-0.0003826890736452</Value>
       </X>
       <Y>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HRR0[2,3]</VariableName>
        <Value>0.999999611378293</Value>
       </Y>
       <Z>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HRR0[3,3]</VariableName>
        <Value>0.000794224361237951</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HRR0[1,2]</VariableName>
        <Value>-0.923399306573937</Value>
       </X>
       <Y>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HRR0[2,2]</VariableName>
        <Value>-4.85191728100997e-005</Value>
       </Y>
       <Z>
        <VariableName>Plant\MecanumWheels\MecanumWheelAnimation\HRR0[3,2]</VariableName>
        <Value>-0.383840745967207</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
        </Childs>
       </Frame>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>true</ShowReferenceFrame>
        <Name>Gravity compensation</Name>
        <Position>
         <X>
     <Value>1</Value>
         </X>
         <Z>
     <Value>1</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
         <Cylinder>
     <CircleElements>16</CircleElements>
     <LowerRadius>0.09</LowerRadius>
     <UpperRadius>0.09</UpperRadius>
     <Height>1</Height>
     <Closed>true</Closed>
     <LowerClosed>true</LowerClosed>
     <UpperClosed>true</UpperClosed>
     <CenterInOrigin>false</CenterInOrigin>
     <ShowInnerSide>false</ShowInnerSide>
     <ShowOuterSide>true</ShowOuterSide>
     <ScaleValue>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>0.075</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>0.552941176470588</Value>
      </Y>
      <Z>
       <Value>0.109803921568627</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Link1</Name>
     <Position>
      <X>
       <VariableName>YouBot_control\GravityCompensationModel\Link1\Hin[1,4]</VariableName>
       <Value>0.024</Value>
      </X>
      <Y>
       <VariableName>YouBot_control\GravityCompensationModel\Link1\Hin[2,4]</VariableName>
       <Value>0</Value>
      </Y>
      <Z>
       <VariableName>YouBot_control\GravityCompensationModel\Link1\Hin[3,4]</VariableName>
       <Value>0.096</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>YouBot_control\GravityCompensationModel\Link1\Hin[1,3]</VariableName>
        <Value>0</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\GravityCompensationModel\Link1\Hin[2,3]</VariableName>
        <Value>0</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\GravityCompensationModel\Link1\Hin[3,3]</VariableName>
        <Value>1</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>YouBot_control\GravityCompensationModel\Link1\Hin[1,2]</VariableName>
        <Value>-0.600972659678531</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\GravityCompensationModel\Link1\Hin[2,2]</VariableName>
        <Value>-0.799269580503921</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\GravityCompensationModel\Link1\Hin[3,2]</VariableName>
        <Value>0</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cylinder>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>true</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.055</Value>
      </X>
      <Y>
       <Value>0.09</Value>
      </Y>
      <Z>
       <Value>0.135</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>0.552941176470588</Value>
      </Y>
      <Z>
       <Value>0.109803921568627</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Link3</Name>
     <Position>
      <X>
       <VariableName>YouBot_control\GravityCompensationModel\Link3\Hin[1,4]</VariableName>
       <Value>0.0584900238247973</Value>
      </X>
      <Y>
       <VariableName>YouBot_control\GravityCompensationModel\Link3\Hin[2,4]</VariableName>
       <Value>-0.0259331292669691</Value>
      </Y>
      <Z>
       <VariableName>YouBot_control\GravityCompensationModel\Link3\Hin[3,4]</VariableName>
       <Value>0.250003273216337</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>YouBot_control\GravityCompensationModel\Link3\Hin[1,3]</VariableName>
        <Value>-0.757113745651422</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\GravityCompensationModel\Link3\Hin[2,3]</VariableName>
        <Value>0.569275589240416</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\GravityCompensationModel\Link3\Hin[3,3]</VariableName>
        <Value>-0.320474772237458</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>YouBot_control\GravityCompensationModel\Link3\Hin[1,2]</VariableName>
        <Value>-0.600972659678531</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\GravityCompensationModel\Link3\Hin[2,2]</VariableName>
        <Value>-0.799269580503921</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\GravityCompensationModel\Link3\Hin[3,2]</VariableName>
        <Value>2.77555756156289e-017</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>true</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.055</Value>
      </X>
      <Y>
       <Value>0.09</Value>
      </Y>
      <Z>
       <Value>0.155</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>0.552941176470588</Value>
      </Y>
      <Z>
       <Value>0.109803921568627</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.498039215686275</Value>
      </X>
      <Y>
       <Value>0.498039215686275</Value>
      </Y>
      <Z>
       <Value>0.498039215686275</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>14.298713684082</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Link2</Name>
     <Position>
      <X>
       <VariableName>YouBot_control\GravityCompensationModel\Link2\Hin[1,4]</VariableName>
       <Value>-0.00237589615662938</Value>
      </X>
      <Y>
       <VariableName>YouBot_control\GravityCompensationModel\Link2\Hin[2,4]</VariableName>
       <Value>0.0198320977693915</Value>
      </Y>
      <Z>
       <VariableName>YouBot_control\GravityCompensationModel\Link2\Hin[3,4]</VariableName>
       <Value>0.115</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>YouBot_control\GravityCompensationModel\Link2\Hin[1,3]</VariableName>
        <Value>0.392683354718882</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\GravityCompensationModel\Link2\Hin[2,3]</VariableName>
        <Value>-0.295259529266843</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\GravityCompensationModel\Link2\Hin[3,3]</VariableName>
        <Value>0.870988859460239</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>YouBot_control\GravityCompensationModel\Link2\Hin[1,2]</VariableName>
        <Value>-0.600972659678531</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\GravityCompensationModel\Link2\Hin[2,2]</VariableName>
        <Value>-0.799269580503921</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\GravityCompensationModel\Link2\Hin[3,2]</VariableName>
        <Value>-2.77555756156289e-017</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>true</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.055</Value>
      </X>
      <Y>
       <Value>0.1</Value>
      </Y>
      <Z>
       <Value>0.081</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>0.552941176470588</Value>
      </Y>
      <Z>
       <Value>0.109803921568627</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Link4</Name>
     <Position>
      <X>
       <VariableName>YouBot_control\GravityCompensationModel\Link4\Hin[1,4]</VariableName>
       <Value>-0.0437203318381446</Value>
      </X>
      <Y>
       <VariableName>YouBot_control\GravityCompensationModel\Link4\Hin[2,4]</VariableName>
       <Value>0.0509190752804871</Value>
      </Y>
      <Z>
       <VariableName>YouBot_control\GravityCompensationModel\Link4\Hin[3,4]</VariableName>
       <Value>0.20673917896428</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>YouBot_control\GravityCompensationModel\Link4\Hin[1,3]</VariableName>
        <Value>-0.413682431340861</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\GravityCompensationModel\Link4\Hin[2,3]</VariableName>
        <Value>0.31104878390149</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\GravityCompensationModel\Link4\Hin[3,3]</VariableName>
        <Value>0.855637481666926</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>YouBot_control\GravityCompensationModel\Link4\Hin[1,2]</VariableName>
        <Value>-0.600972659678531</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\GravityCompensationModel\Link4\Hin[2,2]</VariableName>
        <Value>-0.799269580503921</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\GravityCompensationModel\Link4\Hin[3,2]</VariableName>
        <Value>-5.55111512312578e-017</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>true</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.055</Value>
      </X>
      <Y>
       <Value>0.1</Value>
      </Y>
      <Z>
       <Value>0.137</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>0.501960784313725</Value>
      </X>
      <Y>
       <Value>0.501960784313725</Value>
      </Y>
      <Z>
       <Value>0.501960784313725</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Link5</Name>
     <Position>
      <X>
       <VariableName>YouBot_control\GravityCompensationModel\Link5\Hin[1,4]</VariableName>
       <Value>-0.0834338452468673</Value>
      </X>
      <Y>
       <VariableName>YouBot_control\GravityCompensationModel\Link5\Hin[2,4]</VariableName>
       <Value>0.0807797585350301</Value>
      </Y>
      <Z>
       <VariableName>YouBot_control\GravityCompensationModel\Link5\Hin[3,4]</VariableName>
       <Value>0.288880377204305</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>YouBot_control\GravityCompensationModel\Link5\Hin[1,3]</VariableName>
        <Value>-0.413682431340861</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\GravityCompensationModel\Link5\Hin[2,3]</VariableName>
        <Value>0.31104878390149</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\GravityCompensationModel\Link5\Hin[3,3]</VariableName>
        <Value>0.855637481666926</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>YouBot_control\GravityCompensationModel\Link5\Hin[1,2]</VariableName>
        <Value>0.89059612590324</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\GravityCompensationModel\Link5\Hin[2,2]</VariableName>
        <Value>0.333320082750723</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\GravityCompensationModel\Link5\Hin[3,2]</VariableName>
        <Value>0.309412771166919</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
        </Childs>
       </Frame>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>true</ShowReferenceFrame>
        <Name>Control</Name>
        <Position>
         <Z>
     <Value>1</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
         <Sphere>
     <InsideOutside>0</InsideOutside>
     <Accuracy>30</Accuracy>
     <SphereAdvanced>false</SphereAdvanced>
     <ScaleValue>
      <X>
       <Value>0.1</Value>
      </X>
      <Y>
       <Value>0.1</Value>
      </Y>
      <Z>
       <Value>0.1</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>H10</Name>
     <Position>
      <X>
       <VariableName>YouBot_control\CalculateJ\H10[1,4]</VariableName>
       <Value>0.152182216092909</Value>
      </X>
      <Y>
       <VariableName>YouBot_control\CalculateJ\H10[2,4]</VariableName>
       <Value>0.0997127381020277</Value>
      </Y>
      <Z>
       <VariableName>YouBot_control\CalculateJ\H10[3,4]</VariableName>
       <Value>0.142</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H10[1,3]</VariableName>
        <Value>1</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H10[2,3]</VariableName>
        <Value>0</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H10[3,3]</VariableName>
        <Value>0</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H10[1,2]</VariableName>
        <Value>-0</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H10[2,2]</VariableName>
        <Value>1</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H10[3,2]</VariableName>
        <Value>0</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Sphere>
         <Sphere>
     <InsideOutside>0</InsideOutside>
     <Accuracy>30</Accuracy>
     <SphereAdvanced>false</SphereAdvanced>
     <ScaleValue>
      <X>
       <Value>0.1</Value>
      </X>
      <Y>
       <Value>0.1</Value>
      </Y>
      <Z>
       <Value>0.1</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>H20</Name>
     <Position>
      <X>
       <VariableName>YouBot_control\CalculateJ\H20[1,4]</VariableName>
       <Value>0.126134165414493</Value>
      </X>
      <Y>
       <VariableName>YouBot_control\CalculateJ\H20[2,4]</VariableName>
       <Value>0.119973514391565</Value>
      </Y>
      <Z>
       <VariableName>YouBot_control\CalculateJ\H20[3,4]</VariableName>
       <Value>0.161</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H20[1,3]</VariableName>
        <Value>1</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H20[2,3]</VariableName>
        <Value>0</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H20[3,3]</VariableName>
        <Value>0</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H20[1,2]</VariableName>
        <Value>-0</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H20[2,2]</VariableName>
        <Value>1</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H20[3,2]</VariableName>
        <Value>0</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Sphere>
         <Sphere>
     <InsideOutside>0</InsideOutside>
     <Accuracy>30</Accuracy>
     <SphereAdvanced>false</SphereAdvanced>
     <ScaleValue>
      <X>
       <Value>0.1</Value>
      </X>
      <Y>
       <Value>0.1</Value>
      </Y>
      <Z>
       <Value>0.1</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>H30</Name>
     <Position>
      <X>
       <VariableName>YouBot_control\CalculateJ\H30[1,4]</VariableName>
       <Value>0.186243537958642</Value>
      </X>
      <Y>
       <VariableName>YouBot_control\CalculateJ\H30[2,4]</VariableName>
       <Value>0.0732190541420465</Value>
      </Y>
      <Z>
       <VariableName>YouBot_control\CalculateJ\H30[3,4]</VariableName>
       <Value>0.296003273216337</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H30[1,3]</VariableName>
        <Value>1</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H30[2,3]</VariableName>
        <Value>0</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H30[3,3]</VariableName>
        <Value>0</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H30[1,2]</VariableName>
        <Value>-0</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H30[2,2]</VariableName>
        <Value>1</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H30[3,2]</VariableName>
        <Value>0</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Sphere>
         <Sphere>
     <InsideOutside>0</InsideOutside>
     <Accuracy>30</Accuracy>
     <SphereAdvanced>false</SphereAdvanced>
     <ScaleValue>
      <X>
       <Value>0.1</Value>
      </X>
      <Y>
       <Value>0.1</Value>
      </Y>
      <Z>
       <Value>0.1</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>H40</Name>
     <Position>
      <X>
       <VariableName>YouBot_control\CalculateJ\H40[1,4]</VariableName>
       <Value>0.0853036302354278</Value>
      </X>
      <Y>
       <VariableName>YouBot_control\CalculateJ\H40[2,4]</VariableName>
       <Value>0.15173244903348</Value>
      </Y>
      <Z>
       <VariableName>YouBot_control\CalculateJ\H40[3,4]</VariableName>
       <Value>0.25273917896428</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H40[1,3]</VariableName>
        <Value>1</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H40[2,3]</VariableName>
        <Value>0</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H40[3,3]</VariableName>
        <Value>0</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H40[1,2]</VariableName>
        <Value>-0</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H40[2,2]</VariableName>
        <Value>1</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H40[3,2]</VariableName>
        <Value>0</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Sphere>
         <Sphere>
     <InsideOutside>0</InsideOutside>
     <Accuracy>30</Accuracy>
     <SphereAdvanced>false</SphereAdvanced>
     <ScaleValue>
      <X>
       <Value>0.1</Value>
      </X>
      <Y>
       <Value>0.1</Value>
      </Y>
      <Z>
       <Value>0.1</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>H50</Name>
     <Position>
      <X>
       <VariableName>YouBot_control\CalculateJ\H50[1,4]</VariableName>
       <Value>0.0460837453926389</Value>
      </X>
      <Y>
       <VariableName>YouBot_control\CalculateJ\H50[2,4]</VariableName>
       <Value>0.182238582590706</Value>
      </Y>
      <Z>
       <VariableName>YouBot_control\CalculateJ\H50[3,4]</VariableName>
       <Value>0.334880377204305</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H50[1,3]</VariableName>
        <Value>1</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H50[2,3]</VariableName>
        <Value>0</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H50[3,3]</VariableName>
        <Value>0</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H50[1,2]</VariableName>
        <Value>-0</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H50[2,2]</VariableName>
        <Value>1</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\KinematicMap\CalculateJ\H50[3,2]</VariableName>
        <Value>0</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Sphere>
         <Sphere>
     <InsideOutside>0</InsideOutside>
     <Accuracy>30</Accuracy>
     <SphereAdvanced>false</SphereAdvanced>
     <ScaleValue>
      <X>
       <Value>0.1</Value>
      </X>
      <Y>
       <Value>0.1</Value>
      </Y>
      <Z>
       <Value>0.1</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>0</Value>
      </Y>
      <Z>
       <Value>0</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Htip0</Name>
     <Position>
      <X>
       <VariableName>YouBot_control\CalculateJ\Htip0[1,4]</VariableName>
       <Value>0.0321933695108178</Value>
      </X>
      <Y>
       <VariableName>YouBot_control\CalculateJ\Htip0[2,4]</VariableName>
       <Value>0.193042838225557</Value>
      </Y>
      <Z>
       <VariableName>YouBot_control\CalculateJ\Htip0[3,4]</VariableName>
       <Value>0.36397205158098</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>YouBot_control\CalculateJ\Htip0[1,3]</VariableName>
        <Value>-0.408540467112385</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\CalculateJ\Htip0[2,3]</VariableName>
        <Value>0.317772224554437</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\CalculateJ\Htip0[3,3]</VariableName>
        <Value>0.855637481666926</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>YouBot_control\CalculateJ\Htip0[1,2]</VariableName>
        <Value>0.895927885733533</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\CalculateJ\Htip0[2,2]</VariableName>
        <Value>0.31871140645394</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\CalculateJ\Htip0[3,2]</VariableName>
        <Value>0.309412771166919</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Sphere>
         <Frame>
     <ScaleValue>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </ScaleValue>
     <ShowReferenceFrame>true</ShowReferenceFrame>
     <Name>Reference Frame</Name>
     <Position>
      <X>
       <VariableName>YouBot_control\CartesianSpaceStiffness\Hvp0[1,4]</VariableName>
       <Value>0.00302774181766804</Value>
      </X>
      <Y>
       <VariableName>YouBot_control\CartesianSpaceStiffness\Hvp0[2,4]</VariableName>
       <Value>1.01478073119889</Value>
      </Y>
      <Z>
       <VariableName>YouBot_control\CartesianSpaceStiffness\Hvp0[3,4]</VariableName>
       <Value>0.3910751762139</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>YouBot_control\CartesianSpaceStiffness\Hvp0[1,3]</VariableName>
        <Value>0</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\CartesianSpaceStiffness\Hvp0[2,3]</VariableName>
        <Value>0</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\CartesianSpaceStiffness\Hvp0[3,3]</VariableName>
        <Value>1</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>YouBot_control\CartesianSpaceStiffness\Hvp0[1,2]</VariableName>
        <Value>-0.0446093103144971</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\CartesianSpaceStiffness\Hvp0[2,2]</VariableName>
        <Value>0.999004509215682</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\CartesianSpaceStiffness\Hvp0[3,2]</VariableName>
        <Value>0</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Frame>
         <Sphere>
     <InsideOutside>0</InsideOutside>
     <Accuracy>30</Accuracy>
     <SphereAdvanced>false</SphereAdvanced>
     <ScaleValue>
      <X>
       <Value>0.1</Value>
      </X>
      <Y>
       <Value>0.1</Value>
      </Y>
      <Z>
       <Value>0.1</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>true</ShowReferenceFrame>
     <Name>Sphere</Name>
     <Position>
      <X>
       <VariableName>YouBot_control\Integrate\H[1,4]</VariableName>
       <Value>0.151358296128136</Value>
      </X>
      <Y>
       <VariableName>YouBot_control\Integrate\H[2,4]</VariableName>
       <Value>0.174076317929015</Value>
      </Y>
      <Z>
       <VariableName>YouBot_control\Integrate\H[3,4]</VariableName>
       <Value>0.390031568881551</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>YouBot_control\Integrate\H[1,3]</VariableName>
        <Value>-0.0147177842709518</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\Integrate\H[2,3]</VariableName>
        <Value>0.0573033114390806</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\Integrate\H[3,3]</VariableName>
        <Value>0.998248324478569</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>YouBot_control\Integrate\H[1,2]</VariableName>
        <Value>-0.0269340778861339</Value>
       </X>
       <Y>
        <VariableName>YouBot_control\Integrate\H[2,2]</VariableName>
        <Value>0.997971468078028</Value>
       </Y>
       <Z>
        <VariableName>YouBot_control\Integrate\H[3,2]</VariableName>
        <Value>-0.0576845243597432</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Sphere>
        </Childs>
       </Frame>
       <Frame>
        <ScaleValue>
         <X>
     <Value>1</Value>
         </X>
         <Y>
     <Value>1</Value>
         </Y>
         <Z>
     <Value>1</Value>
         </Z>
        </ScaleValue>
        <ShowReferenceFrame>true</ShowReferenceFrame>
        <Name>Gravity Imitation</Name>
        <Position>
         <X>
     <Value>1</Value>
         </X>
         <Z>
     <Value>2</Value>
         </Z>
        </Position>
        <Orientation>
         <Angles>
         </Angles>
         <OrientationType>Bryant</OrientationType>
        </Orientation>
        <LockX>false</LockX>
        <LockY>false</LockY>
        <LockZ>false</LockZ>
        <LockXPitch>false</LockXPitch>
        <LockYYaw>false</LockYYaw>
        <LockZRoll>false</LockZRoll>
        <Childs>
         <Cylinder>
     <CircleElements>16</CircleElements>
     <LowerRadius>0.09</LowerRadius>
     <UpperRadius>0.09</UpperRadius>
     <Height>1</Height>
     <Closed>true</Closed>
     <LowerClosed>true</LowerClosed>
     <UpperClosed>true</UpperClosed>
     <CenterInOrigin>false</CenterInOrigin>
     <ShowInnerSide>false</ShowInnerSide>
     <ShowOuterSide>true</ShowOuterSide>
     <ScaleValue>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>0.075</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>0.552941176470588</Value>
      </Y>
      <Z>
       <Value>0.109803921568627</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Link1</Name>
     <Position>
      <X>
       <VariableName>Submodel7\GravityImitation\Link1\Hin[1,4]</VariableName>
       <Value>0.024</Value>
      </X>
      <Y>
       <VariableName>Submodel7\GravityImitation\Link1\Hin[2,4]</VariableName>
       <Value>0</Value>
      </Y>
      <Z>
       <VariableName>Submodel7\GravityImitation\Link1\Hin[3,4]</VariableName>
       <Value>0.096</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>Submodel7\GravityImitation\Link1\Hin[1,3]</VariableName>
        <Value>0</Value>
       </X>
       <Y>
        <VariableName>Submodel7\GravityImitation\Link1\Hin[2,3]</VariableName>
        <Value>0</Value>
       </Y>
       <Z>
        <VariableName>Submodel7\GravityImitation\Link1\Hin[3,3]</VariableName>
        <Value>1</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>Submodel7\GravityImitation\Link1\Hin[1,2]</VariableName>
        <Value>-0.600972659678539</Value>
       </X>
       <Y>
        <VariableName>Submodel7\GravityImitation\Link1\Hin[2,2]</VariableName>
        <Value>-0.799269580503914</Value>
       </Y>
       <Z>
        <VariableName>Submodel7\GravityImitation\Link1\Hin[3,2]</VariableName>
        <Value>0</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cylinder>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>true</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.055</Value>
      </X>
      <Y>
       <Value>0.09</Value>
      </Y>
      <Z>
       <Value>0.135</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>0.552941176470588</Value>
      </Y>
      <Z>
       <Value>0.109803921568627</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Link3</Name>
     <Position>
      <X>
       <VariableName>Submodel7\GravityImitation\Link3\Hin[1,4]</VariableName>
       <Value>0.0584900238247967</Value>
      </X>
      <Y>
       <VariableName>Submodel7\GravityImitation\Link3\Hin[2,4]</VariableName>
       <Value>-0.0259331292669691</Value>
      </Y>
      <Z>
       <VariableName>Submodel7\GravityImitation\Link3\Hin[3,4]</VariableName>
       <Value>0.250003273216337</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>Submodel7\GravityImitation\Link3\Hin[1,3]</VariableName>
        <Value>-0.757113745651413</Value>
       </X>
       <Y>
        <VariableName>Submodel7\GravityImitation\Link3\Hin[2,3]</VariableName>
        <Value>0.569275589240422</Value>
       </Y>
       <Z>
        <VariableName>Submodel7\GravityImitation\Link3\Hin[3,3]</VariableName>
        <Value>-0.320474772237469</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>Submodel7\GravityImitation\Link3\Hin[1,2]</VariableName>
        <Value>-0.600972659678539</Value>
       </X>
       <Y>
        <VariableName>Submodel7\GravityImitation\Link3\Hin[2,2]</VariableName>
        <Value>-0.799269580503914</Value>
       </Y>
       <Z>
        <VariableName>Submodel7\GravityImitation\Link3\Hin[3,2]</VariableName>
        <Value>0</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>true</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.055</Value>
      </X>
      <Y>
       <Value>0.09</Value>
      </Y>
      <Z>
       <Value>0.155</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>0.552941176470588</Value>
      </Y>
      <Z>
       <Value>0.109803921568627</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.498039215686275</Value>
      </X>
      <Y>
       <Value>0.498039215686275</Value>
      </Y>
      <Z>
       <Value>0.498039215686275</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>14.298713684082</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Link2</Name>
     <Position>
      <X>
       <VariableName>Submodel7\GravityImitation\Link2\Hin[1,4]</VariableName>
       <Value>-0.00237589615662918</Value>
      </X>
      <Y>
       <VariableName>Submodel7\GravityImitation\Link2\Hin[2,4]</VariableName>
       <Value>0.0198320977693918</Value>
      </Y>
      <Z>
       <VariableName>Submodel7\GravityImitation\Link2\Hin[3,4]</VariableName>
       <Value>0.115</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>Submodel7\GravityImitation\Link2\Hin[1,3]</VariableName>
        <Value>0.392683354718876</Value>
       </X>
       <Y>
        <VariableName>Submodel7\GravityImitation\Link2\Hin[2,3]</VariableName>
        <Value>-0.295259529266845</Value>
       </Y>
       <Z>
        <VariableName>Submodel7\GravityImitation\Link2\Hin[3,3]</VariableName>
        <Value>0.870988859460241</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>Submodel7\GravityImitation\Link2\Hin[1,2]</VariableName>
        <Value>-0.600972659678539</Value>
       </X>
       <Y>
        <VariableName>Submodel7\GravityImitation\Link2\Hin[2,2]</VariableName>
        <Value>-0.799269580503914</Value>
       </Y>
       <Z>
        <VariableName>Submodel7\GravityImitation\Link2\Hin[3,2]</VariableName>
        <Value>-2.77555756156289e-017</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>true</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.055</Value>
      </X>
      <Y>
       <Value>0.1</Value>
      </Y>
      <Z>
       <Value>0.081</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>0.552941176470588</Value>
      </Y>
      <Z>
       <Value>0.109803921568627</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Link4</Name>
     <Position>
      <X>
       <VariableName>Submodel7\GravityImitation\Link4\Hin[1,4]</VariableName>
       <Value>-0.0437203318381442</Value>
      </X>
      <Y>
       <VariableName>Submodel7\GravityImitation\Link4\Hin[2,4]</VariableName>
       <Value>0.0509190752804878</Value>
      </Y>
      <Z>
       <VariableName>Submodel7\GravityImitation\Link4\Hin[3,4]</VariableName>
       <Value>0.206739178964279</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>Submodel7\GravityImitation\Link4\Hin[1,3]</VariableName>
        <Value>-0.413682431340867</Value>
       </X>
       <Y>
        <VariableName>Submodel7\GravityImitation\Link4\Hin[2,3]</VariableName>
        <Value>0.311048783901501</Value>
       </Y>
       <Z>
        <VariableName>Submodel7\GravityImitation\Link4\Hin[3,3]</VariableName>
        <Value>0.855637481666919</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>Submodel7\GravityImitation\Link4\Hin[1,2]</VariableName>
        <Value>-0.600972659678539</Value>
       </X>
       <Y>
        <VariableName>Submodel7\GravityImitation\Link4\Hin[2,2]</VariableName>
        <Value>-0.799269580503914</Value>
       </Y>
       <Z>
        <VariableName>Submodel7\GravityImitation\Link4\Hin[3,2]</VariableName>
        <Value>2.77555756156289e-017</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
         <Cube>
     <Center>Bottom</Center>
     <RibLength>1</RibLength>
     <ShowInnerSide>true</ShowInnerSide>
     <Accuracy>4</Accuracy>
     <ScaleValue>
      <X>
       <Value>0.055</Value>
      </X>
      <Y>
       <Value>0.1</Value>
      </Y>
      <Z>
       <Value>0.137</Value>
      </Z>
     </ScaleValue>
     <OverrideColor>true</OverrideColor>
     <MeshColor>
      <X>
       <Value>0.501960784313725</Value>
      </X>
      <Y>
       <Value>0.501960784313725</Value>
      </Y>
      <Z>
       <Value>0.501960784313725</Value>
      </Z>
     </MeshColor>
     <Alpha>1</Alpha>
     <MeshColorMultipliers>
      <X>
       <Value>1</Value>
      </X>
      <Y>
       <Value>1</Value>
      </Y>
      <Z>
       <Value>1</Value>
      </Z>
     </MeshColorMultipliers>
     <MeshColorOffsets>
     </MeshColorOffsets>
     <Direct3DColorRange>true</Direct3DColorRange>
     <SpecularColor>
      <X>
       <Value>0.5</Value>
      </X>
      <Y>
       <Value>0.5</Value>
      </Y>
      <Z>
       <Value>0.5</Value>
      </Z>
     </SpecularColor>
     <EmissiveColor>
     </EmissiveColor>
     <ShininessPower>
      <Value>15</Value>
     </ShininessPower>
     <OverrideQuality>false</OverrideQuality>
     <ShowReferenceFrame>false</ShowReferenceFrame>
     <Name>Link5</Name>
     <Position>
      <X>
       <VariableName>Submodel7\GravityImitation\Link5\Hin[1,4]</VariableName>
       <Value>-0.0834338452468674</Value>
      </X>
      <Y>
       <VariableName>Submodel7\GravityImitation\Link5\Hin[2,4]</VariableName>
       <Value>0.0807797585350319</Value>
      </Y>
      <Z>
       <VariableName>Submodel7\GravityImitation\Link5\Hin[3,4]</VariableName>
       <Value>0.288880377204303</Value>
      </Z>
     </Position>
     <Orientation>
      <ZAxis>
       <X>
        <VariableName>Submodel7\GravityImitation\Link5\Hin[1,3]</VariableName>
        <Value>-0.413682431340867</Value>
       </X>
       <Y>
        <VariableName>Submodel7\GravityImitation\Link5\Hin[2,3]</VariableName>
        <Value>0.311048783901501</Value>
       </Y>
       <Z>
        <VariableName>Submodel7\GravityImitation\Link5\Hin[3,3]</VariableName>
        <Value>0.855637481666919</Value>
       </Z>
      </ZAxis>
      <YAxis>
       <X>
        <VariableName>Submodel7\GravityImitation\Link5\Hin[1,2]</VariableName>
        <Value>0.89059612590324</Value>
       </X>
       <Y>
        <VariableName>Submodel7\GravityImitation\Link5\Hin[2,2]</VariableName>
        <Value>0.333320082750717</Value>
       </Y>
       <Z>
        <VariableName>Submodel7\GravityImitation\Link5\Hin[3,2]</VariableName>
        <Value>0.309412771166926</Value>
       </Z>
      </YAxis>
      <OrientationType>Matrix</OrientationType>
     </Orientation>
     <LockX>false</LockX>
     <LockY>false</LockY>
     <LockZ>false</LockZ>
     <LockXPitch>false</LockXPitch>
     <LockYYaw>false</LockYYaw>
     <LockZRoll>false</LockZRoll>
     <Childs>
     </Childs>
         </Cube>
        </Childs>
       </Frame>
      </Childs>
     </Frame>
         </Childs>
        </Frame>
       </Childs>
      </Frame>
     </MainFrame>
    </Plot>
    <Plot>
     <PlotType>GraphPlot</PlotType>
     <BasePlot>
       <UseWindowsBGColor>true</UseWindowsBGColor>
       <BGColor>13160660</BGColor>
     </BasePlot>
     <Grid>
      <DrawGrid>true</DrawGrid>
      <GridColor>15780518</GridColor>
      <XTicks>10</XTicks>
      <YTicks>10</YTicks>
      <ZTicks>10</ZTicks>
      <Use3DLook>false</Use3DLook>
     </Grid>
     <PlotBGColor>16777215</PlotBGColor>
     <ShowPlotTitle>true</ShowPlotTitle>
     <TitlePosition>1</TitlePosition>
     <PlotTitle>model</PlotTitle>
     <ShowXValues>true</ShowXValues>
     <Fonts>
      <TitleFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </TitleFont>
      <LabelFont>
       <Name>Arial</Name>
       <Height>12</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </LabelFont>
      <ValuesFont>
       <Name>Arial</Name>
       <Height>10</Height>
       <PitchFamily>34</PitchFamily>
       <Weight>400</Weight>
       <Italic>0</Italic>
       <UnderLine>0</UnderLine>
       <StrikeOut>0</StrikeOut>
       <Color>0</Color>
      </ValuesFont>
     </Fonts>
     <SharedXAxis>true</SharedXAxis>
     <SharedYAxis>true</SharedYAxis>
     <SharedZAxis>false</SharedZAxis>
     <XAxes>
      <Axis>
       <Minimum>0</Minimum>
       <Maximum>50.9062599679255</Maximum>
       <Linear>true</Linear>
       <Scaling>3</Scaling>
       <Label>time</Label>
      </Axis>
     </XAxes>
     <YAxes>
      <Axis>
       <Minimum>-1</Minimum>
       <Maximum>9</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>V_e</Label>
      </Axis>
      <Axis>
       <Minimum>-0.001</Minimum>
       <Maximum>0.009</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>V_ref</Label>
      </Axis>
      <Axis>
       <Minimum>-0.001</Minimum>
       <Maximum>0.009</Maximum>
       <Linear>true</Linear>
       <Scaling>1</Scaling>
       <Label>V_robot</Label>
      </Axis>
     </YAxes>
     <ZAxes>
     </ZAxes>
     <Curves>
      <Curve>
       <LineColor>16711935</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>16711935</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>YouBot_control\Spatial_Error\V</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>255</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>255</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>YouBot_control\C\V</VarName>
       </YCurveData>
      </Curve>
      <Curve>
       <LineColor>65280</LineColor>
       <LineStyle>1</LineStyle>
       <TickColor>65280</TickColor>
       <TickStyle>0</TickStyle>
       <PixelThresshold>1</PixelThresshold>
       <LineThickness>1</LineThickness>
       <LineOrder>1</LineOrder>
       <ShowYValues>true</ShowYValues>
       <XCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>time</VarName>
       </XCurveData>
       <YCurveData>
        <ShowUnit>true</ShowUnit>
        <VarName>YouBot_control\CartesianSpaceStiffness\V</VarName>
       </YCurveData>
      </Curve>
     </Curves>
     <Legenda>
      <ShowLegenda>true</ShowLegenda>
     </Legenda>
     <StripChartPlots>
      <DistributState>2</DistributState>
      <StripChartPlot>
       <Legenda>
        <ShowLegenda>true</ShowLegenda>
       </Legenda>
      </StripChartPlot>
      <StripChartPlot>
       <Legenda>
        <ShowLegenda>true</ShowLegenda>
       </Legenda>
      </StripChartPlot>
      <StripChartPlot>
       <Legenda>
        <ShowLegenda>true</ShowLegenda>
       </Legenda>
      </StripChartPlot>
     </StripChartPlots>
    </Plot>
   </Plots>
   <WindowRectangles virtualDesktopWidth="1680" virtualDesktopHeight="1028">
     <WindowRectangle monitor="0" left="0" top="0" right="1680" bottom="1028">
0.0125 0.140078 0.396429 1
     </WindowRectangle>
     <WindowRectangle monitor="0" left="0" top="0" right="1680" bottom="1028">
0.377381 0.0963035 0.975 0.893969
     </WindowRectangle>
     <WindowRectangle monitor="0" left="0" top="0" right="1680" bottom="1028">
0.30119 0.0525292 0.935714 0.921206
     </WindowRectangle>
   </WindowRectangles>
  </PlotSpecs>
  <RunSpecs>
   <SimulatorSettings>
    <StartTime>0</StartTime>
    <FinishTime>500</FinishTime>
    <Warp>false</Warp>
    <UseOutputAfterEach>false</UseOutputAfterEach>
    <OutputAfterEach>0.1</OutputAfterEach>
    <EventEpsilon>1e-006</EventEpsilon>
    <AlgebraicTolerance>1e-007</AlgebraicTolerance>
    <SteadyStateAnalysis>false</SteadyStateAnalysis>
    <UpdateHoldInstructions>false</UpdateHoldInstructions>
   </SimulatorSettings>
   <IntegrationMethods>
    <IntegrationMethod>
     <Name>Euler</Name>
     <StepSize>0.01</StepSize>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>BackwardEuler</Name>
     <AbsoluteTolerance>1e-005</AbsoluteTolerance>
     <RelativeTolerance>1e-005</RelativeTolerance>
     <AlgebraicAbsoluteTolerance>1e-005</AlgebraicAbsoluteTolerance>
     <AlgebraicRelativeTolerance>1e-005</AlgebraicRelativeTolerance>
     <StepSize>0.01</StepSize>
     <Alpha>1</Alpha>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>AdamsBashforth</Name>
     <StepSize>0.01</StepSize>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>RungeKutta2</Name>
     <StepSize>0.01</StepSize>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>RungeKutta4</Name>
     <StepSize>0.001</StepSize>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>RungeKutta8</Name>
     <UseInitialStepSize>false</UseInitialStepSize>
     <InitialStepSize>0</InitialStepSize>
     <UseMaximumStepSize>false</UseMaximumStepSize>
     <MaximumStepSize>0</MaximumStepSize>
     <AbsoluteTolerance>1e-006</AbsoluteTolerance>
     <RelativeTolerance>1e-006</RelativeTolerance>
     <SafetyFactor>0.9</SafetyFactor>
     <Factor1>0.33</Factor1>
     <Factor2>6</Factor2>
     <Beta>0</Beta>
     <UseMaxNrSteps>false</UseMaxNrSteps>
     <MaxNrSteps>100000</MaxNrSteps>
     <UseStiffDetection>false</UseStiffDetection>
     <MaxNrStiffnessSteps>1000</MaxNrStiffnessSteps>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>RungeKuttaFehlberg</Name>
     <UseInitialStepSize>false</UseInitialStepSize>
     <InitialStepSize>0</InitialStepSize>
     <UseMaximumStepSize>false</UseMaximumStepSize>
     <MaximumStepSize>0</MaximumStepSize>
     <AbsoluteTolerance>1e-006</AbsoluteTolerance>
     <RelativeTolerance>1e-006</RelativeTolerance>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>VodeAdams</Name>
     <UseInitialStepSize>false</UseInitialStepSize>
     <InitialStepSize>0</InitialStepSize>
     <UseMaximumStepSize>false</UseMaximumStepSize>
     <MaximumStepSize>0</MaximumStepSize>
     <AbsoluteTolerance>1e-006</AbsoluteTolerance>
     <RelativeTolerance>1e-006</RelativeTolerance>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>BDFMethod</Name>
     <AbsoluteTolerance>1e-005</AbsoluteTolerance>
     <RelativeTolerance>1e-005</RelativeTolerance>
     <AlgebraicAbsoluteTolerance>1e-005</AlgebraicAbsoluteTolerance>
     <AlgebraicRelativeTolerance>1e-005</AlgebraicRelativeTolerance>
     <UseInitialStepSize>false</UseInitialStepSize>
     <InitialStepSize>0</InitialStepSize>
     <UseMaximumStepSize>false</UseMaximumStepSize>
     <MaximumStepSize>0</MaximumStepSize>
     <UseFixedStepSize>false</UseFixedStepSize>
     <FixedStepSize>0</FixedStepSize>
    </IntegrationMethod>
    <IntegrationMethod>
     <Name>MeBDFiMethod</Name>
     <AbsoluteTolerance>1e-005</AbsoluteTolerance>
     <RelativeTolerance>1e-005</RelativeTolerance>
     <AlgebraicAbsoluteTolerance>1e-005</AlgebraicAbsoluteTolerance>
     <AlgebraicRelativeTolerance>1e-005</AlgebraicRelativeTolerance>
     <UseInitialStepSize>false</UseInitialStepSize>
     <InitialStepSize>0</InitialStepSize>
     <UseMaximumStepSize>false</UseMaximumStepSize>
     <MaximumStepSize>0</MaximumStepSize>
     <UseFixedStepSize>false</UseFixedStepSize>
     <FixedStepSize>0</FixedStepSize>
    </IntegrationMethod>
    <SelectedIntegrationMethod>4</SelectedIntegrationMethod>
   </IntegrationMethods>
  </RunSpecs>
  <MultipleRun>
   <NrSteps>20</NrSteps>
   <CopyFromStates>false</CopyFromStates>
   <JoinParameterVariation>true</JoinParameterVariation>
   <ClearAfterRun>false</ClearAfterRun>
   <RedrawAfterRun>false</RedrawAfterRun>
   <DrawDuringSimulation>true</DrawDuringSimulation>
   <ActionBeforeOptimization>0</ActionBeforeOptimization>
   <CompareValue>0</CompareValue>
   <UseCompareValue>true</UseCompareValue>
   <MultipleRunType>MultipleRun</MultipleRunType>
   <Minimize>true</Minimize>
   <OptimizationVariable>YouBot_control\Spatial_Error\d</OptimizationVariable>
   <ResulVarUsage>UseEndValue</ResulVarUsage>
   <Tolerance>0.001</Tolerance>
   <OptimizationMethod>BroydonFletcherGoldfarbShanno</OptimizationMethod>
   <MultipleRunVariables>
     <MultipleRunVariable>
       <Name>YouBot_control\R\k</Name>
       <Minimum>1</Minimum>
       <Maximum>200</Maximum>
       <SweepMethod>Linear</SweepMethod>
       <Distribution>Uniform</Distribution>
       <Mean>50</Mean>
       <Deviation>1</Deviation>
       <TolerancePercentage>1</TolerancePercentage>
       <Nominal>50</Nominal>
     </MultipleRunVariable>
   </MultipleRunVariables>
  </MultipleRun>
  <ExportData>
   <WriteAsText>true</WriteAsText>
   <ReadAsText>true</ReadAsText>
   <WriteHeader>true</WriteHeader>
   <ReadHeader>true</ReadHeader>
   <ReadFilename></ReadFilename>
   <WriteFilename></WriteFilename>
   <DoWrite>false</DoWrite>
   <ExportVariables>
   </ExportVariables>
   <ImportVariables>
   </ImportVariables>
  </ExportData>
  <BreakPoints>
  </BreakPoints>
  <AnimationPlayback>
   <PlaybackSpeed>1</PlaybackSpeed>
  </AnimationPlayback>
</ExpData>
  </Experiment>
</Experiments>
</Document>
